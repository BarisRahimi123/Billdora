const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoginPage-CfP3TPu5.js","assets/proxy-DmwCeW0R.js","assets/arrow-right-DQ-g_Ve4.js","assets/DashboardPage-C3PbyGr2.js","assets/dollar-sign-BJ4HlS3G.js","assets/trending-up-DVX8yDTI.js","assets/briefcase-DnD3caUK.js","assets/Skeleton-Bj9odQ91.js","assets/circle-check-big-MRVZ-RPi.js","assets/circle-x-BCRXK948.js","assets/plus-Cc9viI_9.js","assets/square-check-big-BWbuJq11.js","assets/SalesPage-BFZHNkVw.js","assets/notificationService-B1SYEby2.js","assets/filter-BMiTUxlM.js","assets/list-1RPQtlIk.js","assets/download-Cp7wDf8i.js","assets/user-CZ67ywrz.js","assets/send-BkWY-g_K.js","assets/pen-CRU9Ob9s.js","assets/trash-2-BTDZQ0sr.js","assets/eye-B-Aa93c8.js","assets/ellipsis-J9qEltJF.js","assets/printer-DVVKL3Sk.js","assets/tag-T_UENNTI.js","assets/arrow-left-B-MeGkYa.js","assets/link-2-BlWM4RLh.js","assets/ProjectsPage-g7m25ces.js","assets/ellipsis-vertical-BYapz3Vx.js","assets/user-plus-CW6xed8m.js","assets/TimeExpensePage-ilcgOWyz.js","assets/receipt-C29vEswo.js","assets/chevron-left-W7adyrwc.js","assets/save-39zNnYrE.js","assets/upload-zI2j-Loe.js","assets/InvoicingPage-DQIWY6US.js","assets/credit-card-RoTXUbpT.js","assets/mail-BRnkEF10.js","assets/ResourcingPage-C75KDtq6.js","assets/user-x-D749aq_z.js","assets/phone-1mUbMyd5.js","assets/circle-check-BQOBEL8q.js","assets/AnalyticsPage-DBAUPfb4.js","assets/ReportsPage-KlMZh-11.js","assets/building-2-BmpE-yMN.js","assets/folder-open-BjgsrvTf.js","assets/SettingsPage-CDhXHuEY.js","assets/package-BOqzLe_o.js","assets/shield-Bo-YL6Qg.js","assets/QuoteDocumentPage-BqrtHI2t.js","assets/clipboard-list-CMwZlPlH.js","assets/image-DfWkC_As.js","assets/ProposalPortalPage-BZpA1_be.js","assets/InvoiceViewPage-Dx7i-kGr.js","assets/ClientPortalPage-DoZOinFR.js","assets/CompanyExpensesPage-DQUPzpcn.js","assets/trending-down-BO9MMAb0.js","assets/BankStatementsPage-4l58XwGG.js","assets/FinancialsPage-Dbm3O4jV.js","assets/ReceiptsPage-CWEfIjVc.js","assets/NotificationsPage-CQfwZd6o.js","assets/rocket-CRyWayyC.js","assets/LandingPage-l1Y5iwRe.js"])))=>i.map(i=>d[i]);
var e_=Object.defineProperty;var t_=(n,e,t)=>e in n?e_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Tu=(n,e,t)=>t_(n,typeof e!="symbol"?e+"":e,t);function n_(n,e){for(var t=0;t<e.length;t++){const a=e[t];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(a,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function r_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ru={exports:{}},Vs={},Lu={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lm;function a_(){if(lm)return Se;lm=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function _(O){return O===null||typeof O!="object"?null:(O=v&&O[v]||O["@@iterator"],typeof O=="function"?O:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,S={};function w(O,M,me){this.props=O,this.context=M,this.refs=S,this.updater=me||b}w.prototype.isReactComponent={},w.prototype.setState=function(O,M){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,M,"setState")},w.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function A(){}A.prototype=w.prototype;function R(O,M,me){this.props=O,this.context=M,this.refs=S,this.updater=me||b}var N=R.prototype=new A;N.constructor=R,E(N,w.prototype),N.isPureReactComponent=!0;var B=Array.isArray,U=Object.prototype.hasOwnProperty,K={current:null},Q={key:!0,ref:!0,__self:!0,__source:!0};function F(O,M,me){var ge,ke={},be=null,je=null;if(M!=null)for(ge in M.ref!==void 0&&(je=M.ref),M.key!==void 0&&(be=""+M.key),M)U.call(M,ge)&&!Q.hasOwnProperty(ge)&&(ke[ge]=M[ge]);var Re=arguments.length-2;if(Re===1)ke.children=me;else if(1<Re){for(var Ie=Array(Re),Je=0;Je<Re;Je++)Ie[Je]=arguments[Je+2];ke.children=Ie}if(O&&O.defaultProps)for(ge in Re=O.defaultProps,Re)ke[ge]===void 0&&(ke[ge]=Re[ge]);return{$$typeof:n,type:O,key:be,ref:je,props:ke,_owner:K.current}}function X(O,M){return{$$typeof:n,type:O.type,key:M,ref:O.ref,props:O.props,_owner:O._owner}}function ne(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function fe(O){var M={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(me){return M[me]})}var te=/\/+/g;function de(O,M){return typeof O=="object"&&O!==null&&O.key!=null?fe(""+O.key):M.toString(36)}function ce(O,M,me,ge,ke){var be=typeof O;(be==="undefined"||be==="boolean")&&(O=null);var je=!1;if(O===null)je=!0;else switch(be){case"string":case"number":je=!0;break;case"object":switch(O.$$typeof){case n:case e:je=!0}}if(je)return je=O,ke=ke(je),O=ge===""?"."+de(je,0):ge,B(ke)?(me="",O!=null&&(me=O.replace(te,"$&/")+"/"),ce(ke,M,me,"",function(Je){return Je})):ke!=null&&(ne(ke)&&(ke=X(ke,me+(!ke.key||je&&je.key===ke.key?"":(""+ke.key).replace(te,"$&/")+"/")+O)),M.push(ke)),1;if(je=0,ge=ge===""?".":ge+":",B(O))for(var Re=0;Re<O.length;Re++){be=O[Re];var Ie=ge+de(be,Re);je+=ce(be,M,me,Ie,ke)}else if(Ie=_(O),typeof Ie=="function")for(O=Ie.call(O),Re=0;!(be=O.next()).done;)be=be.value,Ie=ge+de(be,Re++),je+=ce(be,M,me,Ie,ke);else if(be==="object")throw M=String(O),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.");return je}function ue(O,M,me){if(O==null)return O;var ge=[],ke=0;return ce(O,ge,"","",function(be){return M.call(me,be,ke++)}),ge}function Pe(O){if(O._status===-1){var M=O._result;M=M(),M.then(function(me){(O._status===0||O._status===-1)&&(O._status=1,O._result=me)},function(me){(O._status===0||O._status===-1)&&(O._status=2,O._result=me)}),O._status===-1&&(O._status=0,O._result=M)}if(O._status===1)return O._result.default;throw O._result}var Ce={current:null},G={transition:null},oe={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:G,ReactCurrentOwner:K};function Y(){throw Error("act(...) is not supported in production builds of React.")}return Se.Children={map:ue,forEach:function(O,M,me){ue(O,function(){M.apply(this,arguments)},me)},count:function(O){var M=0;return ue(O,function(){M++}),M},toArray:function(O){return ue(O,function(M){return M})||[]},only:function(O){if(!ne(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Se.Component=w,Se.Fragment=t,Se.Profiler=i,Se.PureComponent=R,Se.StrictMode=a,Se.Suspense=h,Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,Se.act=Y,Se.cloneElement=function(O,M,me){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var ge=E({},O.props),ke=O.key,be=O.ref,je=O._owner;if(M!=null){if(M.ref!==void 0&&(be=M.ref,je=K.current),M.key!==void 0&&(ke=""+M.key),O.type&&O.type.defaultProps)var Re=O.type.defaultProps;for(Ie in M)U.call(M,Ie)&&!Q.hasOwnProperty(Ie)&&(ge[Ie]=M[Ie]===void 0&&Re!==void 0?Re[Ie]:M[Ie])}var Ie=arguments.length-2;if(Ie===1)ge.children=me;else if(1<Ie){Re=Array(Ie);for(var Je=0;Je<Ie;Je++)Re[Je]=arguments[Je+2];ge.children=Re}return{$$typeof:n,type:O.type,key:ke,ref:be,props:ge,_owner:je}},Se.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:o,_context:O},O.Consumer=O},Se.createElement=F,Se.createFactory=function(O){var M=F.bind(null,O);return M.type=O,M},Se.createRef=function(){return{current:null}},Se.forwardRef=function(O){return{$$typeof:d,render:O}},Se.isValidElement=ne,Se.lazy=function(O){return{$$typeof:g,_payload:{_status:-1,_result:O},_init:Pe}},Se.memo=function(O,M){return{$$typeof:m,type:O,compare:M===void 0?null:M}},Se.startTransition=function(O){var M=G.transition;G.transition={};try{O()}finally{G.transition=M}},Se.unstable_act=Y,Se.useCallback=function(O,M){return Ce.current.useCallback(O,M)},Se.useContext=function(O){return Ce.current.useContext(O)},Se.useDebugValue=function(){},Se.useDeferredValue=function(O){return Ce.current.useDeferredValue(O)},Se.useEffect=function(O,M){return Ce.current.useEffect(O,M)},Se.useId=function(){return Ce.current.useId()},Se.useImperativeHandle=function(O,M,me){return Ce.current.useImperativeHandle(O,M,me)},Se.useInsertionEffect=function(O,M){return Ce.current.useInsertionEffect(O,M)},Se.useLayoutEffect=function(O,M){return Ce.current.useLayoutEffect(O,M)},Se.useMemo=function(O,M){return Ce.current.useMemo(O,M)},Se.useReducer=function(O,M,me){return Ce.current.useReducer(O,M,me)},Se.useRef=function(O){return Ce.current.useRef(O)},Se.useState=function(O){return Ce.current.useState(O)},Se.useSyncExternalStore=function(O,M,me){return Ce.current.useSyncExternalStore(O,M,me)},Se.useTransition=function(){return Ce.current.useTransition()},Se.version="18.3.1",Se}var cm;function nh(){return cm||(cm=1,Lu.exports=a_()),Lu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var um;function s_(){if(um)return Vs;um=1;var n=nh(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(d,h,m){var g,v={},_=null,b=null;m!==void 0&&(_=""+m),h.key!==void 0&&(_=""+h.key),h.ref!==void 0&&(b=h.ref);for(g in h)a.call(h,g)&&!o.hasOwnProperty(g)&&(v[g]=h[g]);if(d&&d.defaultProps)for(g in h=d.defaultProps,h)v[g]===void 0&&(v[g]=h[g]);return{$$typeof:e,type:d,key:_,ref:b,props:v,_owner:i.current}}return Vs.Fragment=t,Vs.jsx=c,Vs.jsxs=c,Vs}var dm;function i_(){return dm||(dm=1,Ru.exports=s_()),Ru.exports}var x=i_(),L=nh();const lv=r_(L),o_=n_({__proto__:null,default:lv},[L]);var Jo={},Ou={exports:{}},qt={},Nu={exports:{}},ju={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm;function l_(){return hm||(hm=1,function(n){function e(G,oe){var Y=G.length;G.push(oe);e:for(;0<Y;){var O=Y-1>>>1,M=G[O];if(0<i(M,oe))G[O]=oe,G[Y]=M,Y=O;else break e}}function t(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var oe=G[0],Y=G.pop();if(Y!==oe){G[0]=Y;e:for(var O=0,M=G.length,me=M>>>1;O<me;){var ge=2*(O+1)-1,ke=G[ge],be=ge+1,je=G[be];if(0>i(ke,Y))be<M&&0>i(je,ke)?(G[O]=je,G[be]=Y,O=be):(G[O]=ke,G[ge]=Y,O=ge);else if(be<M&&0>i(je,Y))G[O]=je,G[be]=Y,O=be;else break e}}return oe}function i(G,oe){var Y=G.sortIndex-oe.sortIndex;return Y!==0?Y:G.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var h=[],m=[],g=1,v=null,_=3,b=!1,E=!1,S=!1,w=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(G){for(var oe=t(m);oe!==null;){if(oe.callback===null)a(m);else if(oe.startTime<=G)a(m),oe.sortIndex=oe.expirationTime,e(h,oe);else break;oe=t(m)}}function B(G){if(S=!1,N(G),!E)if(t(h)!==null)E=!0,Pe(U);else{var oe=t(m);oe!==null&&Ce(B,oe.startTime-G)}}function U(G,oe){E=!1,S&&(S=!1,A(F),F=-1),b=!0;var Y=_;try{for(N(oe),v=t(h);v!==null&&(!(v.expirationTime>oe)||G&&!fe());){var O=v.callback;if(typeof O=="function"){v.callback=null,_=v.priorityLevel;var M=O(v.expirationTime<=oe);oe=n.unstable_now(),typeof M=="function"?v.callback=M:v===t(h)&&a(h),N(oe)}else a(h);v=t(h)}if(v!==null)var me=!0;else{var ge=t(m);ge!==null&&Ce(B,ge.startTime-oe),me=!1}return me}finally{v=null,_=Y,b=!1}}var K=!1,Q=null,F=-1,X=5,ne=-1;function fe(){return!(n.unstable_now()-ne<X)}function te(){if(Q!==null){var G=n.unstable_now();ne=G;var oe=!0;try{oe=Q(!0,G)}finally{oe?de():(K=!1,Q=null)}}else K=!1}var de;if(typeof R=="function")de=function(){R(te)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,ue=ce.port2;ce.port1.onmessage=te,de=function(){ue.postMessage(null)}}else de=function(){w(te,0)};function Pe(G){Q=G,K||(K=!0,de())}function Ce(G,oe){F=w(function(){G(n.unstable_now())},oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_continueExecution=function(){E||b||(E=!0,Pe(U))},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(G){switch(_){case 1:case 2:case 3:var oe=3;break;default:oe=_}var Y=_;_=oe;try{return G()}finally{_=Y}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(G,oe){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var Y=_;_=G;try{return oe()}finally{_=Y}},n.unstable_scheduleCallback=function(G,oe,Y){var O=n.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?O+Y:O):Y=O,G){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=Y+M,G={id:g++,callback:oe,priorityLevel:G,startTime:Y,expirationTime:M,sortIndex:-1},Y>O?(G.sortIndex=Y,e(m,G),t(h)===null&&G===t(m)&&(S?(A(F),F=-1):S=!0,Ce(B,Y-O))):(G.sortIndex=M,e(h,G),E||b||(E=!0,Pe(U))),G},n.unstable_shouldYield=fe,n.unstable_wrapCallback=function(G){var oe=_;return function(){var Y=_;_=oe;try{return G.apply(this,arguments)}finally{_=Y}}}}(ju)),ju}var pm;function c_(){return pm||(pm=1,Nu.exports=l_()),Nu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fm;function u_(){if(fm)return qt;fm=1;var n=nh(),e=c_();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,i={};function o(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(i[r]=s,r=0;r<s.length;r++)a.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function _(r){return h.call(v,r)?!0:h.call(g,r)?!1:m.test(r)?v[r]=!0:(g[r]=!0,!1)}function b(r,s,l,u){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return u?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function E(r,s,l,u){if(s===null||typeof s>"u"||b(r,s,l,u))return!0;if(u)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function S(r,s,l,u,p,f,y){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=u,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=f,this.removeEmptyString=y}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){w[r]=new S(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];w[s]=new S(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){w[r]=new S(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){w[r]=new S(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){w[r]=new S(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){w[r]=new S(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){w[r]=new S(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){w[r]=new S(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){w[r]=new S(r,5,!1,r.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function R(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(A,R);w[s]=new S(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(A,R);w[s]=new S(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(A,R);w[s]=new S(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){w[r]=new S(r,1,!1,r.toLowerCase(),null,!1,!1)}),w.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){w[r]=new S(r,1,!1,r.toLowerCase(),null,!0,!0)});function N(r,s,l,u){var p=w.hasOwnProperty(s)?w[s]:null;(p!==null?p.type!==0:u||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(E(s,l,p,u)&&(l=null),u||p===null?_(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):p.mustUseProperty?r[p.propertyName]=l===null?p.type===3?!1:"":l:(s=p.attributeName,u=p.attributeNamespace,l===null?r.removeAttribute(s):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,u?r.setAttributeNS(u,s,l):r.setAttribute(s,l))))}var B=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),K=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),fe=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),ue=Symbol.for("react.memo"),Pe=Symbol.for("react.lazy"),Ce=Symbol.for("react.offscreen"),G=Symbol.iterator;function oe(r){return r===null||typeof r!="object"?null:(r=G&&r[G]||r["@@iterator"],typeof r=="function"?r:null)}var Y=Object.assign,O;function M(r){if(O===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);O=s&&s[1]||""}return`
`+O+r}var me=!1;function ge(r,s){if(!r||me)return"";me=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(D){var u=D}Reflect.construct(r,[],s)}else{try{s.call()}catch(D){u=D}r.call(s.prototype)}else{try{throw Error()}catch(D){u=D}r()}}catch(D){if(D&&u&&typeof D.stack=="string"){for(var p=D.stack.split(`
`),f=u.stack.split(`
`),y=p.length-1,k=f.length-1;1<=y&&0<=k&&p[y]!==f[k];)k--;for(;1<=y&&0<=k;y--,k--)if(p[y]!==f[k]){if(y!==1||k!==1)do if(y--,k--,0>k||p[y]!==f[k]){var P=`
`+p[y].replace(" at new "," at ");return r.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",r.displayName)),P}while(1<=y&&0<=k);break}}}finally{me=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?M(r):""}function ke(r){switch(r.tag){case 5:return M(r.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return r=ge(r.type,!1),r;case 11:return r=ge(r.type.render,!1),r;case 1:return r=ge(r.type,!0),r;default:return""}}function be(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case Q:return"Fragment";case K:return"Portal";case X:return"Profiler";case F:return"StrictMode";case de:return"Suspense";case ce:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case fe:return(r.displayName||"Context")+".Consumer";case ne:return(r._context.displayName||"Context")+".Provider";case te:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case ue:return s=r.displayName||null,s!==null?s:be(r.type)||"Memo";case Pe:s=r._payload,r=r._init;try{return be(r(s))}catch{}}return null}function je(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(s);case 8:return s===F?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Re(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ie(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Je(r){var s=Ie(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,f=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(y){u=""+y,f.call(this,y)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(y){u=""+y},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Ln(r){r._valueTracker||(r._valueTracker=Je(r))}function Xn(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),u="";return r&&(u=Ie(r)?r.checked?"true":"false":r.value),r=u,r!==l?(s.setValue(r),!0):!1}function wn(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Ct(r,s){var l=s.checked;return Y({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function Zn(r,s){var l=s.defaultValue==null?"":s.defaultValue,u=s.checked!=null?s.checked:s.defaultChecked;l=Re(s.value!=null?s.value:l),r._wrapperState={initialChecked:u,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function On(r,s){s=s.checked,s!=null&&N(r,"checked",s,!1)}function Nn(r,s){On(r,s);var l=Re(s.value),u=s.type;if(l!=null)u==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(u==="submit"||u==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?ia(r,s.type,l):s.hasOwnProperty("defaultValue")&&ia(r,s.type,Re(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Ii(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var u=s.type;if(!(u!=="submit"&&u!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function ia(r,s,l){(s!=="number"||wn(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var er=Array.isArray;function tr(r,s,l,u){if(r=r.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=s.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&u&&(r[l].defaultSelected=!0)}else{for(l=""+Re(l),s=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,u&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function is(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return Y({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Di(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(er(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:Re(l)}}function Bi(r,s){var l=Re(s.value),u=Re(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),u!=null&&(r.defaultValue=""+u)}function $i(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function Mi(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oa(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?Mi(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var W,Te=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,u,p){MSApp.execUnsafeLocalFunction(function(){return r(s,l,u,p)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(W=W||document.createElement("div"),W.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=W.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function De(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var at={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ui=["Webkit","ms","Moz","O"];Object.keys(at).forEach(function(r){Ui.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),at[s]=at[r]})});function os(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||at.hasOwnProperty(r)&&at[r]?(""+s).trim():s+"px"}function Eh(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var u=l.indexOf("--")===0,p=os(l,s[l],u);l==="float"&&(l="cssFloat"),u?r.setProperty(l,p):r[l]=p}}var sy=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fl(r,s){if(s){if(sy[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function ql(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zl=null;function Vl(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Wl=null,la=null,ca=null;function kh(r){if(r=Ts(r)){if(typeof Wl!="function")throw Error(t(280));var s=r.stateNode;s&&(s=co(s),Wl(r.stateNode,r.type,s))}}function Sh(r){la?ca?ca.push(r):ca=[r]:la=r}function Ah(){if(la){var r=la,s=ca;if(ca=la=null,kh(r),s)for(r=0;r<s.length;r++)kh(s[r])}}function Ch(r,s){return r(s)}function Ph(){}var Hl=!1;function Th(r,s,l){if(Hl)return r(s,l);Hl=!0;try{return Ch(r,s,l)}finally{Hl=!1,(la!==null||ca!==null)&&(Ph(),Ah())}}function ls(r,s){var l=r.stateNode;if(l===null)return null;var u=co(l);if(u===null)return null;l=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var Kl=!1;if(d)try{var cs={};Object.defineProperty(cs,"passive",{get:function(){Kl=!0}}),window.addEventListener("test",cs,cs),window.removeEventListener("test",cs,cs)}catch{Kl=!1}function iy(r,s,l,u,p,f,y,k,P){var D=Array.prototype.slice.call(arguments,3);try{s.apply(l,D)}catch(z){this.onError(z)}}var us=!1,Fi=null,qi=!1,Gl=null,oy={onError:function(r){us=!0,Fi=r}};function ly(r,s,l,u,p,f,y,k,P){us=!1,Fi=null,iy.apply(oy,arguments)}function cy(r,s,l,u,p,f,y,k,P){if(ly.apply(this,arguments),us){if(us){var D=Fi;us=!1,Fi=null}else throw Error(t(198));qi||(qi=!0,Gl=D)}}function Nr(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function Rh(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Lh(r){if(Nr(r)!==r)throw Error(t(188))}function uy(r){var s=r.alternate;if(!s){if(s=Nr(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,u=s;;){var p=l.return;if(p===null)break;var f=p.alternate;if(f===null){if(u=p.return,u!==null){l=u;continue}break}if(p.child===f.child){for(f=p.child;f;){if(f===l)return Lh(p),r;if(f===u)return Lh(p),s;f=f.sibling}throw Error(t(188))}if(l.return!==u.return)l=p,u=f;else{for(var y=!1,k=p.child;k;){if(k===l){y=!0,l=p,u=f;break}if(k===u){y=!0,u=p,l=f;break}k=k.sibling}if(!y){for(k=f.child;k;){if(k===l){y=!0,l=f,u=p;break}if(k===u){y=!0,u=f,l=p;break}k=k.sibling}if(!y)throw Error(t(189))}}if(l.alternate!==u)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function Oh(r){return r=uy(r),r!==null?Nh(r):null}function Nh(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Nh(r);if(s!==null)return s;r=r.sibling}return null}var jh=e.unstable_scheduleCallback,Ih=e.unstable_cancelCallback,dy=e.unstable_shouldYield,hy=e.unstable_requestPaint,st=e.unstable_now,py=e.unstable_getCurrentPriorityLevel,Jl=e.unstable_ImmediatePriority,Dh=e.unstable_UserBlockingPriority,zi=e.unstable_NormalPriority,fy=e.unstable_LowPriority,Bh=e.unstable_IdlePriority,Vi=null,bn=null;function my(r){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(Vi,r,void 0,(r.current.flags&128)===128)}catch{}}var cn=Math.clz32?Math.clz32:yy,gy=Math.log,vy=Math.LN2;function yy(r){return r>>>=0,r===0?32:31-(gy(r)/vy|0)|0}var Wi=64,Hi=4194304;function ds(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Ki(r,s){var l=r.pendingLanes;if(l===0)return 0;var u=0,p=r.suspendedLanes,f=r.pingedLanes,y=l&268435455;if(y!==0){var k=y&~p;k!==0?u=ds(k):(f&=y,f!==0&&(u=ds(f)))}else y=l&~p,y!==0?u=ds(y):f!==0&&(u=ds(f));if(u===0)return 0;if(s!==0&&s!==u&&(s&p)===0&&(p=u&-u,f=s&-s,p>=f||p===16&&(f&4194240)!==0))return s;if((u&4)!==0&&(u|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=u;0<s;)l=31-cn(s),p=1<<l,u|=r[l],s&=~p;return u}function _y(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xy(r,s){for(var l=r.suspendedLanes,u=r.pingedLanes,p=r.expirationTimes,f=r.pendingLanes;0<f;){var y=31-cn(f),k=1<<y,P=p[y];P===-1?((k&l)===0||(k&u)!==0)&&(p[y]=_y(k,s)):P<=s&&(r.expiredLanes|=k),f&=~k}}function Yl(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function $h(){var r=Wi;return Wi<<=1,(Wi&4194240)===0&&(Wi=64),r}function Ql(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function hs(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-cn(s),r[s]=l}function wy(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var u=r.eventTimes;for(r=r.expirationTimes;0<l;){var p=31-cn(l),f=1<<p;s[p]=0,u[p]=-1,r[p]=-1,l&=~f}}function Xl(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var u=31-cn(l),p=1<<u;p&s|r[u]&s&&(r[u]|=s),l&=~p}}var Me=0;function Mh(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Uh,Zl,Fh,qh,zh,ec=!1,Gi=[],nr=null,rr=null,ar=null,ps=new Map,fs=new Map,sr=[],by="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vh(r,s){switch(r){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":ar=null;break;case"pointerover":case"pointerout":ps.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":fs.delete(s.pointerId)}}function ms(r,s,l,u,p,f){return r===null||r.nativeEvent!==f?(r={blockedOn:s,domEventName:l,eventSystemFlags:u,nativeEvent:f,targetContainers:[p]},s!==null&&(s=Ts(s),s!==null&&Zl(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function Ey(r,s,l,u,p){switch(s){case"focusin":return nr=ms(nr,r,s,l,u,p),!0;case"dragenter":return rr=ms(rr,r,s,l,u,p),!0;case"mouseover":return ar=ms(ar,r,s,l,u,p),!0;case"pointerover":var f=p.pointerId;return ps.set(f,ms(ps.get(f)||null,r,s,l,u,p)),!0;case"gotpointercapture":return f=p.pointerId,fs.set(f,ms(fs.get(f)||null,r,s,l,u,p)),!0}return!1}function Wh(r){var s=jr(r.target);if(s!==null){var l=Nr(s);if(l!==null){if(s=l.tag,s===13){if(s=Rh(l),s!==null){r.blockedOn=s,zh(r.priority,function(){Fh(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ji(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=nc(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var u=new l.constructor(l.type,l);zl=u,l.target.dispatchEvent(u),zl=null}else return s=Ts(l),s!==null&&Zl(s),r.blockedOn=l,!1;s.shift()}return!0}function Hh(r,s,l){Ji(r)&&l.delete(s)}function ky(){ec=!1,nr!==null&&Ji(nr)&&(nr=null),rr!==null&&Ji(rr)&&(rr=null),ar!==null&&Ji(ar)&&(ar=null),ps.forEach(Hh),fs.forEach(Hh)}function gs(r,s){r.blockedOn===s&&(r.blockedOn=null,ec||(ec=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ky)))}function vs(r){function s(p){return gs(p,r)}if(0<Gi.length){gs(Gi[0],r);for(var l=1;l<Gi.length;l++){var u=Gi[l];u.blockedOn===r&&(u.blockedOn=null)}}for(nr!==null&&gs(nr,r),rr!==null&&gs(rr,r),ar!==null&&gs(ar,r),ps.forEach(s),fs.forEach(s),l=0;l<sr.length;l++)u=sr[l],u.blockedOn===r&&(u.blockedOn=null);for(;0<sr.length&&(l=sr[0],l.blockedOn===null);)Wh(l),l.blockedOn===null&&sr.shift()}var ua=B.ReactCurrentBatchConfig,Yi=!0;function Sy(r,s,l,u){var p=Me,f=ua.transition;ua.transition=null;try{Me=1,tc(r,s,l,u)}finally{Me=p,ua.transition=f}}function Ay(r,s,l,u){var p=Me,f=ua.transition;ua.transition=null;try{Me=4,tc(r,s,l,u)}finally{Me=p,ua.transition=f}}function tc(r,s,l,u){if(Yi){var p=nc(r,s,l,u);if(p===null)_c(r,s,u,Qi,l),Vh(r,u);else if(Ey(p,r,s,l,u))u.stopPropagation();else if(Vh(r,u),s&4&&-1<by.indexOf(r)){for(;p!==null;){var f=Ts(p);if(f!==null&&Uh(f),f=nc(r,s,l,u),f===null&&_c(r,s,u,Qi,l),f===p)break;p=f}p!==null&&u.stopPropagation()}else _c(r,s,u,null,l)}}var Qi=null;function nc(r,s,l,u){if(Qi=null,r=Vl(u),r=jr(r),r!==null)if(s=Nr(r),s===null)r=null;else if(l=s.tag,l===13){if(r=Rh(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Qi=r,null}function Kh(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(py()){case Jl:return 1;case Dh:return 4;case zi:case fy:return 16;case Bh:return 536870912;default:return 16}default:return 16}}var ir=null,rc=null,Xi=null;function Gh(){if(Xi)return Xi;var r,s=rc,l=s.length,u,p="value"in ir?ir.value:ir.textContent,f=p.length;for(r=0;r<l&&s[r]===p[r];r++);var y=l-r;for(u=1;u<=y&&s[l-u]===p[f-u];u++);return Xi=p.slice(r,1<u?1-u:void 0)}function Zi(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function eo(){return!0}function Jh(){return!1}function Ht(r){function s(l,u,p,f,y){this._reactName=l,this._targetInst=p,this.type=u,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var k in r)r.hasOwnProperty(k)&&(l=r[k],this[k]=l?l(f):f[k]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?eo:Jh,this.isPropagationStopped=Jh,this}return Y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=eo)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=eo)},persist:function(){},isPersistent:eo}),s}var da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ac=Ht(da),ys=Y({},da,{view:0,detail:0}),Cy=Ht(ys),sc,ic,_s,to=Y({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lc,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==_s&&(_s&&r.type==="mousemove"?(sc=r.screenX-_s.screenX,ic=r.screenY-_s.screenY):ic=sc=0,_s=r),sc)},movementY:function(r){return"movementY"in r?r.movementY:ic}}),Yh=Ht(to),Py=Y({},to,{dataTransfer:0}),Ty=Ht(Py),Ry=Y({},ys,{relatedTarget:0}),oc=Ht(Ry),Ly=Y({},da,{animationName:0,elapsedTime:0,pseudoElement:0}),Oy=Ht(Ly),Ny=Y({},da,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),jy=Ht(Ny),Iy=Y({},da,{data:0}),Qh=Ht(Iy),Dy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},By={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$y={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function My(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=$y[r])?!!s[r]:!1}function lc(){return My}var Uy=Y({},ys,{key:function(r){if(r.key){var s=Dy[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Zi(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?By[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lc,charCode:function(r){return r.type==="keypress"?Zi(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Zi(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Fy=Ht(Uy),qy=Y({},to,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xh=Ht(qy),zy=Y({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lc}),Vy=Ht(zy),Wy=Y({},da,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hy=Ht(Wy),Ky=Y({},to,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Gy=Ht(Ky),Jy=[9,13,27,32],cc=d&&"CompositionEvent"in window,xs=null;d&&"documentMode"in document&&(xs=document.documentMode);var Yy=d&&"TextEvent"in window&&!xs,Zh=d&&(!cc||xs&&8<xs&&11>=xs),ep=" ",tp=!1;function np(r,s){switch(r){case"keyup":return Jy.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ha=!1;function Qy(r,s){switch(r){case"compositionend":return rp(s);case"keypress":return s.which!==32?null:(tp=!0,ep);case"textInput":return r=s.data,r===ep&&tp?null:r;default:return null}}function Xy(r,s){if(ha)return r==="compositionend"||!cc&&np(r,s)?(r=Gh(),Xi=rc=ir=null,ha=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Zh&&s.locale!=="ko"?null:s.data;default:return null}}var Zy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ap(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Zy[r.type]:s==="textarea"}function sp(r,s,l,u){Sh(u),s=io(s,"onChange"),0<s.length&&(l=new ac("onChange","change",null,l,u),r.push({event:l,listeners:s}))}var ws=null,bs=null;function e0(r){Ep(r,0)}function no(r){var s=va(r);if(Xn(s))return r}function t0(r,s){if(r==="change")return s}var ip=!1;if(d){var uc;if(d){var dc="oninput"in document;if(!dc){var op=document.createElement("div");op.setAttribute("oninput","return;"),dc=typeof op.oninput=="function"}uc=dc}else uc=!1;ip=uc&&(!document.documentMode||9<document.documentMode)}function lp(){ws&&(ws.detachEvent("onpropertychange",cp),bs=ws=null)}function cp(r){if(r.propertyName==="value"&&no(bs)){var s=[];sp(s,bs,r,Vl(r)),Th(e0,s)}}function n0(r,s,l){r==="focusin"?(lp(),ws=s,bs=l,ws.attachEvent("onpropertychange",cp)):r==="focusout"&&lp()}function r0(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return no(bs)}function a0(r,s){if(r==="click")return no(s)}function s0(r,s){if(r==="input"||r==="change")return no(s)}function i0(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var un=typeof Object.is=="function"?Object.is:i0;function Es(r,s){if(un(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),u=Object.keys(s);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var p=l[u];if(!h.call(s,p)||!un(r[p],s[p]))return!1}return!0}function up(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function dp(r,s){var l=up(r);r=0;for(var u;l;){if(l.nodeType===3){if(u=r+l.textContent.length,r<=s&&u>=s)return{node:l,offset:s-r};r=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=up(l)}}function hp(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?hp(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function pp(){for(var r=window,s=wn();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=wn(r.document)}return s}function hc(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function o0(r){var s=pp(),l=r.focusedElem,u=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&hp(l.ownerDocument.documentElement,l)){if(u!==null&&hc(l)){if(s=u.start,r=u.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var p=l.textContent.length,f=Math.min(u.start,p);u=u.end===void 0?f:Math.min(u.end,p),!r.extend&&f>u&&(p=u,u=f,f=p),p=dp(l,f);var y=dp(l,u);p&&y&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==y.node||r.focusOffset!==y.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),r.removeAllRanges(),f>u?(r.addRange(s),r.extend(y.node,y.offset)):(s.setEnd(y.node,y.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var l0=d&&"documentMode"in document&&11>=document.documentMode,pa=null,pc=null,ks=null,fc=!1;function fp(r,s,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;fc||pa==null||pa!==wn(u)||(u=pa,"selectionStart"in u&&hc(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ks&&Es(ks,u)||(ks=u,u=io(pc,"onSelect"),0<u.length&&(s=new ac("onSelect","select",null,s,l),r.push({event:s,listeners:u}),s.target=pa)))}function ro(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var fa={animationend:ro("Animation","AnimationEnd"),animationiteration:ro("Animation","AnimationIteration"),animationstart:ro("Animation","AnimationStart"),transitionend:ro("Transition","TransitionEnd")},mc={},mp={};d&&(mp=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function ao(r){if(mc[r])return mc[r];if(!fa[r])return r;var s=fa[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in mp)return mc[r]=s[l];return r}var gp=ao("animationend"),vp=ao("animationiteration"),yp=ao("animationstart"),_p=ao("transitionend"),xp=new Map,wp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function or(r,s){xp.set(r,s),o(s,[r])}for(var gc=0;gc<wp.length;gc++){var vc=wp[gc],c0=vc.toLowerCase(),u0=vc[0].toUpperCase()+vc.slice(1);or(c0,"on"+u0)}or(gp,"onAnimationEnd"),or(vp,"onAnimationIteration"),or(yp,"onAnimationStart"),or("dblclick","onDoubleClick"),or("focusin","onFocus"),or("focusout","onBlur"),or(_p,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ss="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ss));function bp(r,s,l){var u=r.type||"unknown-event";r.currentTarget=l,cy(u,s,void 0,r),r.currentTarget=null}function Ep(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var u=r[l],p=u.event;u=u.listeners;e:{var f=void 0;if(s)for(var y=u.length-1;0<=y;y--){var k=u[y],P=k.instance,D=k.currentTarget;if(k=k.listener,P!==f&&p.isPropagationStopped())break e;bp(p,k,D),f=P}else for(y=0;y<u.length;y++){if(k=u[y],P=k.instance,D=k.currentTarget,k=k.listener,P!==f&&p.isPropagationStopped())break e;bp(p,k,D),f=P}}}if(qi)throw r=Gl,qi=!1,Gl=null,r}function He(r,s){var l=s[Sc];l===void 0&&(l=s[Sc]=new Set);var u=r+"__bubble";l.has(u)||(kp(s,r,2,!1),l.add(u))}function yc(r,s,l){var u=0;s&&(u|=4),kp(l,r,u,s)}var so="_reactListening"+Math.random().toString(36).slice(2);function As(r){if(!r[so]){r[so]=!0,a.forEach(function(l){l!=="selectionchange"&&(d0.has(l)||yc(l,!1,r),yc(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[so]||(s[so]=!0,yc("selectionchange",!1,s))}}function kp(r,s,l,u){switch(Kh(s)){case 1:var p=Sy;break;case 4:p=Ay;break;default:p=tc}l=p.bind(null,s,l,r),p=void 0,!Kl||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),u?p!==void 0?r.addEventListener(s,l,{capture:!0,passive:p}):r.addEventListener(s,l,!0):p!==void 0?r.addEventListener(s,l,{passive:p}):r.addEventListener(s,l,!1)}function _c(r,s,l,u,p){var f=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var y=u.tag;if(y===3||y===4){var k=u.stateNode.containerInfo;if(k===p||k.nodeType===8&&k.parentNode===p)break;if(y===4)for(y=u.return;y!==null;){var P=y.tag;if((P===3||P===4)&&(P=y.stateNode.containerInfo,P===p||P.nodeType===8&&P.parentNode===p))return;y=y.return}for(;k!==null;){if(y=jr(k),y===null)return;if(P=y.tag,P===5||P===6){u=f=y;continue e}k=k.parentNode}}u=u.return}Th(function(){var D=f,z=Vl(l),V=[];e:{var q=xp.get(r);if(q!==void 0){var re=ac,ie=r;switch(r){case"keypress":if(Zi(l)===0)break e;case"keydown":case"keyup":re=Fy;break;case"focusin":ie="focus",re=oc;break;case"focusout":ie="blur",re=oc;break;case"beforeblur":case"afterblur":re=oc;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=Yh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Ty;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=Vy;break;case gp:case vp:case yp:re=Oy;break;case _p:re=Hy;break;case"scroll":re=Cy;break;case"wheel":re=Gy;break;case"copy":case"cut":case"paste":re=jy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=Xh}var le=(s&4)!==0,it=!le&&r==="scroll",j=le?q!==null?q+"Capture":null:q;le=[];for(var T=D,I;T!==null;){I=T;var H=I.stateNode;if(I.tag===5&&H!==null&&(I=H,j!==null&&(H=ls(T,j),H!=null&&le.push(Cs(T,H,I)))),it)break;T=T.return}0<le.length&&(q=new re(q,ie,null,l,z),V.push({event:q,listeners:le}))}}if((s&7)===0){e:{if(q=r==="mouseover"||r==="pointerover",re=r==="mouseout"||r==="pointerout",q&&l!==zl&&(ie=l.relatedTarget||l.fromElement)&&(jr(ie)||ie[jn]))break e;if((re||q)&&(q=z.window===z?z:(q=z.ownerDocument)?q.defaultView||q.parentWindow:window,re?(ie=l.relatedTarget||l.toElement,re=D,ie=ie?jr(ie):null,ie!==null&&(it=Nr(ie),ie!==it||ie.tag!==5&&ie.tag!==6)&&(ie=null)):(re=null,ie=D),re!==ie)){if(le=Yh,H="onMouseLeave",j="onMouseEnter",T="mouse",(r==="pointerout"||r==="pointerover")&&(le=Xh,H="onPointerLeave",j="onPointerEnter",T="pointer"),it=re==null?q:va(re),I=ie==null?q:va(ie),q=new le(H,T+"leave",re,l,z),q.target=it,q.relatedTarget=I,H=null,jr(z)===D&&(le=new le(j,T+"enter",ie,l,z),le.target=I,le.relatedTarget=it,H=le),it=H,re&&ie)t:{for(le=re,j=ie,T=0,I=le;I;I=ma(I))T++;for(I=0,H=j;H;H=ma(H))I++;for(;0<T-I;)le=ma(le),T--;for(;0<I-T;)j=ma(j),I--;for(;T--;){if(le===j||j!==null&&le===j.alternate)break t;le=ma(le),j=ma(j)}le=null}else le=null;re!==null&&Sp(V,q,re,le,!1),ie!==null&&it!==null&&Sp(V,it,ie,le,!0)}}e:{if(q=D?va(D):window,re=q.nodeName&&q.nodeName.toLowerCase(),re==="select"||re==="input"&&q.type==="file")var he=t0;else if(ap(q))if(ip)he=s0;else{he=r0;var ye=n0}else(re=q.nodeName)&&re.toLowerCase()==="input"&&(q.type==="checkbox"||q.type==="radio")&&(he=a0);if(he&&(he=he(r,D))){sp(V,he,l,z);break e}ye&&ye(r,q,D),r==="focusout"&&(ye=q._wrapperState)&&ye.controlled&&q.type==="number"&&ia(q,"number",q.value)}switch(ye=D?va(D):window,r){case"focusin":(ap(ye)||ye.contentEditable==="true")&&(pa=ye,pc=D,ks=null);break;case"focusout":ks=pc=pa=null;break;case"mousedown":fc=!0;break;case"contextmenu":case"mouseup":case"dragend":fc=!1,fp(V,l,z);break;case"selectionchange":if(l0)break;case"keydown":case"keyup":fp(V,l,z)}var _e;if(cc)e:{switch(r){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else ha?np(r,l)&&(Ee="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ee="onCompositionStart");Ee&&(Zh&&l.locale!=="ko"&&(ha||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&ha&&(_e=Gh()):(ir=z,rc="value"in ir?ir.value:ir.textContent,ha=!0)),ye=io(D,Ee),0<ye.length&&(Ee=new Qh(Ee,r,null,l,z),V.push({event:Ee,listeners:ye}),_e?Ee.data=_e:(_e=rp(l),_e!==null&&(Ee.data=_e)))),(_e=Yy?Qy(r,l):Xy(r,l))&&(D=io(D,"onBeforeInput"),0<D.length&&(z=new Qh("onBeforeInput","beforeinput",null,l,z),V.push({event:z,listeners:D}),z.data=_e))}Ep(V,s)})}function Cs(r,s,l){return{instance:r,listener:s,currentTarget:l}}function io(r,s){for(var l=s+"Capture",u=[];r!==null;){var p=r,f=p.stateNode;p.tag===5&&f!==null&&(p=f,f=ls(r,l),f!=null&&u.unshift(Cs(r,f,p)),f=ls(r,s),f!=null&&u.push(Cs(r,f,p))),r=r.return}return u}function ma(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Sp(r,s,l,u,p){for(var f=s._reactName,y=[];l!==null&&l!==u;){var k=l,P=k.alternate,D=k.stateNode;if(P!==null&&P===u)break;k.tag===5&&D!==null&&(k=D,p?(P=ls(l,f),P!=null&&y.unshift(Cs(l,P,k))):p||(P=ls(l,f),P!=null&&y.push(Cs(l,P,k)))),l=l.return}y.length!==0&&r.push({event:s,listeners:y})}var h0=/\r\n?/g,p0=/\u0000|\uFFFD/g;function Ap(r){return(typeof r=="string"?r:""+r).replace(h0,`
`).replace(p0,"")}function oo(r,s,l){if(s=Ap(s),Ap(r)!==s&&l)throw Error(t(425))}function lo(){}var xc=null,wc=null;function bc(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ec=typeof setTimeout=="function"?setTimeout:void 0,f0=typeof clearTimeout=="function"?clearTimeout:void 0,Cp=typeof Promise=="function"?Promise:void 0,m0=typeof queueMicrotask=="function"?queueMicrotask:typeof Cp<"u"?function(r){return Cp.resolve(null).then(r).catch(g0)}:Ec;function g0(r){setTimeout(function(){throw r})}function kc(r,s){var l=s,u=0;do{var p=l.nextSibling;if(r.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(u===0){r.removeChild(p),vs(s);return}u--}else l!=="$"&&l!=="$?"&&l!=="$!"||u++;l=p}while(l);vs(s)}function lr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Pp(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var ga=Math.random().toString(36).slice(2),En="__reactFiber$"+ga,Ps="__reactProps$"+ga,jn="__reactContainer$"+ga,Sc="__reactEvents$"+ga,v0="__reactListeners$"+ga,y0="__reactHandles$"+ga;function jr(r){var s=r[En];if(s)return s;for(var l=r.parentNode;l;){if(s=l[jn]||l[En]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=Pp(r);r!==null;){if(l=r[En])return l;r=Pp(r)}return s}r=l,l=r.parentNode}return null}function Ts(r){return r=r[En]||r[jn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function va(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function co(r){return r[Ps]||null}var Ac=[],ya=-1;function cr(r){return{current:r}}function Ke(r){0>ya||(r.current=Ac[ya],Ac[ya]=null,ya--)}function qe(r,s){ya++,Ac[ya]=r.current,r.current=s}var ur={},Pt=cr(ur),Bt=cr(!1),Ir=ur;function _a(r,s){var l=r.type.contextTypes;if(!l)return ur;var u=r.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===s)return u.__reactInternalMemoizedMaskedChildContext;var p={},f;for(f in l)p[f]=s[f];return u&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=p),p}function $t(r){return r=r.childContextTypes,r!=null}function uo(){Ke(Bt),Ke(Pt)}function Tp(r,s,l){if(Pt.current!==ur)throw Error(t(168));qe(Pt,s),qe(Bt,l)}function Rp(r,s,l){var u=r.stateNode;if(s=s.childContextTypes,typeof u.getChildContext!="function")return l;u=u.getChildContext();for(var p in u)if(!(p in s))throw Error(t(108,je(r)||"Unknown",p));return Y({},l,u)}function ho(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ur,Ir=Pt.current,qe(Pt,r),qe(Bt,Bt.current),!0}function Lp(r,s,l){var u=r.stateNode;if(!u)throw Error(t(169));l?(r=Rp(r,s,Ir),u.__reactInternalMemoizedMergedChildContext=r,Ke(Bt),Ke(Pt),qe(Pt,r)):Ke(Bt),qe(Bt,l)}var In=null,po=!1,Cc=!1;function Op(r){In===null?In=[r]:In.push(r)}function _0(r){po=!0,Op(r)}function dr(){if(!Cc&&In!==null){Cc=!0;var r=0,s=Me;try{var l=In;for(Me=1;r<l.length;r++){var u=l[r];do u=u(!0);while(u!==null)}In=null,po=!1}catch(p){throw In!==null&&(In=In.slice(r+1)),jh(Jl,dr),p}finally{Me=s,Cc=!1}}return null}var xa=[],wa=0,fo=null,mo=0,en=[],tn=0,Dr=null,Dn=1,Bn="";function Br(r,s){xa[wa++]=mo,xa[wa++]=fo,fo=r,mo=s}function Np(r,s,l){en[tn++]=Dn,en[tn++]=Bn,en[tn++]=Dr,Dr=r;var u=Dn;r=Bn;var p=32-cn(u)-1;u&=~(1<<p),l+=1;var f=32-cn(s)+p;if(30<f){var y=p-p%5;f=(u&(1<<y)-1).toString(32),u>>=y,p-=y,Dn=1<<32-cn(s)+p|l<<p|u,Bn=f+r}else Dn=1<<f|l<<p|u,Bn=r}function Pc(r){r.return!==null&&(Br(r,1),Np(r,1,0))}function Tc(r){for(;r===fo;)fo=xa[--wa],xa[wa]=null,mo=xa[--wa],xa[wa]=null;for(;r===Dr;)Dr=en[--tn],en[tn]=null,Bn=en[--tn],en[tn]=null,Dn=en[--tn],en[tn]=null}var Kt=null,Gt=null,Ye=!1,dn=null;function jp(r,s){var l=sn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function Ip(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Kt=r,Gt=lr(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Kt=r,Gt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Dr!==null?{id:Dn,overflow:Bn}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=sn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,Kt=r,Gt=null,!0):!1;default:return!1}}function Rc(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Lc(r){if(Ye){var s=Gt;if(s){var l=s;if(!Ip(r,s)){if(Rc(r))throw Error(t(418));s=lr(l.nextSibling);var u=Kt;s&&Ip(r,s)?jp(u,l):(r.flags=r.flags&-4097|2,Ye=!1,Kt=r)}}else{if(Rc(r))throw Error(t(418));r.flags=r.flags&-4097|2,Ye=!1,Kt=r}}}function Dp(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Kt=r}function go(r){if(r!==Kt)return!1;if(!Ye)return Dp(r),Ye=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!bc(r.type,r.memoizedProps)),s&&(s=Gt)){if(Rc(r))throw Bp(),Error(t(418));for(;s;)jp(r,s),s=lr(s.nextSibling)}if(Dp(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){Gt=lr(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}Gt=null}}else Gt=Kt?lr(r.stateNode.nextSibling):null;return!0}function Bp(){for(var r=Gt;r;)r=lr(r.nextSibling)}function ba(){Gt=Kt=null,Ye=!1}function Oc(r){dn===null?dn=[r]:dn.push(r)}var x0=B.ReactCurrentBatchConfig;function Rs(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var u=l.stateNode}if(!u)throw Error(t(147,r));var p=u,f=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===f?s.ref:(s=function(y){var k=p.refs;y===null?delete k[f]:k[f]=y},s._stringRef=f,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function vo(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function $p(r){var s=r._init;return s(r._payload)}function Mp(r){function s(j,T){if(r){var I=j.deletions;I===null?(j.deletions=[T],j.flags|=16):I.push(T)}}function l(j,T){if(!r)return null;for(;T!==null;)s(j,T),T=T.sibling;return null}function u(j,T){for(j=new Map;T!==null;)T.key!==null?j.set(T.key,T):j.set(T.index,T),T=T.sibling;return j}function p(j,T){return j=_r(j,T),j.index=0,j.sibling=null,j}function f(j,T,I){return j.index=I,r?(I=j.alternate,I!==null?(I=I.index,I<T?(j.flags|=2,T):I):(j.flags|=2,T)):(j.flags|=1048576,T)}function y(j){return r&&j.alternate===null&&(j.flags|=2),j}function k(j,T,I,H){return T===null||T.tag!==6?(T=Eu(I,j.mode,H),T.return=j,T):(T=p(T,I),T.return=j,T)}function P(j,T,I,H){var he=I.type;return he===Q?z(j,T,I.props.children,H,I.key):T!==null&&(T.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===Pe&&$p(he)===T.type)?(H=p(T,I.props),H.ref=Rs(j,T,I),H.return=j,H):(H=Fo(I.type,I.key,I.props,null,j.mode,H),H.ref=Rs(j,T,I),H.return=j,H)}function D(j,T,I,H){return T===null||T.tag!==4||T.stateNode.containerInfo!==I.containerInfo||T.stateNode.implementation!==I.implementation?(T=ku(I,j.mode,H),T.return=j,T):(T=p(T,I.children||[]),T.return=j,T)}function z(j,T,I,H,he){return T===null||T.tag!==7?(T=Wr(I,j.mode,H,he),T.return=j,T):(T=p(T,I),T.return=j,T)}function V(j,T,I){if(typeof T=="string"&&T!==""||typeof T=="number")return T=Eu(""+T,j.mode,I),T.return=j,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case U:return I=Fo(T.type,T.key,T.props,null,j.mode,I),I.ref=Rs(j,null,T),I.return=j,I;case K:return T=ku(T,j.mode,I),T.return=j,T;case Pe:var H=T._init;return V(j,H(T._payload),I)}if(er(T)||oe(T))return T=Wr(T,j.mode,I,null),T.return=j,T;vo(j,T)}return null}function q(j,T,I,H){var he=T!==null?T.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return he!==null?null:k(j,T,""+I,H);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case U:return I.key===he?P(j,T,I,H):null;case K:return I.key===he?D(j,T,I,H):null;case Pe:return he=I._init,q(j,T,he(I._payload),H)}if(er(I)||oe(I))return he!==null?null:z(j,T,I,H,null);vo(j,I)}return null}function re(j,T,I,H,he){if(typeof H=="string"&&H!==""||typeof H=="number")return j=j.get(I)||null,k(T,j,""+H,he);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case U:return j=j.get(H.key===null?I:H.key)||null,P(T,j,H,he);case K:return j=j.get(H.key===null?I:H.key)||null,D(T,j,H,he);case Pe:var ye=H._init;return re(j,T,I,ye(H._payload),he)}if(er(H)||oe(H))return j=j.get(I)||null,z(T,j,H,he,null);vo(T,H)}return null}function ie(j,T,I,H){for(var he=null,ye=null,_e=T,Ee=T=0,yt=null;_e!==null&&Ee<I.length;Ee++){_e.index>Ee?(yt=_e,_e=null):yt=_e.sibling;var Oe=q(j,_e,I[Ee],H);if(Oe===null){_e===null&&(_e=yt);break}r&&_e&&Oe.alternate===null&&s(j,_e),T=f(Oe,T,Ee),ye===null?he=Oe:ye.sibling=Oe,ye=Oe,_e=yt}if(Ee===I.length)return l(j,_e),Ye&&Br(j,Ee),he;if(_e===null){for(;Ee<I.length;Ee++)_e=V(j,I[Ee],H),_e!==null&&(T=f(_e,T,Ee),ye===null?he=_e:ye.sibling=_e,ye=_e);return Ye&&Br(j,Ee),he}for(_e=u(j,_e);Ee<I.length;Ee++)yt=re(_e,j,Ee,I[Ee],H),yt!==null&&(r&&yt.alternate!==null&&_e.delete(yt.key===null?Ee:yt.key),T=f(yt,T,Ee),ye===null?he=yt:ye.sibling=yt,ye=yt);return r&&_e.forEach(function(xr){return s(j,xr)}),Ye&&Br(j,Ee),he}function le(j,T,I,H){var he=oe(I);if(typeof he!="function")throw Error(t(150));if(I=he.call(I),I==null)throw Error(t(151));for(var ye=he=null,_e=T,Ee=T=0,yt=null,Oe=I.next();_e!==null&&!Oe.done;Ee++,Oe=I.next()){_e.index>Ee?(yt=_e,_e=null):yt=_e.sibling;var xr=q(j,_e,Oe.value,H);if(xr===null){_e===null&&(_e=yt);break}r&&_e&&xr.alternate===null&&s(j,_e),T=f(xr,T,Ee),ye===null?he=xr:ye.sibling=xr,ye=xr,_e=yt}if(Oe.done)return l(j,_e),Ye&&Br(j,Ee),he;if(_e===null){for(;!Oe.done;Ee++,Oe=I.next())Oe=V(j,Oe.value,H),Oe!==null&&(T=f(Oe,T,Ee),ye===null?he=Oe:ye.sibling=Oe,ye=Oe);return Ye&&Br(j,Ee),he}for(_e=u(j,_e);!Oe.done;Ee++,Oe=I.next())Oe=re(_e,j,Ee,Oe.value,H),Oe!==null&&(r&&Oe.alternate!==null&&_e.delete(Oe.key===null?Ee:Oe.key),T=f(Oe,T,Ee),ye===null?he=Oe:ye.sibling=Oe,ye=Oe);return r&&_e.forEach(function(Z0){return s(j,Z0)}),Ye&&Br(j,Ee),he}function it(j,T,I,H){if(typeof I=="object"&&I!==null&&I.type===Q&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case U:e:{for(var he=I.key,ye=T;ye!==null;){if(ye.key===he){if(he=I.type,he===Q){if(ye.tag===7){l(j,ye.sibling),T=p(ye,I.props.children),T.return=j,j=T;break e}}else if(ye.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===Pe&&$p(he)===ye.type){l(j,ye.sibling),T=p(ye,I.props),T.ref=Rs(j,ye,I),T.return=j,j=T;break e}l(j,ye);break}else s(j,ye);ye=ye.sibling}I.type===Q?(T=Wr(I.props.children,j.mode,H,I.key),T.return=j,j=T):(H=Fo(I.type,I.key,I.props,null,j.mode,H),H.ref=Rs(j,T,I),H.return=j,j=H)}return y(j);case K:e:{for(ye=I.key;T!==null;){if(T.key===ye)if(T.tag===4&&T.stateNode.containerInfo===I.containerInfo&&T.stateNode.implementation===I.implementation){l(j,T.sibling),T=p(T,I.children||[]),T.return=j,j=T;break e}else{l(j,T);break}else s(j,T);T=T.sibling}T=ku(I,j.mode,H),T.return=j,j=T}return y(j);case Pe:return ye=I._init,it(j,T,ye(I._payload),H)}if(er(I))return ie(j,T,I,H);if(oe(I))return le(j,T,I,H);vo(j,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,T!==null&&T.tag===6?(l(j,T.sibling),T=p(T,I),T.return=j,j=T):(l(j,T),T=Eu(I,j.mode,H),T.return=j,j=T),y(j)):l(j,T)}return it}var Ea=Mp(!0),Up=Mp(!1),yo=cr(null),_o=null,ka=null,Nc=null;function jc(){Nc=ka=_o=null}function Ic(r){var s=yo.current;Ke(yo),r._currentValue=s}function Dc(r,s,l){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===l)break;r=r.return}}function Sa(r,s){_o=r,Nc=ka=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(Mt=!0),r.firstContext=null)}function nn(r){var s=r._currentValue;if(Nc!==r)if(r={context:r,memoizedValue:s,next:null},ka===null){if(_o===null)throw Error(t(308));ka=r,_o.dependencies={lanes:0,firstContext:r}}else ka=ka.next=r;return s}var $r=null;function Bc(r){$r===null?$r=[r]:$r.push(r)}function Fp(r,s,l,u){var p=s.interleaved;return p===null?(l.next=l,Bc(s)):(l.next=p.next,p.next=l),s.interleaved=l,$n(r,u)}function $n(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var hr=!1;function $c(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qp(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Mn(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function pr(r,s,l){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(Le&2)!==0){var p=u.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),u.pending=s,$n(r,l)}return p=u.interleaved,p===null?(s.next=s,Bc(u)):(s.next=p.next,p.next=s),u.interleaved=s,$n(r,l)}function xo(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var u=s.lanes;u&=r.pendingLanes,l|=u,s.lanes=l,Xl(r,l)}}function zp(r,s){var l=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var p=null,f=null;if(l=l.firstBaseUpdate,l!==null){do{var y={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};f===null?p=f=y:f=f.next=y,l=l.next}while(l!==null);f===null?p=f=s:f=f.next=s}else p=f=s;l={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:f,shared:u.shared,effects:u.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function wo(r,s,l,u){var p=r.updateQueue;hr=!1;var f=p.firstBaseUpdate,y=p.lastBaseUpdate,k=p.shared.pending;if(k!==null){p.shared.pending=null;var P=k,D=P.next;P.next=null,y===null?f=D:y.next=D,y=P;var z=r.alternate;z!==null&&(z=z.updateQueue,k=z.lastBaseUpdate,k!==y&&(k===null?z.firstBaseUpdate=D:k.next=D,z.lastBaseUpdate=P))}if(f!==null){var V=p.baseState;y=0,z=D=P=null,k=f;do{var q=k.lane,re=k.eventTime;if((u&q)===q){z!==null&&(z=z.next={eventTime:re,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var ie=r,le=k;switch(q=s,re=l,le.tag){case 1:if(ie=le.payload,typeof ie=="function"){V=ie.call(re,V,q);break e}V=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=le.payload,q=typeof ie=="function"?ie.call(re,V,q):ie,q==null)break e;V=Y({},V,q);break e;case 2:hr=!0}}k.callback!==null&&k.lane!==0&&(r.flags|=64,q=p.effects,q===null?p.effects=[k]:q.push(k))}else re={eventTime:re,lane:q,tag:k.tag,payload:k.payload,callback:k.callback,next:null},z===null?(D=z=re,P=V):z=z.next=re,y|=q;if(k=k.next,k===null){if(k=p.shared.pending,k===null)break;q=k,k=q.next,q.next=null,p.lastBaseUpdate=q,p.shared.pending=null}}while(!0);if(z===null&&(P=V),p.baseState=P,p.firstBaseUpdate=D,p.lastBaseUpdate=z,s=p.shared.interleaved,s!==null){p=s;do y|=p.lane,p=p.next;while(p!==s)}else f===null&&(p.shared.lanes=0);Fr|=y,r.lanes=y,r.memoizedState=V}}function Vp(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var u=r[s],p=u.callback;if(p!==null){if(u.callback=null,u=l,typeof p!="function")throw Error(t(191,p));p.call(u)}}}var Ls={},kn=cr(Ls),Os=cr(Ls),Ns=cr(Ls);function Mr(r){if(r===Ls)throw Error(t(174));return r}function Mc(r,s){switch(qe(Ns,s),qe(Os,r),qe(kn,Ls),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:oa(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=oa(s,r)}Ke(kn),qe(kn,s)}function Aa(){Ke(kn),Ke(Os),Ke(Ns)}function Wp(r){Mr(Ns.current);var s=Mr(kn.current),l=oa(s,r.type);s!==l&&(qe(Os,r),qe(kn,l))}function Uc(r){Os.current===r&&(Ke(kn),Ke(Os))}var Qe=cr(0);function bo(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Fc=[];function qc(){for(var r=0;r<Fc.length;r++)Fc[r]._workInProgressVersionPrimary=null;Fc.length=0}var Eo=B.ReactCurrentDispatcher,zc=B.ReactCurrentBatchConfig,Ur=0,Xe=null,ht=null,gt=null,ko=!1,js=!1,Is=0,w0=0;function Tt(){throw Error(t(321))}function Vc(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!un(r[l],s[l]))return!1;return!0}function Wc(r,s,l,u,p,f){if(Ur=f,Xe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Eo.current=r===null||r.memoizedState===null?S0:A0,r=l(u,p),js){f=0;do{if(js=!1,Is=0,25<=f)throw Error(t(301));f+=1,gt=ht=null,s.updateQueue=null,Eo.current=C0,r=l(u,p)}while(js)}if(Eo.current=Co,s=ht!==null&&ht.next!==null,Ur=0,gt=ht=Xe=null,ko=!1,s)throw Error(t(300));return r}function Hc(){var r=Is!==0;return Is=0,r}function Sn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Xe.memoizedState=gt=r:gt=gt.next=r,gt}function rn(){if(ht===null){var r=Xe.alternate;r=r!==null?r.memoizedState:null}else r=ht.next;var s=gt===null?Xe.memoizedState:gt.next;if(s!==null)gt=s,ht=r;else{if(r===null)throw Error(t(310));ht=r,r={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},gt===null?Xe.memoizedState=gt=r:gt=gt.next=r}return gt}function Ds(r,s){return typeof s=="function"?s(r):s}function Kc(r){var s=rn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var u=ht,p=u.baseQueue,f=l.pending;if(f!==null){if(p!==null){var y=p.next;p.next=f.next,f.next=y}u.baseQueue=p=f,l.pending=null}if(p!==null){f=p.next,u=u.baseState;var k=y=null,P=null,D=f;do{var z=D.lane;if((Ur&z)===z)P!==null&&(P=P.next={lane:0,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),u=D.hasEagerState?D.eagerState:r(u,D.action);else{var V={lane:z,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null};P===null?(k=P=V,y=u):P=P.next=V,Xe.lanes|=z,Fr|=z}D=D.next}while(D!==null&&D!==f);P===null?y=u:P.next=k,un(u,s.memoizedState)||(Mt=!0),s.memoizedState=u,s.baseState=y,s.baseQueue=P,l.lastRenderedState=u}if(r=l.interleaved,r!==null){p=r;do f=p.lane,Xe.lanes|=f,Fr|=f,p=p.next;while(p!==r)}else p===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Gc(r){var s=rn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var u=l.dispatch,p=l.pending,f=s.memoizedState;if(p!==null){l.pending=null;var y=p=p.next;do f=r(f,y.action),y=y.next;while(y!==p);un(f,s.memoizedState)||(Mt=!0),s.memoizedState=f,s.baseQueue===null&&(s.baseState=f),l.lastRenderedState=f}return[f,u]}function Hp(){}function Kp(r,s){var l=Xe,u=rn(),p=s(),f=!un(u.memoizedState,p);if(f&&(u.memoizedState=p,Mt=!0),u=u.queue,Jc(Yp.bind(null,l,u,r),[r]),u.getSnapshot!==s||f||gt!==null&&gt.memoizedState.tag&1){if(l.flags|=2048,Bs(9,Jp.bind(null,l,u,p,s),void 0,null),vt===null)throw Error(t(349));(Ur&30)!==0||Gp(l,s,p)}return p}function Gp(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=Xe.updateQueue,s===null?(s={lastEffect:null,stores:null},Xe.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function Jp(r,s,l,u){s.value=l,s.getSnapshot=u,Qp(s)&&Xp(r)}function Yp(r,s,l){return l(function(){Qp(s)&&Xp(r)})}function Qp(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!un(r,l)}catch{return!0}}function Xp(r){var s=$n(r,1);s!==null&&mn(s,r,1,-1)}function Zp(r){var s=Sn();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:r},s.queue=r,r=r.dispatch=k0.bind(null,Xe,r),[s.memoizedState,r]}function Bs(r,s,l,u){return r={tag:r,create:s,destroy:l,deps:u,next:null},s=Xe.updateQueue,s===null?(s={lastEffect:null,stores:null},Xe.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(u=l.next,l.next=r,r.next=u,s.lastEffect=r)),r}function ef(){return rn().memoizedState}function So(r,s,l,u){var p=Sn();Xe.flags|=r,p.memoizedState=Bs(1|s,l,void 0,u===void 0?null:u)}function Ao(r,s,l,u){var p=rn();u=u===void 0?null:u;var f=void 0;if(ht!==null){var y=ht.memoizedState;if(f=y.destroy,u!==null&&Vc(u,y.deps)){p.memoizedState=Bs(s,l,f,u);return}}Xe.flags|=r,p.memoizedState=Bs(1|s,l,f,u)}function tf(r,s){return So(8390656,8,r,s)}function Jc(r,s){return Ao(2048,8,r,s)}function nf(r,s){return Ao(4,2,r,s)}function rf(r,s){return Ao(4,4,r,s)}function af(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function sf(r,s,l){return l=l!=null?l.concat([r]):null,Ao(4,4,af.bind(null,s,r),l)}function Yc(){}function of(r,s){var l=rn();s=s===void 0?null:s;var u=l.memoizedState;return u!==null&&s!==null&&Vc(s,u[1])?u[0]:(l.memoizedState=[r,s],r)}function lf(r,s){var l=rn();s=s===void 0?null:s;var u=l.memoizedState;return u!==null&&s!==null&&Vc(s,u[1])?u[0]:(r=r(),l.memoizedState=[r,s],r)}function cf(r,s,l){return(Ur&21)===0?(r.baseState&&(r.baseState=!1,Mt=!0),r.memoizedState=l):(un(l,s)||(l=$h(),Xe.lanes|=l,Fr|=l,r.baseState=!0),s)}function b0(r,s){var l=Me;Me=l!==0&&4>l?l:4,r(!0);var u=zc.transition;zc.transition={};try{r(!1),s()}finally{Me=l,zc.transition=u}}function uf(){return rn().memoizedState}function E0(r,s,l){var u=vr(r);if(l={lane:u,action:l,hasEagerState:!1,eagerState:null,next:null},df(r))hf(s,l);else if(l=Fp(r,s,l,u),l!==null){var p=It();mn(l,r,u,p),pf(l,s,u)}}function k0(r,s,l){var u=vr(r),p={lane:u,action:l,hasEagerState:!1,eagerState:null,next:null};if(df(r))hf(s,p);else{var f=r.alternate;if(r.lanes===0&&(f===null||f.lanes===0)&&(f=s.lastRenderedReducer,f!==null))try{var y=s.lastRenderedState,k=f(y,l);if(p.hasEagerState=!0,p.eagerState=k,un(k,y)){var P=s.interleaved;P===null?(p.next=p,Bc(s)):(p.next=P.next,P.next=p),s.interleaved=p;return}}catch{}finally{}l=Fp(r,s,p,u),l!==null&&(p=It(),mn(l,r,u,p),pf(l,s,u))}}function df(r){var s=r.alternate;return r===Xe||s!==null&&s===Xe}function hf(r,s){js=ko=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function pf(r,s,l){if((l&4194240)!==0){var u=s.lanes;u&=r.pendingLanes,l|=u,s.lanes=l,Xl(r,l)}}var Co={readContext:nn,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},S0={readContext:nn,useCallback:function(r,s){return Sn().memoizedState=[r,s===void 0?null:s],r},useContext:nn,useEffect:tf,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,So(4194308,4,af.bind(null,s,r),l)},useLayoutEffect:function(r,s){return So(4194308,4,r,s)},useInsertionEffect:function(r,s){return So(4,2,r,s)},useMemo:function(r,s){var l=Sn();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var u=Sn();return s=l!==void 0?l(s):s,u.memoizedState=u.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},u.queue=r,r=r.dispatch=E0.bind(null,Xe,r),[u.memoizedState,r]},useRef:function(r){var s=Sn();return r={current:r},s.memoizedState=r},useState:Zp,useDebugValue:Yc,useDeferredValue:function(r){return Sn().memoizedState=r},useTransition:function(){var r=Zp(!1),s=r[0];return r=b0.bind(null,r[1]),Sn().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var u=Xe,p=Sn();if(Ye){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),vt===null)throw Error(t(349));(Ur&30)!==0||Gp(u,s,l)}p.memoizedState=l;var f={value:l,getSnapshot:s};return p.queue=f,tf(Yp.bind(null,u,f,r),[r]),u.flags|=2048,Bs(9,Jp.bind(null,u,f,l,s),void 0,null),l},useId:function(){var r=Sn(),s=vt.identifierPrefix;if(Ye){var l=Bn,u=Dn;l=(u&~(1<<32-cn(u)-1)).toString(32)+l,s=":"+s+"R"+l,l=Is++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=w0++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},A0={readContext:nn,useCallback:of,useContext:nn,useEffect:Jc,useImperativeHandle:sf,useInsertionEffect:nf,useLayoutEffect:rf,useMemo:lf,useReducer:Kc,useRef:ef,useState:function(){return Kc(Ds)},useDebugValue:Yc,useDeferredValue:function(r){var s=rn();return cf(s,ht.memoizedState,r)},useTransition:function(){var r=Kc(Ds)[0],s=rn().memoizedState;return[r,s]},useMutableSource:Hp,useSyncExternalStore:Kp,useId:uf,unstable_isNewReconciler:!1},C0={readContext:nn,useCallback:of,useContext:nn,useEffect:Jc,useImperativeHandle:sf,useInsertionEffect:nf,useLayoutEffect:rf,useMemo:lf,useReducer:Gc,useRef:ef,useState:function(){return Gc(Ds)},useDebugValue:Yc,useDeferredValue:function(r){var s=rn();return ht===null?s.memoizedState=r:cf(s,ht.memoizedState,r)},useTransition:function(){var r=Gc(Ds)[0],s=rn().memoizedState;return[r,s]},useMutableSource:Hp,useSyncExternalStore:Kp,useId:uf,unstable_isNewReconciler:!1};function hn(r,s){if(r&&r.defaultProps){s=Y({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function Qc(r,s,l,u){s=r.memoizedState,l=l(u,s),l=l==null?s:Y({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Po={isMounted:function(r){return(r=r._reactInternals)?Nr(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var u=It(),p=vr(r),f=Mn(u,p);f.payload=s,l!=null&&(f.callback=l),s=pr(r,f,p),s!==null&&(mn(s,r,p,u),xo(s,r,p))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var u=It(),p=vr(r),f=Mn(u,p);f.tag=1,f.payload=s,l!=null&&(f.callback=l),s=pr(r,f,p),s!==null&&(mn(s,r,p,u),xo(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=It(),u=vr(r),p=Mn(l,u);p.tag=2,s!=null&&(p.callback=s),s=pr(r,p,u),s!==null&&(mn(s,r,u,l),xo(s,r,u))}};function ff(r,s,l,u,p,f,y){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,f,y):s.prototype&&s.prototype.isPureReactComponent?!Es(l,u)||!Es(p,f):!0}function mf(r,s,l){var u=!1,p=ur,f=s.contextType;return typeof f=="object"&&f!==null?f=nn(f):(p=$t(s)?Ir:Pt.current,u=s.contextTypes,f=(u=u!=null)?_a(r,p):ur),s=new s(l,f),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Po,r.stateNode=s,s._reactInternals=r,u&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=f),s}function gf(r,s,l,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,u),s.state!==r&&Po.enqueueReplaceState(s,s.state,null)}function Xc(r,s,l,u){var p=r.stateNode;p.props=l,p.state=r.memoizedState,p.refs={},$c(r);var f=s.contextType;typeof f=="object"&&f!==null?p.context=nn(f):(f=$t(s)?Ir:Pt.current,p.context=_a(r,f)),p.state=r.memoizedState,f=s.getDerivedStateFromProps,typeof f=="function"&&(Qc(r,s,f,l),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Po.enqueueReplaceState(p,p.state,null),wo(r,l,p,u),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function Ca(r,s){try{var l="",u=s;do l+=ke(u),u=u.return;while(u);var p=l}catch(f){p=`
Error generating stack: `+f.message+`
`+f.stack}return{value:r,source:s,stack:p,digest:null}}function Zc(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function eu(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var P0=typeof WeakMap=="function"?WeakMap:Map;function vf(r,s,l){l=Mn(-1,l),l.tag=3,l.payload={element:null};var u=s.value;return l.callback=function(){Io||(Io=!0,mu=u),eu(r,s)},l}function yf(r,s,l){l=Mn(-1,l),l.tag=3;var u=r.type.getDerivedStateFromError;if(typeof u=="function"){var p=s.value;l.payload=function(){return u(p)},l.callback=function(){eu(r,s)}}var f=r.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(l.callback=function(){eu(r,s),typeof u!="function"&&(mr===null?mr=new Set([this]):mr.add(this));var y=s.stack;this.componentDidCatch(s.value,{componentStack:y!==null?y:""})}),l}function _f(r,s,l){var u=r.pingCache;if(u===null){u=r.pingCache=new P0;var p=new Set;u.set(s,p)}else p=u.get(s),p===void 0&&(p=new Set,u.set(s,p));p.has(l)||(p.add(l),r=q0.bind(null,r,s,l),s.then(r,r))}function xf(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function wf(r,s,l,u,p){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Mn(-1,1),s.tag=2,pr(l,s,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=p,r)}var T0=B.ReactCurrentOwner,Mt=!1;function jt(r,s,l,u){s.child=r===null?Up(s,null,l,u):Ea(s,r.child,l,u)}function bf(r,s,l,u,p){l=l.render;var f=s.ref;return Sa(s,p),u=Wc(r,s,l,u,f,p),l=Hc(),r!==null&&!Mt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Un(r,s,p)):(Ye&&l&&Pc(s),s.flags|=1,jt(r,s,u,p),s.child)}function Ef(r,s,l,u,p){if(r===null){var f=l.type;return typeof f=="function"&&!bu(f)&&f.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=f,kf(r,s,f,u,p)):(r=Fo(l.type,null,u,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(f=r.child,(r.lanes&p)===0){var y=f.memoizedProps;if(l=l.compare,l=l!==null?l:Es,l(y,u)&&r.ref===s.ref)return Un(r,s,p)}return s.flags|=1,r=_r(f,u),r.ref=s.ref,r.return=s,s.child=r}function kf(r,s,l,u,p){if(r!==null){var f=r.memoizedProps;if(Es(f,u)&&r.ref===s.ref)if(Mt=!1,s.pendingProps=u=f,(r.lanes&p)!==0)(r.flags&131072)!==0&&(Mt=!0);else return s.lanes=r.lanes,Un(r,s,p)}return tu(r,s,l,u,p)}function Sf(r,s,l){var u=s.pendingProps,p=u.children,f=r!==null?r.memoizedState:null;if(u.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(Ta,Jt),Jt|=l;else{if((l&1073741824)===0)return r=f!==null?f.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,qe(Ta,Jt),Jt|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=f!==null?f.baseLanes:l,qe(Ta,Jt),Jt|=u}else f!==null?(u=f.baseLanes|l,s.memoizedState=null):u=l,qe(Ta,Jt),Jt|=u;return jt(r,s,p,l),s.child}function Af(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function tu(r,s,l,u,p){var f=$t(l)?Ir:Pt.current;return f=_a(s,f),Sa(s,p),l=Wc(r,s,l,u,f,p),u=Hc(),r!==null&&!Mt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Un(r,s,p)):(Ye&&u&&Pc(s),s.flags|=1,jt(r,s,l,p),s.child)}function Cf(r,s,l,u,p){if($t(l)){var f=!0;ho(s)}else f=!1;if(Sa(s,p),s.stateNode===null)Ro(r,s),mf(s,l,u),Xc(s,l,u,p),u=!0;else if(r===null){var y=s.stateNode,k=s.memoizedProps;y.props=k;var P=y.context,D=l.contextType;typeof D=="object"&&D!==null?D=nn(D):(D=$t(l)?Ir:Pt.current,D=_a(s,D));var z=l.getDerivedStateFromProps,V=typeof z=="function"||typeof y.getSnapshotBeforeUpdate=="function";V||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(k!==u||P!==D)&&gf(s,y,u,D),hr=!1;var q=s.memoizedState;y.state=q,wo(s,u,y,p),P=s.memoizedState,k!==u||q!==P||Bt.current||hr?(typeof z=="function"&&(Qc(s,l,z,u),P=s.memoizedState),(k=hr||ff(s,l,k,u,q,P,D))?(V||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=P),y.props=u,y.state=P,y.context=D,u=k):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{y=s.stateNode,qp(r,s),k=s.memoizedProps,D=s.type===s.elementType?k:hn(s.type,k),y.props=D,V=s.pendingProps,q=y.context,P=l.contextType,typeof P=="object"&&P!==null?P=nn(P):(P=$t(l)?Ir:Pt.current,P=_a(s,P));var re=l.getDerivedStateFromProps;(z=typeof re=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(k!==V||q!==P)&&gf(s,y,u,P),hr=!1,q=s.memoizedState,y.state=q,wo(s,u,y,p);var ie=s.memoizedState;k!==V||q!==ie||Bt.current||hr?(typeof re=="function"&&(Qc(s,l,re,u),ie=s.memoizedState),(D=hr||ff(s,l,D,u,q,ie,P)||!1)?(z||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,ie,P),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,ie,P)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||k===r.memoizedProps&&q===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&q===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=ie),y.props=u,y.state=ie,y.context=P,u=D):(typeof y.componentDidUpdate!="function"||k===r.memoizedProps&&q===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&q===r.memoizedState||(s.flags|=1024),u=!1)}return nu(r,s,l,u,f,p)}function nu(r,s,l,u,p,f){Af(r,s);var y=(s.flags&128)!==0;if(!u&&!y)return p&&Lp(s,l,!1),Un(r,s,f);u=s.stateNode,T0.current=s;var k=y&&typeof l.getDerivedStateFromError!="function"?null:u.render();return s.flags|=1,r!==null&&y?(s.child=Ea(s,r.child,null,f),s.child=Ea(s,null,k,f)):jt(r,s,k,f),s.memoizedState=u.state,p&&Lp(s,l,!0),s.child}function Pf(r){var s=r.stateNode;s.pendingContext?Tp(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Tp(r,s.context,!1),Mc(r,s.containerInfo)}function Tf(r,s,l,u,p){return ba(),Oc(p),s.flags|=256,jt(r,s,l,u),s.child}var ru={dehydrated:null,treeContext:null,retryLane:0};function au(r){return{baseLanes:r,cachePool:null,transitions:null}}function Rf(r,s,l){var u=s.pendingProps,p=Qe.current,f=!1,y=(s.flags&128)!==0,k;if((k=y)||(k=r!==null&&r.memoizedState===null?!1:(p&2)!==0),k?(f=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),qe(Qe,p&1),r===null)return Lc(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(y=u.children,r=u.fallback,f?(u=s.mode,f=s.child,y={mode:"hidden",children:y},(u&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=y):f=qo(y,u,0,null),r=Wr(r,u,l,null),f.return=s,r.return=s,f.sibling=r,s.child=f,s.child.memoizedState=au(l),s.memoizedState=ru,r):su(s,y));if(p=r.memoizedState,p!==null&&(k=p.dehydrated,k!==null))return R0(r,s,y,u,k,p,l);if(f){f=u.fallback,y=s.mode,p=r.child,k=p.sibling;var P={mode:"hidden",children:u.children};return(y&1)===0&&s.child!==p?(u=s.child,u.childLanes=0,u.pendingProps=P,s.deletions=null):(u=_r(p,P),u.subtreeFlags=p.subtreeFlags&14680064),k!==null?f=_r(k,f):(f=Wr(f,y,l,null),f.flags|=2),f.return=s,u.return=s,u.sibling=f,s.child=u,u=f,f=s.child,y=r.child.memoizedState,y=y===null?au(l):{baseLanes:y.baseLanes|l,cachePool:null,transitions:y.transitions},f.memoizedState=y,f.childLanes=r.childLanes&~l,s.memoizedState=ru,u}return f=r.child,r=f.sibling,u=_r(f,{mode:"visible",children:u.children}),(s.mode&1)===0&&(u.lanes=l),u.return=s,u.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=u,s.memoizedState=null,u}function su(r,s){return s=qo({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function To(r,s,l,u){return u!==null&&Oc(u),Ea(s,r.child,null,l),r=su(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function R0(r,s,l,u,p,f,y){if(l)return s.flags&256?(s.flags&=-257,u=Zc(Error(t(422))),To(r,s,y,u)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(f=u.fallback,p=s.mode,u=qo({mode:"visible",children:u.children},p,0,null),f=Wr(f,p,y,null),f.flags|=2,u.return=s,f.return=s,u.sibling=f,s.child=u,(s.mode&1)!==0&&Ea(s,r.child,null,y),s.child.memoizedState=au(y),s.memoizedState=ru,f);if((s.mode&1)===0)return To(r,s,y,null);if(p.data==="$!"){if(u=p.nextSibling&&p.nextSibling.dataset,u)var k=u.dgst;return u=k,f=Error(t(419)),u=Zc(f,u,void 0),To(r,s,y,u)}if(k=(y&r.childLanes)!==0,Mt||k){if(u=vt,u!==null){switch(y&-y){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(u.suspendedLanes|y))!==0?0:p,p!==0&&p!==f.retryLane&&(f.retryLane=p,$n(r,p),mn(u,r,p,-1))}return wu(),u=Zc(Error(t(421))),To(r,s,y,u)}return p.data==="$?"?(s.flags|=128,s.child=r.child,s=z0.bind(null,r),p._reactRetry=s,null):(r=f.treeContext,Gt=lr(p.nextSibling),Kt=s,Ye=!0,dn=null,r!==null&&(en[tn++]=Dn,en[tn++]=Bn,en[tn++]=Dr,Dn=r.id,Bn=r.overflow,Dr=s),s=su(s,u.children),s.flags|=4096,s)}function Lf(r,s,l){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),Dc(r.return,s,l)}function iu(r,s,l,u,p){var f=r.memoizedState;f===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:p}:(f.isBackwards=s,f.rendering=null,f.renderingStartTime=0,f.last=u,f.tail=l,f.tailMode=p)}function Of(r,s,l){var u=s.pendingProps,p=u.revealOrder,f=u.tail;if(jt(r,s,u.children,l),u=Qe.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Lf(r,l,s);else if(r.tag===19)Lf(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}if(qe(Qe,u),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(l=s.child,p=null;l!==null;)r=l.alternate,r!==null&&bo(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),iu(s,!1,p,l,f);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&bo(r)===null){s.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}iu(s,!0,l,null,f);break;case"together":iu(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ro(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Un(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),Fr|=s.lanes,(l&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=_r(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=_r(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function L0(r,s,l){switch(s.tag){case 3:Pf(s),ba();break;case 5:Wp(s);break;case 1:$t(s.type)&&ho(s);break;case 4:Mc(s,s.stateNode.containerInfo);break;case 10:var u=s.type._context,p=s.memoizedProps.value;qe(yo,u._currentValue),u._currentValue=p;break;case 13:if(u=s.memoizedState,u!==null)return u.dehydrated!==null?(qe(Qe,Qe.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?Rf(r,s,l):(qe(Qe,Qe.current&1),r=Un(r,s,l),r!==null?r.sibling:null);qe(Qe,Qe.current&1);break;case 19:if(u=(l&s.childLanes)!==0,(r.flags&128)!==0){if(u)return Of(r,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),qe(Qe,Qe.current),u)break;return null;case 22:case 23:return s.lanes=0,Sf(r,s,l)}return Un(r,s,l)}var Nf,ou,jf,If;Nf=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},ou=function(){},jf=function(r,s,l,u){var p=r.memoizedProps;if(p!==u){r=s.stateNode,Mr(kn.current);var f=null;switch(l){case"input":p=Ct(r,p),u=Ct(r,u),f=[];break;case"select":p=Y({},p,{value:void 0}),u=Y({},u,{value:void 0}),f=[];break;case"textarea":p=is(r,p),u=is(r,u),f=[];break;default:typeof p.onClick!="function"&&typeof u.onClick=="function"&&(r.onclick=lo)}Fl(l,u);var y;l=null;for(D in p)if(!u.hasOwnProperty(D)&&p.hasOwnProperty(D)&&p[D]!=null)if(D==="style"){var k=p[D];for(y in k)k.hasOwnProperty(y)&&(l||(l={}),l[y]="")}else D!=="dangerouslySetInnerHTML"&&D!=="children"&&D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&D!=="autoFocus"&&(i.hasOwnProperty(D)?f||(f=[]):(f=f||[]).push(D,null));for(D in u){var P=u[D];if(k=p!=null?p[D]:void 0,u.hasOwnProperty(D)&&P!==k&&(P!=null||k!=null))if(D==="style")if(k){for(y in k)!k.hasOwnProperty(y)||P&&P.hasOwnProperty(y)||(l||(l={}),l[y]="");for(y in P)P.hasOwnProperty(y)&&k[y]!==P[y]&&(l||(l={}),l[y]=P[y])}else l||(f||(f=[]),f.push(D,l)),l=P;else D==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,k=k?k.__html:void 0,P!=null&&k!==P&&(f=f||[]).push(D,P)):D==="children"?typeof P!="string"&&typeof P!="number"||(f=f||[]).push(D,""+P):D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&(i.hasOwnProperty(D)?(P!=null&&D==="onScroll"&&He("scroll",r),f||k===P||(f=[])):(f=f||[]).push(D,P))}l&&(f=f||[]).push("style",l);var D=f;(s.updateQueue=D)&&(s.flags|=4)}},If=function(r,s,l,u){l!==u&&(s.flags|=4)};function $s(r,s){if(!Ye)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function Rt(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,u=0;if(s)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags&14680064,u|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=u,r.childLanes=l,s}function O0(r,s,l){var u=s.pendingProps;switch(Tc(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(s),null;case 1:return $t(s.type)&&uo(),Rt(s),null;case 3:return u=s.stateNode,Aa(),Ke(Bt),Ke(Pt),qc(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(go(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,dn!==null&&(yu(dn),dn=null))),ou(r,s),Rt(s),null;case 5:Uc(s);var p=Mr(Ns.current);if(l=s.type,r!==null&&s.stateNode!=null)jf(r,s,l,u,p),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!u){if(s.stateNode===null)throw Error(t(166));return Rt(s),null}if(r=Mr(kn.current),go(s)){u=s.stateNode,l=s.type;var f=s.memoizedProps;switch(u[En]=s,u[Ps]=f,r=(s.mode&1)!==0,l){case"dialog":He("cancel",u),He("close",u);break;case"iframe":case"object":case"embed":He("load",u);break;case"video":case"audio":for(p=0;p<Ss.length;p++)He(Ss[p],u);break;case"source":He("error",u);break;case"img":case"image":case"link":He("error",u),He("load",u);break;case"details":He("toggle",u);break;case"input":Zn(u,f),He("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!f.multiple},He("invalid",u);break;case"textarea":Di(u,f),He("invalid",u)}Fl(l,f),p=null;for(var y in f)if(f.hasOwnProperty(y)){var k=f[y];y==="children"?typeof k=="string"?u.textContent!==k&&(f.suppressHydrationWarning!==!0&&oo(u.textContent,k,r),p=["children",k]):typeof k=="number"&&u.textContent!==""+k&&(f.suppressHydrationWarning!==!0&&oo(u.textContent,k,r),p=["children",""+k]):i.hasOwnProperty(y)&&k!=null&&y==="onScroll"&&He("scroll",u)}switch(l){case"input":Ln(u),Ii(u,f,!0);break;case"textarea":Ln(u),$i(u);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(u.onclick=lo)}u=p,s.updateQueue=u,u!==null&&(s.flags|=4)}else{y=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Mi(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=y.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof u.is=="string"?r=y.createElement(l,{is:u.is}):(r=y.createElement(l),l==="select"&&(y=r,u.multiple?y.multiple=!0:u.size&&(y.size=u.size))):r=y.createElementNS(r,l),r[En]=s,r[Ps]=u,Nf(r,s,!1,!1),s.stateNode=r;e:{switch(y=ql(l,u),l){case"dialog":He("cancel",r),He("close",r),p=u;break;case"iframe":case"object":case"embed":He("load",r),p=u;break;case"video":case"audio":for(p=0;p<Ss.length;p++)He(Ss[p],r);p=u;break;case"source":He("error",r),p=u;break;case"img":case"image":case"link":He("error",r),He("load",r),p=u;break;case"details":He("toggle",r),p=u;break;case"input":Zn(r,u),p=Ct(r,u),He("invalid",r);break;case"option":p=u;break;case"select":r._wrapperState={wasMultiple:!!u.multiple},p=Y({},u,{value:void 0}),He("invalid",r);break;case"textarea":Di(r,u),p=is(r,u),He("invalid",r);break;default:p=u}Fl(l,p),k=p;for(f in k)if(k.hasOwnProperty(f)){var P=k[f];f==="style"?Eh(r,P):f==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&Te(r,P)):f==="children"?typeof P=="string"?(l!=="textarea"||P!=="")&&De(r,P):typeof P=="number"&&De(r,""+P):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(i.hasOwnProperty(f)?P!=null&&f==="onScroll"&&He("scroll",r):P!=null&&N(r,f,P,y))}switch(l){case"input":Ln(r),Ii(r,u,!1);break;case"textarea":Ln(r),$i(r);break;case"option":u.value!=null&&r.setAttribute("value",""+Re(u.value));break;case"select":r.multiple=!!u.multiple,f=u.value,f!=null?tr(r,!!u.multiple,f,!1):u.defaultValue!=null&&tr(r,!!u.multiple,u.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=lo)}switch(l){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Rt(s),null;case 6:if(r&&s.stateNode!=null)If(r,s,r.memoizedProps,u);else{if(typeof u!="string"&&s.stateNode===null)throw Error(t(166));if(l=Mr(Ns.current),Mr(kn.current),go(s)){if(u=s.stateNode,l=s.memoizedProps,u[En]=s,(f=u.nodeValue!==l)&&(r=Kt,r!==null))switch(r.tag){case 3:oo(u.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&oo(u.nodeValue,l,(r.mode&1)!==0)}f&&(s.flags|=4)}else u=(l.nodeType===9?l:l.ownerDocument).createTextNode(u),u[En]=s,s.stateNode=u}return Rt(s),null;case 13:if(Ke(Qe),u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ye&&Gt!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Bp(),ba(),s.flags|=98560,f=!1;else if(f=go(s),u!==null&&u.dehydrated!==null){if(r===null){if(!f)throw Error(t(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(t(317));f[En]=s}else ba(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Rt(s),f=!1}else dn!==null&&(yu(dn),dn=null),f=!0;if(!f)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(u=u!==null,u!==(r!==null&&r.memoizedState!==null)&&u&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(Qe.current&1)!==0?pt===0&&(pt=3):wu())),s.updateQueue!==null&&(s.flags|=4),Rt(s),null);case 4:return Aa(),ou(r,s),r===null&&As(s.stateNode.containerInfo),Rt(s),null;case 10:return Ic(s.type._context),Rt(s),null;case 17:return $t(s.type)&&uo(),Rt(s),null;case 19:if(Ke(Qe),f=s.memoizedState,f===null)return Rt(s),null;if(u=(s.flags&128)!==0,y=f.rendering,y===null)if(u)$s(f,!1);else{if(pt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(y=bo(r),y!==null){for(s.flags|=128,$s(f,!1),u=y.updateQueue,u!==null&&(s.updateQueue=u,s.flags|=4),s.subtreeFlags=0,u=l,l=s.child;l!==null;)f=l,r=u,f.flags&=14680066,y=f.alternate,y===null?(f.childLanes=0,f.lanes=r,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=y.childLanes,f.lanes=y.lanes,f.child=y.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=y.memoizedProps,f.memoizedState=y.memoizedState,f.updateQueue=y.updateQueue,f.type=y.type,r=y.dependencies,f.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return qe(Qe,Qe.current&1|2),s.child}r=r.sibling}f.tail!==null&&st()>Ra&&(s.flags|=128,u=!0,$s(f,!1),s.lanes=4194304)}else{if(!u)if(r=bo(y),r!==null){if(s.flags|=128,u=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),$s(f,!0),f.tail===null&&f.tailMode==="hidden"&&!y.alternate&&!Ye)return Rt(s),null}else 2*st()-f.renderingStartTime>Ra&&l!==1073741824&&(s.flags|=128,u=!0,$s(f,!1),s.lanes=4194304);f.isBackwards?(y.sibling=s.child,s.child=y):(l=f.last,l!==null?l.sibling=y:s.child=y,f.last=y)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=st(),s.sibling=null,l=Qe.current,qe(Qe,u?l&1|2:l&1),s):(Rt(s),null);case 22:case 23:return xu(),u=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==u&&(s.flags|=8192),u&&(s.mode&1)!==0?(Jt&1073741824)!==0&&(Rt(s),s.subtreeFlags&6&&(s.flags|=8192)):Rt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function N0(r,s){switch(Tc(s),s.tag){case 1:return $t(s.type)&&uo(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Aa(),Ke(Bt),Ke(Pt),qc(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Uc(s),null;case 13:if(Ke(Qe),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));ba()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ke(Qe),null;case 4:return Aa(),null;case 10:return Ic(s.type._context),null;case 22:case 23:return xu(),null;case 24:return null;default:return null}}var Lo=!1,Lt=!1,j0=typeof WeakSet=="function"?WeakSet:Set,se=null;function Pa(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(u){nt(r,s,u)}else l.current=null}function lu(r,s,l){try{l()}catch(u){nt(r,s,u)}}var Df=!1;function I0(r,s){if(xc=Yi,r=pp(),hc(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var p=u.anchorOffset,f=u.focusNode;u=u.focusOffset;try{l.nodeType,f.nodeType}catch{l=null;break e}var y=0,k=-1,P=-1,D=0,z=0,V=r,q=null;t:for(;;){for(var re;V!==l||p!==0&&V.nodeType!==3||(k=y+p),V!==f||u!==0&&V.nodeType!==3||(P=y+u),V.nodeType===3&&(y+=V.nodeValue.length),(re=V.firstChild)!==null;)q=V,V=re;for(;;){if(V===r)break t;if(q===l&&++D===p&&(k=y),q===f&&++z===u&&(P=y),(re=V.nextSibling)!==null)break;V=q,q=V.parentNode}V=re}l=k===-1||P===-1?null:{start:k,end:P}}else l=null}l=l||{start:0,end:0}}else l=null;for(wc={focusedElem:r,selectionRange:l},Yi=!1,se=s;se!==null;)if(s=se,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,se=r;else for(;se!==null;){s=se;try{var ie=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ie!==null){var le=ie.memoizedProps,it=ie.memoizedState,j=s.stateNode,T=j.getSnapshotBeforeUpdate(s.elementType===s.type?le:hn(s.type,le),it);j.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var I=s.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(H){nt(s,s.return,H)}if(r=s.sibling,r!==null){r.return=s.return,se=r;break}se=s.return}return ie=Df,Df=!1,ie}function Ms(r,s,l){var u=s.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var p=u=u.next;do{if((p.tag&r)===r){var f=p.destroy;p.destroy=void 0,f!==void 0&&lu(s,l,f)}p=p.next}while(p!==u)}}function Oo(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var u=l.create;l.destroy=u()}l=l.next}while(l!==s)}}function cu(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function Bf(r){var s=r.alternate;s!==null&&(r.alternate=null,Bf(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[En],delete s[Ps],delete s[Sc],delete s[v0],delete s[y0])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function $f(r){return r.tag===5||r.tag===3||r.tag===4}function Mf(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||$f(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function uu(r,s,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=lo));else if(u!==4&&(r=r.child,r!==null))for(uu(r,s,l),r=r.sibling;r!==null;)uu(r,s,l),r=r.sibling}function du(r,s,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(u!==4&&(r=r.child,r!==null))for(du(r,s,l),r=r.sibling;r!==null;)du(r,s,l),r=r.sibling}var xt=null,pn=!1;function fr(r,s,l){for(l=l.child;l!==null;)Uf(r,s,l),l=l.sibling}function Uf(r,s,l){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(Vi,l)}catch{}switch(l.tag){case 5:Lt||Pa(l,s);case 6:var u=xt,p=pn;xt=null,fr(r,s,l),xt=u,pn=p,xt!==null&&(pn?(r=xt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):xt.removeChild(l.stateNode));break;case 18:xt!==null&&(pn?(r=xt,l=l.stateNode,r.nodeType===8?kc(r.parentNode,l):r.nodeType===1&&kc(r,l),vs(r)):kc(xt,l.stateNode));break;case 4:u=xt,p=pn,xt=l.stateNode.containerInfo,pn=!0,fr(r,s,l),xt=u,pn=p;break;case 0:case 11:case 14:case 15:if(!Lt&&(u=l.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){p=u=u.next;do{var f=p,y=f.destroy;f=f.tag,y!==void 0&&((f&2)!==0||(f&4)!==0)&&lu(l,s,y),p=p.next}while(p!==u)}fr(r,s,l);break;case 1:if(!Lt&&(Pa(l,s),u=l.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=l.memoizedProps,u.state=l.memoizedState,u.componentWillUnmount()}catch(k){nt(l,s,k)}fr(r,s,l);break;case 21:fr(r,s,l);break;case 22:l.mode&1?(Lt=(u=Lt)||l.memoizedState!==null,fr(r,s,l),Lt=u):fr(r,s,l);break;default:fr(r,s,l)}}function Ff(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new j0),s.forEach(function(u){var p=V0.bind(null,r,u);l.has(u)||(l.add(u),u.then(p,p))})}}function fn(r,s){var l=s.deletions;if(l!==null)for(var u=0;u<l.length;u++){var p=l[u];try{var f=r,y=s,k=y;e:for(;k!==null;){switch(k.tag){case 5:xt=k.stateNode,pn=!1;break e;case 3:xt=k.stateNode.containerInfo,pn=!0;break e;case 4:xt=k.stateNode.containerInfo,pn=!0;break e}k=k.return}if(xt===null)throw Error(t(160));Uf(f,y,p),xt=null,pn=!1;var P=p.alternate;P!==null&&(P.return=null),p.return=null}catch(D){nt(p,s,D)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)qf(s,r),s=s.sibling}function qf(r,s){var l=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(fn(s,r),An(r),u&4){try{Ms(3,r,r.return),Oo(3,r)}catch(le){nt(r,r.return,le)}try{Ms(5,r,r.return)}catch(le){nt(r,r.return,le)}}break;case 1:fn(s,r),An(r),u&512&&l!==null&&Pa(l,l.return);break;case 5:if(fn(s,r),An(r),u&512&&l!==null&&Pa(l,l.return),r.flags&32){var p=r.stateNode;try{De(p,"")}catch(le){nt(r,r.return,le)}}if(u&4&&(p=r.stateNode,p!=null)){var f=r.memoizedProps,y=l!==null?l.memoizedProps:f,k=r.type,P=r.updateQueue;if(r.updateQueue=null,P!==null)try{k==="input"&&f.type==="radio"&&f.name!=null&&On(p,f),ql(k,y);var D=ql(k,f);for(y=0;y<P.length;y+=2){var z=P[y],V=P[y+1];z==="style"?Eh(p,V):z==="dangerouslySetInnerHTML"?Te(p,V):z==="children"?De(p,V):N(p,z,V,D)}switch(k){case"input":Nn(p,f);break;case"textarea":Bi(p,f);break;case"select":var q=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!f.multiple;var re=f.value;re!=null?tr(p,!!f.multiple,re,!1):q!==!!f.multiple&&(f.defaultValue!=null?tr(p,!!f.multiple,f.defaultValue,!0):tr(p,!!f.multiple,f.multiple?[]:"",!1))}p[Ps]=f}catch(le){nt(r,r.return,le)}}break;case 6:if(fn(s,r),An(r),u&4){if(r.stateNode===null)throw Error(t(162));p=r.stateNode,f=r.memoizedProps;try{p.nodeValue=f}catch(le){nt(r,r.return,le)}}break;case 3:if(fn(s,r),An(r),u&4&&l!==null&&l.memoizedState.isDehydrated)try{vs(s.containerInfo)}catch(le){nt(r,r.return,le)}break;case 4:fn(s,r),An(r);break;case 13:fn(s,r),An(r),p=r.child,p.flags&8192&&(f=p.memoizedState!==null,p.stateNode.isHidden=f,!f||p.alternate!==null&&p.alternate.memoizedState!==null||(fu=st())),u&4&&Ff(r);break;case 22:if(z=l!==null&&l.memoizedState!==null,r.mode&1?(Lt=(D=Lt)||z,fn(s,r),Lt=D):fn(s,r),An(r),u&8192){if(D=r.memoizedState!==null,(r.stateNode.isHidden=D)&&!z&&(r.mode&1)!==0)for(se=r,z=r.child;z!==null;){for(V=se=z;se!==null;){switch(q=se,re=q.child,q.tag){case 0:case 11:case 14:case 15:Ms(4,q,q.return);break;case 1:Pa(q,q.return);var ie=q.stateNode;if(typeof ie.componentWillUnmount=="function"){u=q,l=q.return;try{s=u,ie.props=s.memoizedProps,ie.state=s.memoizedState,ie.componentWillUnmount()}catch(le){nt(u,l,le)}}break;case 5:Pa(q,q.return);break;case 22:if(q.memoizedState!==null){Wf(V);continue}}re!==null?(re.return=q,se=re):Wf(V)}z=z.sibling}e:for(z=null,V=r;;){if(V.tag===5){if(z===null){z=V;try{p=V.stateNode,D?(f=p.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(k=V.stateNode,P=V.memoizedProps.style,y=P!=null&&P.hasOwnProperty("display")?P.display:null,k.style.display=os("display",y))}catch(le){nt(r,r.return,le)}}}else if(V.tag===6){if(z===null)try{V.stateNode.nodeValue=D?"":V.memoizedProps}catch(le){nt(r,r.return,le)}}else if((V.tag!==22&&V.tag!==23||V.memoizedState===null||V===r)&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===r)break e;for(;V.sibling===null;){if(V.return===null||V.return===r)break e;z===V&&(z=null),V=V.return}z===V&&(z=null),V.sibling.return=V.return,V=V.sibling}}break;case 19:fn(s,r),An(r),u&4&&Ff(r);break;case 21:break;default:fn(s,r),An(r)}}function An(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if($f(l)){var u=l;break e}l=l.return}throw Error(t(160))}switch(u.tag){case 5:var p=u.stateNode;u.flags&32&&(De(p,""),u.flags&=-33);var f=Mf(r);du(r,f,p);break;case 3:case 4:var y=u.stateNode.containerInfo,k=Mf(r);uu(r,k,y);break;default:throw Error(t(161))}}catch(P){nt(r,r.return,P)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function D0(r,s,l){se=r,zf(r)}function zf(r,s,l){for(var u=(r.mode&1)!==0;se!==null;){var p=se,f=p.child;if(p.tag===22&&u){var y=p.memoizedState!==null||Lo;if(!y){var k=p.alternate,P=k!==null&&k.memoizedState!==null||Lt;k=Lo;var D=Lt;if(Lo=y,(Lt=P)&&!D)for(se=p;se!==null;)y=se,P=y.child,y.tag===22&&y.memoizedState!==null?Hf(p):P!==null?(P.return=y,se=P):Hf(p);for(;f!==null;)se=f,zf(f),f=f.sibling;se=p,Lo=k,Lt=D}Vf(r)}else(p.subtreeFlags&8772)!==0&&f!==null?(f.return=p,se=f):Vf(r)}}function Vf(r){for(;se!==null;){var s=se;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Lt||Oo(5,s);break;case 1:var u=s.stateNode;if(s.flags&4&&!Lt)if(l===null)u.componentDidMount();else{var p=s.elementType===s.type?l.memoizedProps:hn(s.type,l.memoizedProps);u.componentDidUpdate(p,l.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var f=s.updateQueue;f!==null&&Vp(s,f,u);break;case 3:var y=s.updateQueue;if(y!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Vp(s,y,l)}break;case 5:var k=s.stateNode;if(l===null&&s.flags&4){l=k;var P=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&l.focus();break;case"img":P.src&&(l.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var D=s.alternate;if(D!==null){var z=D.memoizedState;if(z!==null){var V=z.dehydrated;V!==null&&vs(V)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Lt||s.flags&512&&cu(s)}catch(q){nt(s,s.return,q)}}if(s===r){se=null;break}if(l=s.sibling,l!==null){l.return=s.return,se=l;break}se=s.return}}function Wf(r){for(;se!==null;){var s=se;if(s===r){se=null;break}var l=s.sibling;if(l!==null){l.return=s.return,se=l;break}se=s.return}}function Hf(r){for(;se!==null;){var s=se;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Oo(4,s)}catch(P){nt(s,l,P)}break;case 1:var u=s.stateNode;if(typeof u.componentDidMount=="function"){var p=s.return;try{u.componentDidMount()}catch(P){nt(s,p,P)}}var f=s.return;try{cu(s)}catch(P){nt(s,f,P)}break;case 5:var y=s.return;try{cu(s)}catch(P){nt(s,y,P)}}}catch(P){nt(s,s.return,P)}if(s===r){se=null;break}var k=s.sibling;if(k!==null){k.return=s.return,se=k;break}se=s.return}}var B0=Math.ceil,No=B.ReactCurrentDispatcher,hu=B.ReactCurrentOwner,an=B.ReactCurrentBatchConfig,Le=0,vt=null,ct=null,wt=0,Jt=0,Ta=cr(0),pt=0,Us=null,Fr=0,jo=0,pu=0,Fs=null,Ut=null,fu=0,Ra=1/0,Fn=null,Io=!1,mu=null,mr=null,Do=!1,gr=null,Bo=0,qs=0,gu=null,$o=-1,Mo=0;function It(){return(Le&6)!==0?st():$o!==-1?$o:$o=st()}function vr(r){return(r.mode&1)===0?1:(Le&2)!==0&&wt!==0?wt&-wt:x0.transition!==null?(Mo===0&&(Mo=$h()),Mo):(r=Me,r!==0||(r=window.event,r=r===void 0?16:Kh(r.type)),r)}function mn(r,s,l,u){if(50<qs)throw qs=0,gu=null,Error(t(185));hs(r,l,u),((Le&2)===0||r!==vt)&&(r===vt&&((Le&2)===0&&(jo|=l),pt===4&&yr(r,wt)),Ft(r,u),l===1&&Le===0&&(s.mode&1)===0&&(Ra=st()+500,po&&dr()))}function Ft(r,s){var l=r.callbackNode;xy(r,s);var u=Ki(r,r===vt?wt:0);if(u===0)l!==null&&Ih(l),r.callbackNode=null,r.callbackPriority=0;else if(s=u&-u,r.callbackPriority!==s){if(l!=null&&Ih(l),s===1)r.tag===0?_0(Gf.bind(null,r)):Op(Gf.bind(null,r)),m0(function(){(Le&6)===0&&dr()}),l=null;else{switch(Mh(u)){case 1:l=Jl;break;case 4:l=Dh;break;case 16:l=zi;break;case 536870912:l=Bh;break;default:l=zi}l=nm(l,Kf.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function Kf(r,s){if($o=-1,Mo=0,(Le&6)!==0)throw Error(t(327));var l=r.callbackNode;if(La()&&r.callbackNode!==l)return null;var u=Ki(r,r===vt?wt:0);if(u===0)return null;if((u&30)!==0||(u&r.expiredLanes)!==0||s)s=Uo(r,u);else{s=u;var p=Le;Le|=2;var f=Yf();(vt!==r||wt!==s)&&(Fn=null,Ra=st()+500,zr(r,s));do try{U0();break}catch(k){Jf(r,k)}while(!0);jc(),No.current=f,Le=p,ct!==null?s=0:(vt=null,wt=0,s=pt)}if(s!==0){if(s===2&&(p=Yl(r),p!==0&&(u=p,s=vu(r,p))),s===1)throw l=Us,zr(r,0),yr(r,u),Ft(r,st()),l;if(s===6)yr(r,u);else{if(p=r.current.alternate,(u&30)===0&&!$0(p)&&(s=Uo(r,u),s===2&&(f=Yl(r),f!==0&&(u=f,s=vu(r,f))),s===1))throw l=Us,zr(r,0),yr(r,u),Ft(r,st()),l;switch(r.finishedWork=p,r.finishedLanes=u,s){case 0:case 1:throw Error(t(345));case 2:Vr(r,Ut,Fn);break;case 3:if(yr(r,u),(u&130023424)===u&&(s=fu+500-st(),10<s)){if(Ki(r,0)!==0)break;if(p=r.suspendedLanes,(p&u)!==u){It(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=Ec(Vr.bind(null,r,Ut,Fn),s);break}Vr(r,Ut,Fn);break;case 4:if(yr(r,u),(u&4194240)===u)break;for(s=r.eventTimes,p=-1;0<u;){var y=31-cn(u);f=1<<y,y=s[y],y>p&&(p=y),u&=~f}if(u=p,u=st()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*B0(u/1960))-u,10<u){r.timeoutHandle=Ec(Vr.bind(null,r,Ut,Fn),u);break}Vr(r,Ut,Fn);break;case 5:Vr(r,Ut,Fn);break;default:throw Error(t(329))}}}return Ft(r,st()),r.callbackNode===l?Kf.bind(null,r):null}function vu(r,s){var l=Fs;return r.current.memoizedState.isDehydrated&&(zr(r,s).flags|=256),r=Uo(r,s),r!==2&&(s=Ut,Ut=l,s!==null&&yu(s)),r}function yu(r){Ut===null?Ut=r:Ut.push.apply(Ut,r)}function $0(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var u=0;u<l.length;u++){var p=l[u],f=p.getSnapshot;p=p.value;try{if(!un(f(),p))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function yr(r,s){for(s&=~pu,s&=~jo,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-cn(s),u=1<<l;r[l]=-1,s&=~u}}function Gf(r){if((Le&6)!==0)throw Error(t(327));La();var s=Ki(r,0);if((s&1)===0)return Ft(r,st()),null;var l=Uo(r,s);if(r.tag!==0&&l===2){var u=Yl(r);u!==0&&(s=u,l=vu(r,u))}if(l===1)throw l=Us,zr(r,0),yr(r,s),Ft(r,st()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Vr(r,Ut,Fn),Ft(r,st()),null}function _u(r,s){var l=Le;Le|=1;try{return r(s)}finally{Le=l,Le===0&&(Ra=st()+500,po&&dr())}}function qr(r){gr!==null&&gr.tag===0&&(Le&6)===0&&La();var s=Le;Le|=1;var l=an.transition,u=Me;try{if(an.transition=null,Me=1,r)return r()}finally{Me=u,an.transition=l,Le=s,(Le&6)===0&&dr()}}function xu(){Jt=Ta.current,Ke(Ta)}function zr(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,f0(l)),ct!==null)for(l=ct.return;l!==null;){var u=l;switch(Tc(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&uo();break;case 3:Aa(),Ke(Bt),Ke(Pt),qc();break;case 5:Uc(u);break;case 4:Aa();break;case 13:Ke(Qe);break;case 19:Ke(Qe);break;case 10:Ic(u.type._context);break;case 22:case 23:xu()}l=l.return}if(vt=r,ct=r=_r(r.current,null),wt=Jt=s,pt=0,Us=null,pu=jo=Fr=0,Ut=Fs=null,$r!==null){for(s=0;s<$r.length;s++)if(l=$r[s],u=l.interleaved,u!==null){l.interleaved=null;var p=u.next,f=l.pending;if(f!==null){var y=f.next;f.next=p,u.next=y}l.pending=u}$r=null}return r}function Jf(r,s){do{var l=ct;try{if(jc(),Eo.current=Co,ko){for(var u=Xe.memoizedState;u!==null;){var p=u.queue;p!==null&&(p.pending=null),u=u.next}ko=!1}if(Ur=0,gt=ht=Xe=null,js=!1,Is=0,hu.current=null,l===null||l.return===null){pt=1,Us=s,ct=null;break}e:{var f=r,y=l.return,k=l,P=s;if(s=wt,k.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var D=P,z=k,V=z.tag;if((z.mode&1)===0&&(V===0||V===11||V===15)){var q=z.alternate;q?(z.updateQueue=q.updateQueue,z.memoizedState=q.memoizedState,z.lanes=q.lanes):(z.updateQueue=null,z.memoizedState=null)}var re=xf(y);if(re!==null){re.flags&=-257,wf(re,y,k,f,s),re.mode&1&&_f(f,D,s),s=re,P=D;var ie=s.updateQueue;if(ie===null){var le=new Set;le.add(P),s.updateQueue=le}else ie.add(P);break e}else{if((s&1)===0){_f(f,D,s),wu();break e}P=Error(t(426))}}else if(Ye&&k.mode&1){var it=xf(y);if(it!==null){(it.flags&65536)===0&&(it.flags|=256),wf(it,y,k,f,s),Oc(Ca(P,k));break e}}f=P=Ca(P,k),pt!==4&&(pt=2),Fs===null?Fs=[f]:Fs.push(f),f=y;do{switch(f.tag){case 3:f.flags|=65536,s&=-s,f.lanes|=s;var j=vf(f,P,s);zp(f,j);break e;case 1:k=P;var T=f.type,I=f.stateNode;if((f.flags&128)===0&&(typeof T.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(mr===null||!mr.has(I)))){f.flags|=65536,s&=-s,f.lanes|=s;var H=yf(f,k,s);zp(f,H);break e}}f=f.return}while(f!==null)}Xf(l)}catch(he){s=he,ct===l&&l!==null&&(ct=l=l.return);continue}break}while(!0)}function Yf(){var r=No.current;return No.current=Co,r===null?Co:r}function wu(){(pt===0||pt===3||pt===2)&&(pt=4),vt===null||(Fr&268435455)===0&&(jo&268435455)===0||yr(vt,wt)}function Uo(r,s){var l=Le;Le|=2;var u=Yf();(vt!==r||wt!==s)&&(Fn=null,zr(r,s));do try{M0();break}catch(p){Jf(r,p)}while(!0);if(jc(),Le=l,No.current=u,ct!==null)throw Error(t(261));return vt=null,wt=0,pt}function M0(){for(;ct!==null;)Qf(ct)}function U0(){for(;ct!==null&&!dy();)Qf(ct)}function Qf(r){var s=tm(r.alternate,r,Jt);r.memoizedProps=r.pendingProps,s===null?Xf(r):ct=s,hu.current=null}function Xf(r){var s=r;do{var l=s.alternate;if(r=s.return,(s.flags&32768)===0){if(l=O0(l,s,Jt),l!==null){ct=l;return}}else{if(l=N0(l,s),l!==null){l.flags&=32767,ct=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{pt=6,ct=null;return}}if(s=s.sibling,s!==null){ct=s;return}ct=s=r}while(s!==null);pt===0&&(pt=5)}function Vr(r,s,l){var u=Me,p=an.transition;try{an.transition=null,Me=1,F0(r,s,l,u)}finally{an.transition=p,Me=u}return null}function F0(r,s,l,u){do La();while(gr!==null);if((Le&6)!==0)throw Error(t(327));l=r.finishedWork;var p=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var f=l.lanes|l.childLanes;if(wy(r,f),r===vt&&(ct=vt=null,wt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Do||(Do=!0,nm(zi,function(){return La(),null})),f=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||f){f=an.transition,an.transition=null;var y=Me;Me=1;var k=Le;Le|=4,hu.current=null,I0(r,l),qf(l,r),o0(wc),Yi=!!xc,wc=xc=null,r.current=l,D0(l),hy(),Le=k,Me=y,an.transition=f}else r.current=l;if(Do&&(Do=!1,gr=r,Bo=p),f=r.pendingLanes,f===0&&(mr=null),my(l.stateNode),Ft(r,st()),s!==null)for(u=r.onRecoverableError,l=0;l<s.length;l++)p=s[l],u(p.value,{componentStack:p.stack,digest:p.digest});if(Io)throw Io=!1,r=mu,mu=null,r;return(Bo&1)!==0&&r.tag!==0&&La(),f=r.pendingLanes,(f&1)!==0?r===gu?qs++:(qs=0,gu=r):qs=0,dr(),null}function La(){if(gr!==null){var r=Mh(Bo),s=an.transition,l=Me;try{if(an.transition=null,Me=16>r?16:r,gr===null)var u=!1;else{if(r=gr,gr=null,Bo=0,(Le&6)!==0)throw Error(t(331));var p=Le;for(Le|=4,se=r.current;se!==null;){var f=se,y=f.child;if((se.flags&16)!==0){var k=f.deletions;if(k!==null){for(var P=0;P<k.length;P++){var D=k[P];for(se=D;se!==null;){var z=se;switch(z.tag){case 0:case 11:case 15:Ms(8,z,f)}var V=z.child;if(V!==null)V.return=z,se=V;else for(;se!==null;){z=se;var q=z.sibling,re=z.return;if(Bf(z),z===D){se=null;break}if(q!==null){q.return=re,se=q;break}se=re}}}var ie=f.alternate;if(ie!==null){var le=ie.child;if(le!==null){ie.child=null;do{var it=le.sibling;le.sibling=null,le=it}while(le!==null)}}se=f}}if((f.subtreeFlags&2064)!==0&&y!==null)y.return=f,se=y;else e:for(;se!==null;){if(f=se,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:Ms(9,f,f.return)}var j=f.sibling;if(j!==null){j.return=f.return,se=j;break e}se=f.return}}var T=r.current;for(se=T;se!==null;){y=se;var I=y.child;if((y.subtreeFlags&2064)!==0&&I!==null)I.return=y,se=I;else e:for(y=T;se!==null;){if(k=se,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:Oo(9,k)}}catch(he){nt(k,k.return,he)}if(k===y){se=null;break e}var H=k.sibling;if(H!==null){H.return=k.return,se=H;break e}se=k.return}}if(Le=p,dr(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(Vi,r)}catch{}u=!0}return u}finally{Me=l,an.transition=s}}return!1}function Zf(r,s,l){s=Ca(l,s),s=vf(r,s,1),r=pr(r,s,1),s=It(),r!==null&&(hs(r,1,s),Ft(r,s))}function nt(r,s,l){if(r.tag===3)Zf(r,r,l);else for(;s!==null;){if(s.tag===3){Zf(s,r,l);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(mr===null||!mr.has(u))){r=Ca(l,r),r=yf(s,r,1),s=pr(s,r,1),r=It(),s!==null&&(hs(s,1,r),Ft(s,r));break}}s=s.return}}function q0(r,s,l){var u=r.pingCache;u!==null&&u.delete(s),s=It(),r.pingedLanes|=r.suspendedLanes&l,vt===r&&(wt&l)===l&&(pt===4||pt===3&&(wt&130023424)===wt&&500>st()-fu?zr(r,0):pu|=l),Ft(r,s)}function em(r,s){s===0&&((r.mode&1)===0?s=1:(s=Hi,Hi<<=1,(Hi&130023424)===0&&(Hi=4194304)));var l=It();r=$n(r,s),r!==null&&(hs(r,s,l),Ft(r,l))}function z0(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),em(r,l)}function V0(r,s){var l=0;switch(r.tag){case 13:var u=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:u=r.stateNode;break;default:throw Error(t(314))}u!==null&&u.delete(s),em(r,l)}var tm;tm=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||Bt.current)Mt=!0;else{if((r.lanes&l)===0&&(s.flags&128)===0)return Mt=!1,L0(r,s,l);Mt=(r.flags&131072)!==0}else Mt=!1,Ye&&(s.flags&1048576)!==0&&Np(s,mo,s.index);switch(s.lanes=0,s.tag){case 2:var u=s.type;Ro(r,s),r=s.pendingProps;var p=_a(s,Pt.current);Sa(s,l),p=Wc(null,s,u,r,p,l);var f=Hc();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,$t(u)?(f=!0,ho(s)):f=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,$c(s),p.updater=Po,s.stateNode=p,p._reactInternals=s,Xc(s,u,r,l),s=nu(null,s,u,!0,f,l)):(s.tag=0,Ye&&f&&Pc(s),jt(null,s,p,l),s=s.child),s;case 16:u=s.elementType;e:{switch(Ro(r,s),r=s.pendingProps,p=u._init,u=p(u._payload),s.type=u,p=s.tag=H0(u),r=hn(u,r),p){case 0:s=tu(null,s,u,r,l);break e;case 1:s=Cf(null,s,u,r,l);break e;case 11:s=bf(null,s,u,r,l);break e;case 14:s=Ef(null,s,u,hn(u.type,r),l);break e}throw Error(t(306,u,""))}return s;case 0:return u=s.type,p=s.pendingProps,p=s.elementType===u?p:hn(u,p),tu(r,s,u,p,l);case 1:return u=s.type,p=s.pendingProps,p=s.elementType===u?p:hn(u,p),Cf(r,s,u,p,l);case 3:e:{if(Pf(s),r===null)throw Error(t(387));u=s.pendingProps,f=s.memoizedState,p=f.element,qp(r,s),wo(s,u,null,l);var y=s.memoizedState;if(u=y.element,f.isDehydrated)if(f={element:u,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},s.updateQueue.baseState=f,s.memoizedState=f,s.flags&256){p=Ca(Error(t(423)),s),s=Tf(r,s,u,l,p);break e}else if(u!==p){p=Ca(Error(t(424)),s),s=Tf(r,s,u,l,p);break e}else for(Gt=lr(s.stateNode.containerInfo.firstChild),Kt=s,Ye=!0,dn=null,l=Up(s,null,u,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ba(),u===p){s=Un(r,s,l);break e}jt(r,s,u,l)}s=s.child}return s;case 5:return Wp(s),r===null&&Lc(s),u=s.type,p=s.pendingProps,f=r!==null?r.memoizedProps:null,y=p.children,bc(u,p)?y=null:f!==null&&bc(u,f)&&(s.flags|=32),Af(r,s),jt(r,s,y,l),s.child;case 6:return r===null&&Lc(s),null;case 13:return Rf(r,s,l);case 4:return Mc(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=Ea(s,null,u,l):jt(r,s,u,l),s.child;case 11:return u=s.type,p=s.pendingProps,p=s.elementType===u?p:hn(u,p),bf(r,s,u,p,l);case 7:return jt(r,s,s.pendingProps,l),s.child;case 8:return jt(r,s,s.pendingProps.children,l),s.child;case 12:return jt(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(u=s.type._context,p=s.pendingProps,f=s.memoizedProps,y=p.value,qe(yo,u._currentValue),u._currentValue=y,f!==null)if(un(f.value,y)){if(f.children===p.children&&!Bt.current){s=Un(r,s,l);break e}}else for(f=s.child,f!==null&&(f.return=s);f!==null;){var k=f.dependencies;if(k!==null){y=f.child;for(var P=k.firstContext;P!==null;){if(P.context===u){if(f.tag===1){P=Mn(-1,l&-l),P.tag=2;var D=f.updateQueue;if(D!==null){D=D.shared;var z=D.pending;z===null?P.next=P:(P.next=z.next,z.next=P),D.pending=P}}f.lanes|=l,P=f.alternate,P!==null&&(P.lanes|=l),Dc(f.return,l,s),k.lanes|=l;break}P=P.next}}else if(f.tag===10)y=f.type===s.type?null:f.child;else if(f.tag===18){if(y=f.return,y===null)throw Error(t(341));y.lanes|=l,k=y.alternate,k!==null&&(k.lanes|=l),Dc(y,l,s),y=f.sibling}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===s){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}jt(r,s,p.children,l),s=s.child}return s;case 9:return p=s.type,u=s.pendingProps.children,Sa(s,l),p=nn(p),u=u(p),s.flags|=1,jt(r,s,u,l),s.child;case 14:return u=s.type,p=hn(u,s.pendingProps),p=hn(u.type,p),Ef(r,s,u,p,l);case 15:return kf(r,s,s.type,s.pendingProps,l);case 17:return u=s.type,p=s.pendingProps,p=s.elementType===u?p:hn(u,p),Ro(r,s),s.tag=1,$t(u)?(r=!0,ho(s)):r=!1,Sa(s,l),mf(s,u,p),Xc(s,u,p,l),nu(null,s,u,!0,r,l);case 19:return Of(r,s,l);case 22:return Sf(r,s,l)}throw Error(t(156,s.tag))};function nm(r,s){return jh(r,s)}function W0(r,s,l,u){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(r,s,l,u){return new W0(r,s,l,u)}function bu(r){return r=r.prototype,!(!r||!r.isReactComponent)}function H0(r){if(typeof r=="function")return bu(r)?1:0;if(r!=null){if(r=r.$$typeof,r===te)return 11;if(r===ue)return 14}return 2}function _r(r,s){var l=r.alternate;return l===null?(l=sn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function Fo(r,s,l,u,p,f){var y=2;if(u=r,typeof r=="function")bu(r)&&(y=1);else if(typeof r=="string")y=5;else e:switch(r){case Q:return Wr(l.children,p,f,s);case F:y=8,p|=8;break;case X:return r=sn(12,l,s,p|2),r.elementType=X,r.lanes=f,r;case de:return r=sn(13,l,s,p),r.elementType=de,r.lanes=f,r;case ce:return r=sn(19,l,s,p),r.elementType=ce,r.lanes=f,r;case Ce:return qo(l,p,f,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case ne:y=10;break e;case fe:y=9;break e;case te:y=11;break e;case ue:y=14;break e;case Pe:y=16,u=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=sn(y,l,s,p),s.elementType=r,s.type=u,s.lanes=f,s}function Wr(r,s,l,u){return r=sn(7,r,u,s),r.lanes=l,r}function qo(r,s,l,u){return r=sn(22,r,u,s),r.elementType=Ce,r.lanes=l,r.stateNode={isHidden:!1},r}function Eu(r,s,l){return r=sn(6,r,null,s),r.lanes=l,r}function ku(r,s,l){return s=sn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function K0(r,s,l,u,p){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ql(0),this.expirationTimes=Ql(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ql(0),this.identifierPrefix=u,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Su(r,s,l,u,p,f,y,k,P){return r=new K0(r,s,l,k,P),s===1?(s=1,f===!0&&(s|=8)):s=0,f=sn(3,null,null,s),r.current=f,f.stateNode=r,f.memoizedState={element:u,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},$c(f),r}function G0(r,s,l){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:u==null?null:""+u,children:r,containerInfo:s,implementation:l}}function rm(r){if(!r)return ur;r=r._reactInternals;e:{if(Nr(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if($t(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if($t(l))return Rp(r,l,s)}return s}function am(r,s,l,u,p,f,y,k,P){return r=Su(l,u,!0,r,p,f,y,k,P),r.context=rm(null),l=r.current,u=It(),p=vr(l),f=Mn(u,p),f.callback=s??null,pr(l,f,p),r.current.lanes=p,hs(r,p,u),Ft(r,u),r}function zo(r,s,l,u){var p=s.current,f=It(),y=vr(p);return l=rm(l),s.context===null?s.context=l:s.pendingContext=l,s=Mn(f,y),s.payload={element:r},u=u===void 0?null:u,u!==null&&(s.callback=u),r=pr(p,s,y),r!==null&&(mn(r,p,y,f),xo(r,p,y)),y}function Vo(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function sm(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function Au(r,s){sm(r,s),(r=r.alternate)&&sm(r,s)}function J0(){return null}var im=typeof reportError=="function"?reportError:function(r){console.error(r)};function Cu(r){this._internalRoot=r}Wo.prototype.render=Cu.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));zo(r,s,null,null)},Wo.prototype.unmount=Cu.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;qr(function(){zo(null,r,null,null)}),s[jn]=null}};function Wo(r){this._internalRoot=r}Wo.prototype.unstable_scheduleHydration=function(r){if(r){var s=qh();r={blockedOn:null,target:r,priority:s};for(var l=0;l<sr.length&&s!==0&&s<sr[l].priority;l++);sr.splice(l,0,r),l===0&&Wh(r)}};function Pu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Ho(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function om(){}function Y0(r,s,l,u,p){if(p){if(typeof u=="function"){var f=u;u=function(){var D=Vo(y);f.call(D)}}var y=am(s,u,r,0,null,!1,!1,"",om);return r._reactRootContainer=y,r[jn]=y.current,As(r.nodeType===8?r.parentNode:r),qr(),y}for(;p=r.lastChild;)r.removeChild(p);if(typeof u=="function"){var k=u;u=function(){var D=Vo(P);k.call(D)}}var P=Su(r,0,!1,null,null,!1,!1,"",om);return r._reactRootContainer=P,r[jn]=P.current,As(r.nodeType===8?r.parentNode:r),qr(function(){zo(s,P,l,u)}),P}function Ko(r,s,l,u,p){var f=l._reactRootContainer;if(f){var y=f;if(typeof p=="function"){var k=p;p=function(){var P=Vo(y);k.call(P)}}zo(s,y,r,p)}else y=Y0(l,s,r,p,u);return Vo(y)}Uh=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=ds(s.pendingLanes);l!==0&&(Xl(s,l|1),Ft(s,st()),(Le&6)===0&&(Ra=st()+500,dr()))}break;case 13:qr(function(){var u=$n(r,1);if(u!==null){var p=It();mn(u,r,1,p)}}),Au(r,1)}},Zl=function(r){if(r.tag===13){var s=$n(r,134217728);if(s!==null){var l=It();mn(s,r,134217728,l)}Au(r,134217728)}},Fh=function(r){if(r.tag===13){var s=vr(r),l=$n(r,s);if(l!==null){var u=It();mn(l,r,s,u)}Au(r,s)}},qh=function(){return Me},zh=function(r,s){var l=Me;try{return Me=r,s()}finally{Me=l}},Wl=function(r,s,l){switch(s){case"input":if(Nn(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var u=l[s];if(u!==r&&u.form===r.form){var p=co(u);if(!p)throw Error(t(90));Xn(u),Nn(u,p)}}}break;case"textarea":Bi(r,l);break;case"select":s=l.value,s!=null&&tr(r,!!l.multiple,s,!1)}},Ch=_u,Ph=qr;var Q0={usingClientEntryPoint:!1,Events:[Ts,va,co,Sh,Ah,_u]},zs={findFiberByHostInstance:jr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},X0={bundleType:zs.bundleType,version:zs.version,rendererPackageName:zs.rendererPackageName,rendererConfig:zs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Oh(r),r===null?null:r.stateNode},findFiberByHostInstance:zs.findFiberByHostInstance||J0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Go=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Go.isDisabled&&Go.supportsFiber)try{Vi=Go.inject(X0),bn=Go}catch{}}return qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q0,qt.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pu(s))throw Error(t(200));return G0(r,s,null,l)},qt.createRoot=function(r,s){if(!Pu(r))throw Error(t(299));var l=!1,u="",p=im;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=Su(r,1,!1,null,null,l,!1,u,p),r[jn]=s.current,As(r.nodeType===8?r.parentNode:r),new Cu(s)},qt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Oh(s),r=r===null?null:r.stateNode,r},qt.flushSync=function(r){return qr(r)},qt.hydrate=function(r,s,l){if(!Ho(s))throw Error(t(200));return Ko(null,r,s,!0,l)},qt.hydrateRoot=function(r,s,l){if(!Pu(r))throw Error(t(405));var u=l!=null&&l.hydratedSources||null,p=!1,f="",y=im;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onRecoverableError!==void 0&&(y=l.onRecoverableError)),s=am(s,null,r,1,l??null,p,!1,f,y),r[jn]=s.current,As(r),u)for(r=0;r<u.length;r++)l=u[r],p=l._getVersion,p=p(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,p]:s.mutableSourceEagerHydrationData.push(l,p);return new Wo(s)},qt.render=function(r,s,l){if(!Ho(s))throw Error(t(200));return Ko(null,r,s,!1,l)},qt.unmountComponentAtNode=function(r){if(!Ho(r))throw Error(t(40));return r._reactRootContainer?(qr(function(){Ko(null,null,r,!1,function(){r._reactRootContainer=null,r[jn]=null})}),!0):!1},qt.unstable_batchedUpdates=_u,qt.unstable_renderSubtreeIntoContainer=function(r,s,l,u){if(!Ho(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Ko(r,s,l,!1,u)},qt.version="18.3.1-next-f1338f8080-20240426",qt}var mm;function cv(){if(mm)return Ou.exports;mm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ou.exports=u_(),Ou.exports}var gm;function d_(){if(gm)return Jo;gm=1;var n=cv();return Jo.createRoot=n.createRoot,Jo.hydrateRoot=n.hydrateRoot,Jo}var h_=d_(),$=typeof window<"u"?window:void 0,At=typeof globalThis<"u"?globalThis:$;typeof self>"u"&&(At.self=At),typeof File>"u"&&(At.File=function(){});var uv=Array.prototype,vm=uv.forEach,ym=uv.indexOf,Zt=At==null?void 0:At.navigator,ee=At==null?void 0:At.document,Vt=At==null?void 0:At.location,fd=At==null?void 0:At.fetch,md=At!=null&&At.XMLHttpRequest&&"withCredentials"in new At.XMLHttpRequest?At.XMLHttpRequest:void 0,_m=At==null?void 0:At.AbortController,zt=Zt==null?void 0:Zt.userAgent,ve=$??{},zn={DEBUG:!1,LIB_VERSION:"1.315.1"};function xm(n,e,t,a,i,o,c){try{var d=n[o](c),h=d.value}catch(m){return void t(m)}d.done?e(h):Promise.resolve(h).then(a,i)}function wm(n){return function(){var e=this,t=arguments;return new Promise(function(a,i){var o=n.apply(e,t);function c(h){xm(o,a,i,c,d,"next",h)}function d(h){xm(o,a,i,c,d,"throw",h)}c(void 0)})}}function ae(){return ae=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)({}).hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},ae.apply(null,arguments)}function dv(n,e){if(n==null)return{};var t={};for(var a in n)if({}.hasOwnProperty.call(n,a)){if(e.indexOf(a)!==-1)continue;t[a]=n[a]}return t}var p_=["amazonbot","amazonproductbot","app.hypefactors.com","applebot","archive.org_bot","awariobot","backlinksextendedbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","dataforseobot","deepscan","duckduckbot","facebookexternal","facebookcatalog","http://yandex.com/bots","hubspot","ia_archiver","leikibot","linkedinbot","meta-externalagent","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","sebot-wa","sitebulb","slackbot","slurp","trendictionbot","turnitin","twitterbot","vercel-screenshot","vercelbot","yahoo! slurp","yandexbot","zoombot","bot.htm","bot.php","(bot;","bot/","crawler","ahrefsbot","ahrefssiteaudit","semrushbot","siteauditbot","splitsignalbot","gptbot","oai-searchbot","chatgpt-user","perplexitybot","better uptime bot","sentryuptimebot","uptimerobot","headlesschrome","cypress","google-hoteladsverifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleother","google-cloudvertexbot","googleweblight","mediapartners-google","storebot-google","google-inspectiontool","bytespider"],bm=function(n,e){if(e===void 0&&(e=[]),!n)return!1;var t=n.toLowerCase();return p_.concat(e).some(a=>{var i=a.toLowerCase();return t.indexOf(i)!==-1})},f_=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"];function Ae(n,e){return n.indexOf(e)!==-1}var Rl=function(n){return n.trim()},gd=function(n){return n.replace(/^\$/,"")},m_=Array.isArray,hv=Object.prototype,pv=hv.hasOwnProperty,Ll=hv.toString,$e=m_||function(n){return Ll.call(n)==="[object Array]"},Pr=n=>typeof n=="function",_t=n=>n===Object(n)&&!$e(n),Va=n=>{if(_t(n)){for(var e in n)if(pv.call(n,e))return!1;return!0}return!1},J=n=>n===void 0,mt=n=>Ll.call(n)=="[object String]",vd=n=>mt(n)&&n.trim().length===0,xn=n=>n===null,Be=n=>J(n)||xn(n),Tn=n=>Ll.call(n)=="[object Number]",Jn=n=>Ll.call(n)==="[object Boolean]",g_=n=>n instanceof FormData,v_=n=>Ae(f_,n);function yd(n){return n===null||typeof n!="object"}function cl(n,e){return Object.prototype.toString.call(n)==="[object "+e+"]"}function fv(n){return!J(Event)&&function(e,t){try{return e instanceof t}catch{return!1}}(n,Event)}var y_=[!0,"true",1,"1","yes"],Iu=n=>Ae(y_,n),__=[!1,"false",0,"0","no"];function Pn(n,e,t,a,i){return e>t&&(a.warn("min cannot be greater than max."),e=t),Tn(n)?n>t?(a.warn(" cannot be  greater than max: "+t+". Using max value instead."),t):n<e?(a.warn(" cannot be less than min: "+e+". Using min value instead."),e):n:(a.warn(" must be a number. using max or fallback. max: "+t+", fallback: "+i),Pn(i||t,e,t,a))}class x_{constructor(e){this.t={},this.i=e.i,this.o=Pn(e.bucketSize,0,100,e.h),this.m=Pn(e.refillRate,0,this.o,e.h),this.$=Pn(e.refillInterval,0,864e5,e.h)}S(e,t){var a=t-e.lastAccess,i=Math.floor(a/this.$);if(i>0){var o=i*this.m;e.tokens=Math.min(e.tokens+o,this.o),e.lastAccess=e.lastAccess+i*this.$}}consumeRateLimit(e){var t,a=Date.now(),i=String(e),o=this.t[i];return o?this.S(o,a):(o={tokens:this.o,lastAccess:a},this.t[i]=o),o.tokens===0||(o.tokens--,o.tokens===0&&((t=this.i)==null||t.call(this,e)),o.tokens===0)}stop(){this.t={}}}var on="Mobile",ul="iOS",Gn="Android",yi="Tablet",mv=Gn+" "+yi,gv="iPad",vv="Apple",yv=vv+" Watch",_i="Safari",Ya="BlackBerry",_v="Samsung",xv=_v+"Browser",wv=_v+" Internet",aa="Chrome",w_=aa+" OS",bv=aa+" "+ul,rh="Internet Explorer",Ev=rh+" "+on,ah="Opera",b_=ah+" Mini",sh="Edge",kv="Microsoft "+sh,Ka="Firefox",Sv=Ka+" "+ul,xi="Nintendo",wi="PlayStation",Ga="Xbox",Av=Gn+" "+on,Cv=on+" "+_i,ri="Windows",_d=ri+" Phone",Em="Nokia",xd="Ouya",Pv="Generic",E_=Pv+" "+on.toLowerCase(),Tv=Pv+" "+yi.toLowerCase(),wd="Konqueror",Dt="(\\d+(\\.\\d+)?)",Du=new RegExp("Version/"+Dt),k_=new RegExp(Ga,"i"),S_=new RegExp(wi+" \\w+","i"),A_=new RegExp(xi+" \\w+","i"),ih=new RegExp(Ya+"|PlayBook|BB10","i"),C_={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},Yo,km,Bu,P_=(n,e)=>e&&Ae(e,vv)||function(t){return Ae(t,_i)&&!Ae(t,aa)&&!Ae(t,Gn)}(n),Rv=function(n,e){return e=e||"",Ae(n," OPR/")&&Ae(n,"Mini")?b_:Ae(n," OPR/")?ah:ih.test(n)?Ya:Ae(n,"IE"+on)||Ae(n,"WPDesktop")?Ev:Ae(n,xv)?wv:Ae(n,sh)||Ae(n,"Edg/")?kv:Ae(n,"FBIOS")?"Facebook "+on:Ae(n,"UCWEB")||Ae(n,"UCBrowser")?"UC Browser":Ae(n,"CriOS")?bv:Ae(n,"CrMo")||Ae(n,aa)?aa:Ae(n,Gn)&&Ae(n,_i)?Av:Ae(n,"FxiOS")?Sv:Ae(n.toLowerCase(),wd.toLowerCase())?wd:P_(n,e)?Ae(n,on)?Cv:_i:Ae(n,Ka)?Ka:Ae(n,"MSIE")||Ae(n,"Trident/")?rh:Ae(n,"Gecko")?Ka:""},T_={[Ev]:[new RegExp("rv:"+Dt)],[kv]:[new RegExp(sh+"?\\/"+Dt)],[aa]:[new RegExp("("+aa+"|CrMo)\\/"+Dt)],[bv]:[new RegExp("CriOS\\/"+Dt)],"UC Browser":[new RegExp("(UCBrowser|UCWEB)\\/"+Dt)],[_i]:[Du],[Cv]:[Du],[ah]:[new RegExp("(Opera|OPR)\\/"+Dt)],[Ka]:[new RegExp(Ka+"\\/"+Dt)],[Sv]:[new RegExp("FxiOS\\/"+Dt)],[wd]:[new RegExp("Konqueror[:/]?"+Dt,"i")],[Ya]:[new RegExp(Ya+" "+Dt),Du],[Av]:[new RegExp("android\\s"+Dt,"i")],[wv]:[new RegExp(xv+"\\/"+Dt)],[rh]:[new RegExp("(rv:|MSIE )"+Dt)],Mozilla:[new RegExp("rv:"+Dt)]},R_=function(n,e){var t=Rv(n,e),a=T_[t];if(J(a))return null;for(var i=0;i<a.length;i++){var o=a[i],c=n.match(o);if(c)return parseFloat(c[c.length-2])}return null},Sm=[[new RegExp(Ga+"; "+Ga+" (.*?)[);]","i"),n=>[Ga,n&&n[1]||""]],[new RegExp(xi,"i"),[xi,""]],[new RegExp(wi,"i"),[wi,""]],[ih,[Ya,""]],[new RegExp(ri,"i"),(n,e)=>{if(/Phone/.test(e)||/WPDesktop/.test(e))return[_d,""];if(new RegExp(on).test(e)&&!/IEMobile\b/.test(e))return[ri+" "+on,""];var t=/Windows NT ([0-9.]+)/i.exec(e);if(t&&t[1]){var a=t[1],i=C_[a]||"";return/arm/i.test(e)&&(i="RT"),[ri,i]}return[ri,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,n=>{if(n&&n[3]){var e=[n[3],n[4],n[5]||"0"];return[ul,e.join(".")]}return[ul,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,n=>{var e="";return n&&n.length>=3&&(e=J(n[2])?n[3]:n[2]),["watchOS",e]}],[new RegExp("("+Gn+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+Gn+")","i"),n=>{if(n&&n[2]){var e=[n[2],n[3],n[4]||"0"];return[Gn,e.join(".")]}return[Gn,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,n=>{var e=["Mac OS X",""];if(n&&n[1]){var t=[n[1],n[2],n[3]||"0"];e[1]=t.join(".")}return e}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[w_,""]],[/Linux|debian/i,["Linux",""]]],Am=function(n){return A_.test(n)?xi:S_.test(n)?wi:k_.test(n)?Ga:new RegExp(xd,"i").test(n)?xd:new RegExp("("+_d+"|WPDesktop)","i").test(n)?_d:/iPad/.test(n)?gv:/iPod/.test(n)?"iPod Touch":/iPhone/.test(n)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(n)?yv:ih.test(n)?Ya:/(kobo)\s(ereader|touch)/i.test(n)?"Kobo":new RegExp(Em,"i").test(n)?Em:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(n)||/(kf[a-z]+)( bui|\)).+silk\//i.test(n)?"Kindle Fire":/(Android|ZTE)/i.test(n)?new RegExp(on).test(n)&&!/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(n)||/pixel[\daxl ]{1,6}/i.test(n)&&!/pixel c/i.test(n)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(n)||/lmy47v/i.test(n)&&!/QTAQZ3/i.test(n)?Gn:mv:new RegExp("(pda|"+on+")","i").test(n)?E_:new RegExp(yi,"i").test(n)&&!new RegExp(yi+" pc","i").test(n)?Tv:""},L_=n=>n instanceof Error;function O_(n){var e=globalThis._posthogChunkIds;if(e){var t=Object.keys(e);return Bu&&t.length===km||(km=t.length,Bu=t.reduce((a,i)=>{Yo||(Yo={});var o=Yo[i];if(o)a[o[0]]=o[1];else for(var c=n(i),d=c.length-1;d>=0;d--){var h=c[d],m=h==null?void 0:h.filename,g=e[i];if(m&&g){a[m]=g,Yo[i]=[m,g];break}}return a},{})),Bu}}class N_{constructor(e,t,a){a===void 0&&(a=[]),this.coercers=e,this.stackParser=t,this.modifiers=a}buildFromUnknown(e,t){t===void 0&&(t={});var a=t&&t.mechanism||{handled:!0,type:"generic"},i=this.buildCoercingContext(a,t,0).apply(e),o=this.buildParsingContext(),c=this.parseStacktrace(i,o);return{$exception_list:this.convertToExceptionList(c,a),$exception_level:"error"}}modifyFrames(e){var t=this;return wm(function*(){for(var a of e)a.stacktrace&&a.stacktrace.frames&&$e(a.stacktrace.frames)&&(a.stacktrace.frames=yield t.applyModifiers(a.stacktrace.frames));return e})()}coerceFallback(e){var t;return{type:"Error",value:"Unknown error",stack:(t=e.syntheticException)==null?void 0:t.stack,synthetic:!0}}parseStacktrace(e,t){var a,i;return e.cause!=null&&(a=this.parseStacktrace(e.cause,t)),e.stack!=""&&e.stack!=null&&(i=this.applyChunkIds(this.stackParser(e.stack,e.synthetic?1:0),t.chunkIdMap)),ae({},e,{cause:a,stack:i})}applyChunkIds(e,t){return e.map(a=>(a.filename&&t&&(a.chunk_id=t[a.filename]),a))}applyCoercers(e,t){for(var a of this.coercers)if(a.match(e))return a.coerce(e,t);return this.coerceFallback(t)}applyModifiers(e){var t=this;return wm(function*(){var a=e;for(var i of t.modifiers)a=yield i(a);return a})()}convertToExceptionList(e,t){var a,i,o,c={type:e.type,value:e.value,mechanism:{type:(a=t.type)!==null&&a!==void 0?a:"generic",handled:(i=t.handled)===null||i===void 0||i,synthetic:(o=e.synthetic)!==null&&o!==void 0&&o}};e.stack&&(c.stacktrace={type:"raw",frames:e.stack});var d=[c];return e.cause!=null&&d.push(...this.convertToExceptionList(e.cause,ae({},t,{handled:!0}))),d}buildParsingContext(){return{chunkIdMap:O_(this.stackParser)}}buildCoercingContext(e,t,a){a===void 0&&(a=0);var i=(o,c)=>{if(c<=4){var d=this.buildCoercingContext(e,t,c);return this.applyCoercers(o,d)}};return ae({},t,{syntheticException:a==0?t.syntheticException:void 0,mechanism:e,apply:o=>i(o,a),next:o=>i(o,a+1)})}}var Qa="?";function bd(n,e,t,a,i){var o={platform:n,filename:e,function:t==="<anonymous>"?Qa:t,in_app:!0};return J(a)||(o.lineno=a),J(i)||(o.colno=i),o}var Lv=(n,e)=>{var t=n.indexOf("safari-extension")!==-1,a=n.indexOf("safari-web-extension")!==-1;return t||a?[n.indexOf("@")!==-1?n.split("@")[0]:Qa,t?"safari-extension:"+e:"safari-web-extension:"+e]:[n,e]},j_=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,I_=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,D_=/\((\S*)(?::(\d+))(?::(\d+))\)/,B_=(n,e)=>{var t=j_.exec(n);if(t){var[,a,i,o]=t;return bd(e,a,Qa,+i,+o)}var c=I_.exec(n);if(c){if(c[2]&&c[2].indexOf("eval")===0){var d=D_.exec(c[2]);d&&(c[2]=d[1],c[3]=d[2],c[4]=d[3])}var[h,m]=Lv(c[1]||Qa,c[2]);return bd(e,m,h,c[3]?+c[3]:void 0,c[4]?+c[4]:void 0)}},$_=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,M_=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,U_=(n,e)=>{var t=$_.exec(n);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){var a=M_.exec(t[3]);a&&(t[1]=t[1]||"eval",t[3]=a[1],t[4]=a[2],t[5]="")}var i=t[3],o=t[1]||Qa;return[o,i]=Lv(o,i),bd(e,i,o,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},Cm=/\(error: (.*)\)/,Pm=50;function F_(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),a=1;a<e;a++)t[a-1]=arguments[a];return function(i,o){o===void 0&&(o=0);for(var c=[],d=i.split(`
`),h=o;h<d.length;h++){var m=d[h];if(!(m.length>1024)){var g=Cm.test(m)?m.replace(Cm,"$1"):m;if(!g.match(/\S*Error: /)){for(var v of t){var _=v(g,n);if(_){c.push(_);break}}if(c.length>=Pm)break}}}return function(b){if(!b.length)return[];var E=Array.from(b);return E.reverse(),E.slice(0,Pm).map(S=>{return ae({},S,{filename:S.filename||(w=E,w[w.length-1]||{}).filename,function:S.function||Qa});var w})}(c)}}class q_{match(e){return this.isDOMException(e)||this.isDOMError(e)}coerce(e,t){var a=mt(e.stack);return{type:this.getType(e),value:this.getValue(e),stack:a?e.stack:void 0,cause:e.cause?t.next(e.cause):void 0,synthetic:!1}}getType(e){return this.isDOMError(e)?"DOMError":"DOMException"}getValue(e){var t=e.name||(this.isDOMError(e)?"DOMError":"DOMException");return e.message?t+": "+e.message:t}isDOMException(e){return cl(e,"DOMException")}isDOMError(e){return cl(e,"DOMError")}}class z_{match(e){return(t=>t instanceof Error)(e)}coerce(e,t){return{type:this.getType(e),value:this.getMessage(e,t),stack:this.getStack(e),cause:e.cause?t.next(e.cause):void 0,synthetic:!1}}getType(e){return e.name||e.constructor.name}getMessage(e,t){var a=e.message;return a.error&&typeof a.error.message=="string"?String(a.error.message):String(a)}getStack(e){return e.stacktrace||e.stack||void 0}}class V_{constructor(){}match(e){return cl(e,"ErrorEvent")&&e.error!=null}coerce(e,t){var a,i=t.apply(e.error);return i||{type:"ErrorEvent",value:e.message,stack:(a=t.syntheticException)==null?void 0:a.stack,synthetic:!0}}}var W_=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;class H_{match(e){return typeof e=="string"}coerce(e,t){var a,[i,o]=this.getInfos(e);return{type:i??"Error",value:o??e,stack:(a=t.syntheticException)==null?void 0:a.stack,synthetic:!0}}getInfos(e){var t="Error",a=e,i=e.match(W_);return i&&(t=i[1],a=i[2]),[t,a]}}var K_=["fatal","error","warning","log","info","debug"];function Ov(n,e){e===void 0&&(e=40);var t=Object.keys(n);if(t.sort(),!t.length)return"[object has no keys]";for(var a=t.length;a>0;a--){var i=t.slice(0,a).join(", ");if(!(i.length>e))return a===t.length||i.length<=e?i:i.slice(0,e)+"..."}return""}class G_{match(e){return typeof e=="object"&&e!==null}coerce(e,t){var a,i=this.getErrorPropertyFromObject(e);return i?t.apply(i):{type:this.getType(e),value:this.getValue(e),stack:(a=t.syntheticException)==null?void 0:a.stack,level:this.isSeverityLevel(e.level)?e.level:"error",synthetic:!0}}getType(e){return fv(e)?e.constructor.name:"Error"}getValue(e){if("name"in e&&typeof e.name=="string"){var t="'"+e.name+"' captured as exception";return"message"in e&&typeof e.message=="string"&&(t+=" with message: '"+e.message+"'"),t}if("message"in e&&typeof e.message=="string")return e.message;var a=this.getObjectClassName(e);return(a&&a!=="Object"?"'"+a+"'":"Object")+" captured as exception with keys: "+Ov(e)}isSeverityLevel(e){return mt(e)&&!vd(e)&&K_.indexOf(e)>=0}getErrorPropertyFromObject(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var a=e[t];if(L_(a))return a}}getObjectClassName(e){try{var t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{return}}}class J_{match(e){return fv(e)}coerce(e,t){var a,i=e.constructor.name;return{type:i,value:i+" captured as exception with keys: "+Ov(e),stack:(a=t.syntheticException)==null?void 0:a.stack,synthetic:!0}}}class Y_{match(e){return yd(e)}coerce(e,t){var a;return{type:"Error",value:"Primitive value captured as exception: "+String(e),stack:(a=t.syntheticException)==null?void 0:a.stack,synthetic:!0}}}class Q_{match(e){return cl(e,"PromiseRejectionEvent")}coerce(e,t){var a,i=this.getUnhandledRejectionReason(e);return yd(i)?{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(i),stack:(a=t.syntheticException)==null?void 0:a.stack,synthetic:!0}:t.apply(i)}getUnhandledRejectionReason(e){if(yd(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}}var Nv=function(n,e){var{debugEnabled:t}=e===void 0?{}:e,a={k:function(i){if($&&(zn.DEBUG||ve.POSTHOG_DEBUG||t)&&!J($.console)&&$.console){for(var o=("__rrweb_original__"in $.console[i])?$.console[i].__rrweb_original__:$.console[i],c=arguments.length,d=new Array(c>1?c-1:0),h=1;h<c;h++)d[h-1]=arguments[h];o(n,...d)}},info:function(){for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];a.k("log",...o)},warn:function(){for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];a.k("warn",...o)},error:function(){for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];a.k("error",...o)},critical:function(){for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];console.error(n,...o)},uninitializedWarning:i=>{a.error("You must initialize PostHog before calling "+i)},createLogger:(i,o)=>Nv(n+" "+i,o)};return a},Z=Nv("[PostHog.js]"),lt=Z.createLogger,X_=lt("[ExternalScriptsLoader]"),Tm=(n,e,t)=>{if(n.config.disable_external_dependency_loading)return X_.warn(e+" was requested but loading of external scripts is disabled."),t("Loading of external scripts is disabled");var a=ee==null?void 0:ee.querySelectorAll("script");if(a){for(var i,o=function(){if(a[c].src===e){var h=a[c];return h.__posthog_loading_callback_fired?{v:t()}:(h.addEventListener("load",m=>{h.__posthog_loading_callback_fired=!0,t(void 0,m)}),h.onerror=m=>t(m),{v:void 0})}},c=0;c<a.length;c++)if(i=o())return i.v}var d=()=>{if(!ee)return t("document not found");var h=ee.createElement("script");if(h.type="text/javascript",h.crossOrigin="anonymous",h.src=e,h.onload=v=>{h.__posthog_loading_callback_fired=!0,t(void 0,v)},h.onerror=v=>t(v),n.config.prepare_external_dependency_script&&(h=n.config.prepare_external_dependency_script(h)),!h)return t("prepare_external_dependency_script returned null");var m,g=ee.querySelectorAll("body > script");g.length>0?(m=g[0].parentNode)==null||m.insertBefore(h,g[0]):ee.body.appendChild(h)};ee!=null&&ee.body?d():ee==null||ee.addEventListener("DOMContentLoaded",d)};ve.__PosthogExtensions__=ve.__PosthogExtensions__||{},ve.__PosthogExtensions__.loadExternalDependency=(n,e,t)=>{var a="/static/"+e+".js?v="+n.version;if(e==="remote-config"&&(a="/array/"+n.config.token+"/config.js"),e==="toolbar"){var i=3e5;a=a+"&t="+Math.floor(Date.now()/i)*i}var o=n.requestRouter.endpointFor("assets",a);Tm(n,o,t)},ve.__PosthogExtensions__.loadSiteApp=(n,e,t)=>{var a=n.requestRouter.endpointFor("api",e);Tm(n,a,t)};var dl={};function Tr(n,e,t){if($e(n)){if(vm&&n.forEach===vm)n.forEach(e,t);else if("length"in n&&n.length===+n.length){for(var a=0,i=n.length;a<i;a++)if(a in n&&e.call(t,n[a],a)===dl)return}}}function We(n,e,t){if(!Be(n)){if($e(n))return Tr(n,e,t);if(g_(n)){for(var a of n.entries())if(e.call(t,a[1],a[0])===dl)return}else for(var i in n)if(pv.call(n,i)&&e.call(t,n[i],i)===dl)return}}var ot=function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),a=1;a<e;a++)t[a-1]=arguments[a];return Tr(t,function(i){for(var o in i)i[o]!==void 0&&(n[o]=i[o])}),n},ts=function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),a=1;a<e;a++)t[a-1]=arguments[a];return Tr(t,function(i){Tr(i,function(o){n.push(o)})}),n};function ol(n){for(var e=Object.keys(n),t=e.length,a=new Array(t);t--;)a[t]=[e[t],n[e[t]]];return a}var Rm=function(n){try{return n()}catch{return}},Z_=function(n){return function(){try{for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return n.apply(this,t)}catch(i){Z.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),Z.critical(i)}}},oh=function(n){var e={};return We(n,function(t,a){(mt(t)&&t.length>0||Tn(t))&&(e[a]=t)}),e};function ex(n,e){return t=n,a=o=>mt(o)&&!xn(e)?o.slice(0,e):o,i=new Set,function o(c,d){return c!==Object(c)?a?a(c,d):c:i.has(c)?void 0:(i.add(c),$e(c)?(h=[],Tr(c,m=>{h.push(o(m))})):(h={},We(c,(m,g)=>{i.has(m)||(h[g]=o(m,g))})),h);var h}(t);var t,a,i}var tx=["herokuapp.com","vercel.app","netlify.app"];function nx(n){var e=n==null?void 0:n.hostname;if(!mt(e))return!1;var t=e.split(".").slice(-2).join(".");for(var a of tx)if(t===a)return!1;return!0}function jv(n,e){for(var t=0;t<n.length;t++)if(e(n[t]))return n[t]}function dt(n,e,t,a){var{capture:i=!1,passive:o=!0}=a??{};n==null||n.addEventListener(e,t,{capture:i,passive:o})}var Iv="$people_distinct_id",ai="__alias",si="__timers",Lm="$autocapture_disabled_server_side",Ed="$heatmaps_enabled_server_side",Om="$exception_capture_enabled_server_side",kd="$error_tracking_suppression_rules",Nm="$error_tracking_capture_extension_exceptions",jm="$web_vitals_enabled_server_side",Dv="$dead_clicks_enabled_server_side",Im="$product_tours_enabled_server_side",Dm="$web_vitals_allowed_metrics",$u="$session_recording_remote_config",hl="$sesid",Bv="$session_is_sampled",Wa="$enabled_feature_flags",ii="$early_access_features",Sd="$feature_flag_details",oi="$stored_person_properties",Xr="$stored_group_properties",Ad="$surveys",pl="$flag_call_reported",Vn="$user_state",Cd="$client_session_props",Pd="$capture_rate_limit",Td="$initial_campaign_params",Rd="$initial_referrer_info",fl="$initial_person_info",ml="$epp",$v="__POSTHOG_TOOLBAR__",Ws="$posthog_cookieless",rx=[Iv,ai,"__cmpns",si,"$session_recording_enabled_server_side",Ed,hl,Wa,kd,Vn,ii,Sd,Xr,oi,Ad,pl,Cd,Pd,Td,Rd,ml,fl,"$conversations_widget_session_id","$conversations_ticket_id","$conversations_widget_state","$conversations_user_traits"];function Bm(n){return n instanceof Element&&(n.id===$v||!(n.closest==null||!n.closest(".toolbar-global-fade-container")))}function Ol(n){return!!n&&n.nodeType===1}function Rr(n,e){return!!n&&!!n.tagName&&n.tagName.toLowerCase()===e.toLowerCase()}function Mv(n){return!!n&&n.nodeType===3}function Uv(n){return!!n&&n.nodeType===11}function lh(n){return n?Rl(n).split(/\s+/):[]}function $m(n){var e=$==null?void 0:$.location.href;return!!(e&&n&&n.some(t=>e.match(t)))}function gl(n){var e="";switch(typeof n.className){case"string":e=n.className;break;case"object":e=(n.className&&"baseVal"in n.className?n.className.baseVal:null)||n.getAttribute("class")||"";break;default:e=""}return lh(e)}function Fv(n){return Be(n)?null:Rl(n).split(/(\s+)/).filter(e=>bi(e)).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function Li(n){var e="";return Ld(n)&&!Hv(n)&&n.childNodes&&n.childNodes.length&&We(n.childNodes,function(t){var a;Mv(t)&&t.textContent&&(e+=(a=Fv(t.textContent))!==null&&a!==void 0?a:"")}),Rl(e)}function qv(n){return J(n.target)?n.srcElement||null:(e=n.target)!=null&&e.shadowRoot?n.composedPath()[0]||null:n.target||null;var e}var ch=["a","button","form","input","select","textarea","label"];function zv(n,e){if(J(e))return!0;var t,a=function(o){if(e.some(c=>o.matches(c)))return{v:!0}};for(var i of n)if(t=a(i))return t.v;return!1}function Vv(n){var e=n.parentNode;return!(!e||!Ol(e))&&e}var ax=["next","previous","prev",">","<"],Mm=10,Um=[".ph-no-rageclick",".ph-no-capture"];function sx(n,e){if(!$||uh(n))return!1;var t,a,i;if(Jn(e)?(t=!!e&&Um,a=void 0):(t=(i=e==null?void 0:e.css_selector_ignorelist)!==null&&i!==void 0?i:Um,a=e==null?void 0:e.content_ignorelist),t===!1)return!1;var{targetElementList:o}=Wv(n,!1);return!function(c,d){if(c===!1||J(c))return!1;var h;if(c===!0)h=ax;else{if(!$e(c))return!1;if(c.length>Mm)return Z.error("[PostHog] content_ignorelist array cannot exceed "+Mm+" items. Use css_selector_ignorelist for more complex matching."),!1;h=c.map(m=>m.toLowerCase())}return d.some(m=>{var{safeText:g,ariaLabel:v}=m;return h.some(_=>g.includes(_)||v.includes(_))})}(a,o.map(c=>{var d;return{safeText:Li(c).toLowerCase(),ariaLabel:((d=c.getAttribute("aria-label"))==null?void 0:d.toLowerCase().trim())||""}}))&&!zv(o,t)}var uh=n=>!n||Rr(n,"html")||!Ol(n),Wv=(n,e)=>{if(!$||uh(n))return{parentIsUsefulElement:!1,targetElementList:[]};for(var t=!1,a=[n],i=n;i.parentNode&&!Rr(i,"body");)if(Uv(i.parentNode))a.push(i.parentNode.host),i=i.parentNode.host;else{var o=Vv(i);if(!o)break;if(e||ch.indexOf(o.tagName.toLowerCase())>-1)t=!0;else{var c=$.getComputedStyle(o);c&&c.getPropertyValue("cursor")==="pointer"&&(t=!0)}a.push(o),i=o}return{parentIsUsefulElement:t,targetElementList:a}};function ix(n,e,t,a,i){var o,c,d,h;if(t===void 0&&(t=void 0),!$||uh(n)||(o=t)!=null&&o.url_allowlist&&!$m(t.url_allowlist)||(c=t)!=null&&c.url_ignorelist&&$m(t.url_ignorelist))return!1;if((d=t)!=null&&d.dom_event_allowlist){var m=t.dom_event_allowlist;if(m&&!m.some(E=>e.type===E))return!1}var{parentIsUsefulElement:g,targetElementList:v}=Wv(n,a);if(!function(E,S){var w=S==null?void 0:S.element_allowlist;if(J(w))return!0;var A,R=function(B){if(w.some(U=>B.tagName.toLowerCase()===U))return{v:!0}};for(var N of E)if(A=R(N))return A.v;return!1}(v,t)||!zv(v,(h=t)==null?void 0:h.css_selector_allowlist))return!1;var _=$.getComputedStyle(n);if(_&&_.getPropertyValue("cursor")==="pointer"&&e.type==="click")return!0;var b=n.tagName.toLowerCase();switch(b){case"html":return!1;case"form":return(i||["submit"]).indexOf(e.type)>=0;case"input":case"select":case"textarea":return(i||["change","click"]).indexOf(e.type)>=0;default:return g?(i||["click"]).indexOf(e.type)>=0:(i||["click"]).indexOf(e.type)>=0&&(ch.indexOf(b)>-1||n.getAttribute("contenteditable")==="true")}}function Ld(n){for(var e=n;e.parentNode&&!Rr(e,"body");e=e.parentNode){var t=gl(e);if(Ae(t,"ph-sensitive")||Ae(t,"ph-no-capture"))return!1}if(Ae(gl(n),"ph-include"))return!0;var a=n.type||"";if(mt(a))switch(a.toLowerCase()){case"hidden":case"password":return!1}var i=n.name||n.id||"";return!(mt(i)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(i.replace(/[^a-zA-Z0-9]/g,"")))}function Hv(n){return!!(Rr(n,"input")&&!["button","checkbox","submit","reset"].includes(n.type)||Rr(n,"select")||Rr(n,"textarea")||n.getAttribute("contenteditable")==="true")}var Kv="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",ox=new RegExp("^(?:"+Kv+")$"),lx=new RegExp(Kv),Gv="\\d{3}-?\\d{2}-?\\d{4}",cx=new RegExp("^("+Gv+")$"),ux=new RegExp("("+Gv+")");function bi(n,e){return e===void 0&&(e=!0),!(Be(n)||mt(n)&&(n=Rl(n),(e?ox:lx).test((n||"").replace(/[- ]/g,""))||(e?cx:ux).test(n)))}function Jv(n){var e=Li(n);return bi(e=(e+" "+Yv(n)).trim())?e:""}function Yv(n){var e="";return n&&n.childNodes&&n.childNodes.length&&We(n.childNodes,function(t){var a;if(t&&((a=t.tagName)==null?void 0:a.toLowerCase())==="span")try{var i=Li(t);e=(e+" "+i).trim(),t.childNodes&&t.childNodes.length&&(e=(e+" "+Yv(t)).trim())}catch(o){Z.error("[AutoCapture]",o)}}),e}function dx(n){return function(e){var t=e.map(a=>{var i,o,c="";if(a.tag_name&&(c+=a.tag_name),a.attr_class)for(var d of(a.attr_class.sort(),a.attr_class))c+="."+d.replace(/"/g,"");var h=ae({},a.text?{text:a.text}:{},{"nth-child":(i=a.nth_child)!==null&&i!==void 0?i:0,"nth-of-type":(o=a.nth_of_type)!==null&&o!==void 0?o:0},a.href?{href:a.href}:{},a.attr_id?{attr_id:a.attr_id}:{},a.attributes),m={};return ol(h).sort((g,v)=>{var[_]=g,[b]=v;return _.localeCompare(b)}).forEach(g=>{var[v,_]=g;return m[Fm(v.toString())]=Fm(_.toString())}),c+=":",c+=ol(m).map(g=>{var[v,_]=g;return v+'="'+_+'"'}).join("")});return t.join(";")}(function(e){return e.map(t=>{var a,i,o={text:(a=t.$el_text)==null?void 0:a.slice(0,400),tag_name:t.tag_name,href:(i=t.attr__href)==null?void 0:i.slice(0,2048),attr_class:hx(t),attr_id:t.attr__id,nth_child:t.nth_child,nth_of_type:t.nth_of_type,attributes:{}};return ol(t).filter(c=>{var[d]=c;return d.indexOf("attr__")===0}).forEach(c=>{var[d,h]=c;return o.attributes[d]=h}),o})}(n))}function Fm(n){return n.replace(/"|\\"/g,'\\"')}function hx(n){var e=n.attr__class;return e?$e(e)?e:lh(e):void 0}class Qv{constructor(e){this.disabled=e===!1;var t=_t(e)?e:{};this.thresholdPx=t.threshold_px||30,this.timeoutMs=t.timeout_ms||1e3,this.clickCount=t.click_count||3,this.clicks=[]}isRageClick(e,t,a){if(this.disabled)return!1;var i=this.clicks[this.clicks.length-1];if(i&&Math.abs(e-i.x)+Math.abs(t-i.y)<this.thresholdPx&&a-i.timestamp<this.timeoutMs){if(this.clicks.push({x:e,y:t,timestamp:a}),this.clicks.length===this.clickCount)return!0}else this.clicks=[{x:e,y:t,timestamp:a}];return!1}}var vl=n=>{var e=ee==null?void 0:ee.createElement("a");return J(e)?null:(e.href=n,e)},px=function(n,e){var t,a;e===void 0&&(e="&");var i=[];return We(n,function(o,c){J(o)||J(c)||c==="undefined"||(t=encodeURIComponent((d=>d instanceof File)(o)?o.name:o.toString()),a=encodeURIComponent(c),i[i.length]=a+"="+t)}),i.join(e)},yl=function(n,e){for(var t,a=((n.split("#")[0]||"").split(/\?(.*)/)[1]||"").replace(/^\?+/g,"").split("&"),i=0;i<a.length;i++){var o=a[i].split("=");if(o[0]===e){t=o;break}}if(!$e(t)||t.length<2)return"";var c=t[1];try{c=decodeURIComponent(c)}catch{Z.error("Skipping decoding for malformed query param: "+c)}return c.replace(/\+/g," ")},Oi=function(n,e,t){if(!n||!e||!e.length)return n;for(var a=n.split("#"),i=a[0]||"",o=a[1],c=i.split("?"),d=c[1],h=c[0],m=(d||"").split("&"),g=[],v=0;v<m.length;v++){var _=m[v].split("=");$e(_)&&(e.includes(_[0])?g.push(_[0]+"="+t):g.push(m[v]))}var b=h;return d!=null&&(b+="?"+g.join("&")),o!=null&&(b+="#"+o),b},_l=function(n,e){var t=n.match(new RegExp(e+"=([^&]*)"));return t?t[1]:null},Mu="$copy_autocapture",qm=lt("[AutoCapture]");function Uu(n,e){return e.length>n?e.slice(0,n)+"...":e}function fx(n){if(n.previousElementSibling)return n.previousElementSibling;var e=n;do e=e.previousSibling;while(e&&!Ol(e));return e}function mx(n,e,t,a){var i=n.tagName.toLowerCase(),o={tag_name:i};ch.indexOf(i)>-1&&!t&&(i.toLowerCase()==="a"||i.toLowerCase()==="button"?o.$el_text=Uu(1024,Jv(n)):o.$el_text=Uu(1024,Li(n)));var c=gl(n);c.length>0&&(o.classes=c.filter(function(g){return g!==""})),We(n.attributes,function(g){var v;if((!Hv(n)||["name","id","class","aria-label"].indexOf(g.name)!==-1)&&(a==null||!a.includes(g.name))&&!e&&bi(g.value)&&(v=g.name,!mt(v)||v.substring(0,10)!=="_ngcontent"&&v.substring(0,7)!=="_nghost")){var _=g.value;g.name==="class"&&(_=lh(_).join(" ")),o["attr__"+g.name]=Uu(1024,_)}});for(var d=1,h=1,m=n;m=fx(m);)d++,m.tagName===n.tagName&&h++;return o.nth_child=d,o.nth_of_type=h,o}function gx(n,e){for(var t,a,{e:i,maskAllElementAttributes:o,maskAllText:c,elementAttributeIgnoreList:d,elementsChainAsString:h}=e,m=[n],g=n;g.parentNode&&!Rr(g,"body");)Uv(g.parentNode)?(m.push(g.parentNode.host),g=g.parentNode.host):(m.push(g.parentNode),g=g.parentNode);var v,_=[],b={},E=!1,S=!1;if(We(m,B=>{var U=Ld(B);B.tagName.toLowerCase()==="a"&&(E=B.getAttribute("href"),E=U&&E&&bi(E)&&E),Ae(gl(B),"ph-no-capture")&&(S=!0),_.push(mx(B,o,c,d));var K=function(Q){if(!Ld(Q))return{};var F={};return We(Q.attributes,function(X){if(X.name&&X.name.indexOf("data-ph-capture-attribute")===0){var ne=X.name.replace("data-ph-capture-attribute-",""),fe=X.value;ne&&fe&&bi(fe)&&(F[ne]=fe)}}),F}(B);ot(b,K)}),S)return{props:{},explicitNoCapture:S};if(c||(n.tagName.toLowerCase()==="a"||n.tagName.toLowerCase()==="button"?_[0].$el_text=Jv(n):_[0].$el_text=Li(n)),E){var w,A;_[0].attr__href=E;var R=(w=vl(E))==null?void 0:w.host,N=$==null||(A=$.location)==null?void 0:A.host;R&&N&&R!==N&&(v=E)}return{props:ot({$event_type:i.type,$ce_version:1},h?{}:{$elements:_},{$elements_chain:dx(_)},(t=_[0])!=null&&t.$el_text?{$el_text:(a=_[0])==null?void 0:a.$el_text}:{},v&&i.type==="click"?{$external_click_url:v}:{},b)}}class vx{constructor(e){this.P=!1,this.T=null,this.I=!1,this.instance=e,this.rageclicks=new Qv(e.config.rageclick),this.C=null}get R(){var e,t,a=_t(this.instance.config.autocapture)?this.instance.config.autocapture:{};return a.url_allowlist=(e=a.url_allowlist)==null?void 0:e.map(i=>new RegExp(i)),a.url_ignorelist=(t=a.url_ignorelist)==null?void 0:t.map(i=>new RegExp(i)),a}F(){if(this.isBrowserSupported()){if($&&ee){var e=a=>{a=a||($==null?void 0:$.event);try{this.M(a)}catch(i){qm.error("Failed to capture event",i)}};if(dt(ee,"submit",e,{capture:!0}),dt(ee,"change",e,{capture:!0}),dt(ee,"click",e,{capture:!0}),this.R.capture_copied_text){var t=a=>{a=a||($==null?void 0:$.event),this.M(a,Mu)};dt(ee,"copy",t,{capture:!0}),dt(ee,"cut",t,{capture:!0})}}}else qm.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this.P&&(this.F(),this.P=!0)}onRemoteConfig(e){e.elementsChainAsString&&(this.I=e.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[Lm]:!!e.autocapture_opt_out}),this.T=!!e.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(e){this.C=e}getElementSelectors(e){var t,a=[];return(t=this.C)==null||t.forEach(i=>{var o=ee==null?void 0:ee.querySelectorAll(i);o==null||o.forEach(c=>{e===c&&a.push(i)})}),a}get isEnabled(){var e,t,a=(e=this.instance.persistence)==null?void 0:e.props[Lm],i=this.T;if(xn(i)&&!Jn(a)&&!this.instance.O())return!1;var o=(t=this.T)!==null&&t!==void 0?t:!!a;return!!this.instance.config.autocapture&&!o}M(e,t){if(t===void 0&&(t="$autocapture"),this.isEnabled){var a,i=qv(e);Mv(i)&&(i=i.parentNode||null),t==="$autocapture"&&e.type==="click"&&e instanceof MouseEvent&&this.instance.config.rageclick&&(a=this.rageclicks)!=null&&a.isRageClick(e.clientX,e.clientY,e.timeStamp||new Date().getTime())&&sx(i,this.instance.config.rageclick)&&this.M(e,"$rageclick");var o=t===Mu;if(i&&ix(i,e,this.R,o,o?["copy","cut"]:void 0)){var{props:c,explicitNoCapture:d}=gx(i,{e,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.R.element_attribute_ignorelist,elementsChainAsString:this.I});if(d)return!1;var h=this.getElementSelectors(i);if(h&&h.length>0&&(c.$element_selectors=h),t===Mu){var m,g=Fv($==null||(m=$.getSelection())==null?void 0:m.toString()),v=e.type||"clipboard";if(!g)return!1;c.$selected_content=g,c.$copy_type=v}return this.instance.capture(t,c),!0}}}isBrowserSupported(){return Pr(ee==null?void 0:ee.querySelectorAll)}}Math.trunc||(Math.trunc=function(n){return n<0?Math.ceil(n):Math.floor(n)}),Number.isInteger||(Number.isInteger=function(n){return Tn(n)&&isFinite(n)&&Math.floor(n)===n});var zm="0123456789abcdef";class xl{constructor(e){if(this.bytes=e,e.length!==16)throw new TypeError("not 128-bit length")}static fromFieldsV7(e,t,a,i){if(!Number.isInteger(e)||!Number.isInteger(t)||!Number.isInteger(a)||!Number.isInteger(i)||e<0||t<0||a<0||i<0||e>0xffffffffffff||t>4095||a>1073741823||i>4294967295)throw new RangeError("invalid field value");var o=new Uint8Array(16);return o[0]=e/Math.pow(2,40),o[1]=e/Math.pow(2,32),o[2]=e/Math.pow(2,24),o[3]=e/Math.pow(2,16),o[4]=e/Math.pow(2,8),o[5]=e,o[6]=112|t>>>8,o[7]=t,o[8]=128|a>>>24,o[9]=a>>>16,o[10]=a>>>8,o[11]=a,o[12]=i>>>24,o[13]=i>>>16,o[14]=i>>>8,o[15]=i,new xl(o)}toString(){for(var e="",t=0;t<this.bytes.length;t++)e=e+zm.charAt(this.bytes[t]>>>4)+zm.charAt(15&this.bytes[t]),t!==3&&t!==5&&t!==7&&t!==9||(e+="-");if(e.length!==36)throw new Error("Invalid UUIDv7 was generated");return e}clone(){return new xl(this.bytes.slice(0))}equals(e){return this.compareTo(e)===0}compareTo(e){for(var t=0;t<16;t++){var a=this.bytes[t]-e.bytes[t];if(a!==0)return Math.sign(a)}return 0}}class yx{constructor(){this.A=0,this.D=0,this.j=new _x}generate(){var e=this.generateOrAbort();if(J(e)){this.A=0;var t=this.generateOrAbort();if(J(t))throw new Error("Could not generate UUID after timestamp reset");return t}return e}generateOrAbort(){var e=Date.now();if(e>this.A)this.A=e,this.L();else{if(!(e+1e4>this.A))return;this.D++,this.D>4398046511103&&(this.A++,this.L())}return xl.fromFieldsV7(this.A,Math.trunc(this.D/Math.pow(2,30)),this.D&Math.pow(2,30)-1,this.j.nextUint32())}L(){this.D=1024*this.j.nextUint32()+(1023&this.j.nextUint32())}}var Vm,Xv=n=>{if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var e=0;e<n.length;e++)n[e]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return n};$&&!J($.crypto)&&crypto.getRandomValues&&(Xv=n=>crypto.getRandomValues(n));class _x{constructor(){this.N=new Uint32Array(8),this.U=1/0}nextUint32(){return this.U>=this.N.length&&(Xv(this.N),this.U=0),this.N[this.U++]}}var Ar=()=>xx().toString(),xx=()=>(Vm||(Vm=new yx)).generate(),Hs="",wx=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function bx(n,e){if(e){var t=function(i,o){if(o===void 0&&(o=ee),Hs)return Hs;if(!o||["localhost","127.0.0.1"].includes(i))return"";for(var c=i.split("."),d=Math.min(c.length,8),h="dmn_chk_"+Ar();!Hs&&d--;){var m=c.slice(d).join("."),g=h+"=1;domain=."+m+";path=/";o.cookie=g+";max-age=3",o.cookie.includes(h)&&(o.cookie=g+";max-age=0",Hs=m)}return Hs}(n);if(!t){var a=(i=>{var o=i.match(wx);return o?o[0]:""})(n);a!==t&&Z.info("Warning: cookie subdomain discovery mismatch",a,t),t=a}return t?"; domain=."+t:""}return""}var Cn={H:()=>!!ee,B:function(n){Z.error("cookieStore error: "+n)},q:function(n){if(ee){try{for(var e=n+"=",t=ee.cookie.split(";").filter(o=>o.length),a=0;a<t.length;a++){for(var i=t[a];i.charAt(0)==" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return decodeURIComponent(i.substring(e.length,i.length))}}catch{}return null}},W:function(n){var e;try{e=JSON.parse(Cn.q(n))||{}}catch{}return e},G:function(n,e,t,a,i){if(ee)try{var o="",c="",d=bx(ee.location.hostname,a);if(t){var h=new Date;h.setTime(h.getTime()+24*t*60*60*1e3),o="; expires="+h.toUTCString()}i&&(c="; secure");var m=n+"="+encodeURIComponent(JSON.stringify(e))+o+"; SameSite=Lax; path=/"+d+c;return m.length>3686.4&&Z.warn("cookieStore warning: large cookie, len="+m.length),ee.cookie=m,m}catch{return}},V:function(n,e){if(ee!=null&&ee.cookie)try{Cn.G(n,"",-1,e)}catch{return}}},Fu=null,et={H:function(){if(!xn(Fu))return Fu;var n=!0;if(J($))n=!1;else try{var e="__mplssupport__";et.G(e,"xyz"),et.q(e)!=='"xyz"'&&(n=!1),et.V(e)}catch{n=!1}return n||Z.error("localStorage unsupported; falling back to cookie store"),Fu=n,n},B:function(n){Z.error("localStorage error: "+n)},q:function(n){try{return $==null?void 0:$.localStorage.getItem(n)}catch(e){et.B(e)}return null},W:function(n){try{return JSON.parse(et.q(n))||{}}catch{}return null},G:function(n,e){try{$==null||$.localStorage.setItem(n,JSON.stringify(e))}catch(t){et.B(t)}},V:function(n){try{$==null||$.localStorage.removeItem(n)}catch(e){et.B(e)}}},Ex=["$device_id","distinct_id",hl,Bv,ml,fl],Qo={},kx={H:function(){return!0},B:function(n){Z.error("memoryStorage error: "+n)},q:function(n){return Qo[n]||null},W:function(n){return Qo[n]||null},G:function(n,e){Qo[n]=e},V:function(n){delete Qo[n]}},Hr=null,St={H:function(){if(!xn(Hr))return Hr;if(Hr=!0,J($))Hr=!1;else try{var n="__support__";St.G(n,"xyz"),St.q(n)!=='"xyz"'&&(Hr=!1),St.V(n)}catch{Hr=!1}return Hr},B:function(n){Z.error("sessionStorage error: ",n)},q:function(n){try{return $==null?void 0:$.sessionStorage.getItem(n)}catch(e){St.B(e)}return null},W:function(n){try{return JSON.parse(St.q(n))||null}catch{}return null},G:function(n,e){try{$==null||$.sessionStorage.setItem(n,JSON.stringify(e))}catch(t){St.B(t)}},V:function(n){try{$==null||$.sessionStorage.removeItem(n)}catch(e){St.B(e)}}},Wn=function(n){return n[n.PENDING=-1]="PENDING",n[n.DENIED=0]="DENIED",n[n.GRANTED=1]="GRANTED",n}({});class Sx{constructor(e){this._instance=e}get R(){return this._instance.config}get consent(){return this.J()?Wn.DENIED:this.K}isOptedOut(){return this.R.cookieless_mode==="always"||this.consent===Wn.DENIED||this.consent===Wn.PENDING&&(this.R.opt_out_capturing_by_default||this.R.cookieless_mode==="on_reject")}isOptedIn(){return!this.isOptedOut()}isExplicitlyOptedOut(){return this.consent===Wn.DENIED}optInOut(e){this.Y.G(this.X,e?1:0,this.R.cookie_expiration,this.R.cross_subdomain_cookie,this.R.secure_cookie)}reset(){this.Y.V(this.X,this.R.cross_subdomain_cookie)}get X(){var{token:e,opt_out_capturing_cookie_prefix:t,consent_persistence_name:a}=this._instance.config;return a||(t?t+e:"__ph_opt_in_out_"+e)}get K(){var e=this.Y.q(this.X);return Iu(e)?Wn.GRANTED:Ae(__,e)?Wn.DENIED:Wn.PENDING}get Y(){if(!this.Z){var e=this.R.opt_out_capturing_persistence_type;this.Z=e==="localStorage"?et:Cn;var t=e==="localStorage"?Cn:et;t.q(this.X)&&(this.Z.q(this.X)||this.optInOut(Iu(t.q(this.X))),t.V(this.X,this.R.cross_subdomain_cookie))}return this.Z}J(){return!!this.R.respect_dnt&&!!jv([Zt==null?void 0:Zt.doNotTrack,Zt==null?void 0:Zt.msDoNotTrack,ve.doNotTrack],e=>Iu(e))}}var Xo=lt("[Dead Clicks]"),Ax=()=>!0,Cx=n=>{var e,t=!((e=n.instance.persistence)==null||!e.get_property(Dv)),a=n.instance.config.capture_dead_clicks;return Jn(a)?a:!!_t(a)||t};class Zv{get lazyLoadedDeadClicksAutocapture(){return this.tt}constructor(e,t,a){this.instance=e,this.isEnabled=t,this.onCapture=a,this.startIfEnabled()}onRemoteConfig(e){this.instance.persistence&&this.instance.persistence.register({[Dv]:e==null?void 0:e.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.it(()=>{this.et()})}it(e){var t,a;(t=ve.__PosthogExtensions__)!=null&&t.initDeadClicksAutocapture&&e(),(a=ve.__PosthogExtensions__)==null||a.loadExternalDependency==null||a.loadExternalDependency(this.instance,"dead-clicks-autocapture",i=>{i?Xo.error("failed to load script",i):e()})}et(){var e;if(ee){if(!this.tt&&(e=ve.__PosthogExtensions__)!=null&&e.initDeadClicksAutocapture){var t=_t(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};t.__onCapture=this.onCapture,this.tt=ve.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,t),this.tt.start(ee),Xo.info("starting...")}}else Xo.error("`document` not found. Cannot start.")}stop(){this.tt&&(this.tt.stop(),this.tt=void 0,Xo.info("stopping..."))}}var Ks=lt("[ExceptionAutocapture]");class Px{constructor(e){var t,a,i;this.rt=()=>{var o;if($&&this.isEnabled&&(o=ve.__PosthogExtensions__)!=null&&o.errorWrappingFunctions){var c=ve.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,d=ve.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,h=ve.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.st&&this.R.capture_unhandled_errors&&(this.st=c(this.captureException.bind(this))),!this.nt&&this.R.capture_unhandled_rejections&&(this.nt=d(this.captureException.bind(this))),!this.ot&&this.R.capture_console_errors&&(this.ot=h(this.captureException.bind(this)))}catch(m){Ks.error("failed to start",m),this.ut()}}},this._instance=e,this.ht=!((t=this._instance.persistence)==null||!t.props[Om]),this.dt=new x_({refillRate:(a=this._instance.config.error_tracking.__exceptionRateLimiterRefillRate)!==null&&a!==void 0?a:1,bucketSize:(i=this._instance.config.error_tracking.__exceptionRateLimiterBucketSize)!==null&&i!==void 0?i:10,refillInterval:1e4,h:Ks}),this.R=this.vt(),this.startIfEnabledOrStop()}vt(){var e=this._instance.config.capture_exceptions,t={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return _t(e)?t=ae({},t,e):(J(e)?this.ht:e)&&(t=ae({},t,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),t}get isEnabled(){return this.R.capture_console_errors||this.R.capture_unhandled_errors||this.R.capture_unhandled_rejections}startIfEnabledOrStop(){this.isEnabled?(Ks.info("enabled"),this.ut(),this.it(this.rt)):this.ut()}it(e){var t,a;(t=ve.__PosthogExtensions__)!=null&&t.errorWrappingFunctions&&e(),(a=ve.__PosthogExtensions__)==null||a.loadExternalDependency==null||a.loadExternalDependency(this._instance,"exception-autocapture",i=>{if(i)return Ks.error("failed to load script",i);e()})}ut(){var e,t,a;(e=this.st)==null||e.call(this),this.st=void 0,(t=this.nt)==null||t.call(this),this.nt=void 0,(a=this.ot)==null||a.call(this),this.ot=void 0}onRemoteConfig(e){var t=e.autocaptureExceptions;this.ht=!!t||!1,this._instance.persistence&&this._instance.persistence.register({[Om]:this.ht}),this.R=this.vt(),this.startIfEnabledOrStop()}onConfigChange(){this.R=this.vt()}captureException(e){var t,a,i=(t=e==null||(a=e.$exception_list)==null||(a=a[0])==null?void 0:a.type)!==null&&t!==void 0?t:"Exception";this.dt.consumeRateLimit(i)?Ks.info("Skipping exception capture because of client rate limiting.",{exception:i}):this._instance.exceptions.sendExceptionEvent(e)}}function Wm(n,e,t){try{if(!(e in n))return()=>{};var a=n[e],i=t(a);return Pr(i)&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__posthog_wrapped__:{enumerable:!1,value:!0}})),n[e]=i,()=>{n[e]=a}}catch{return()=>{}}}class Tx{constructor(e){var t;this._instance=e,this.ct=($==null||(t=$.location)==null?void 0:t.pathname)||""}get isEnabled(){return this._instance.config.capture_pageview==="history_change"}startIfEnabled(){this.isEnabled&&(Z.info("History API monitoring enabled, starting..."),this.monitorHistoryChanges())}stop(){this.ft&&this.ft(),this.ft=void 0,Z.info("History API monitoring stopped")}monitorHistoryChanges(){var e,t;if($&&$.history){var a=this;(e=$.history.pushState)!=null&&e.__posthog_wrapped__||Wm($.history,"pushState",i=>function(o,c,d){i.call(this,o,c,d),a._t("pushState")}),(t=$.history.replaceState)!=null&&t.__posthog_wrapped__||Wm($.history,"replaceState",i=>function(o,c,d){i.call(this,o,c,d),a._t("replaceState")}),this.yt()}}_t(e){try{var t,a=$==null||(t=$.location)==null?void 0:t.pathname;if(!a)return;a!==this.ct&&this.isEnabled&&this._instance.capture("$pageview",{navigation_type:e}),this.ct=a}catch(i){Z.error("Error capturing "+e+" pageview",i)}}yt(){if(!this.ft){var e=()=>{this._t("popstate")};dt($,"popstate",e),this.ft=()=>{$&&$.removeEventListener("popstate",e)}}}}var qu=lt("[SegmentIntegration]");function Rx(n,e){var t=n.config.segment;if(!t)return e();(function(a,i){var o=a.config.segment;if(!o)return i();var c=h=>{var m=()=>h.anonymousId()||Ar();a.config.get_device_id=m,h.id()&&(a.register({distinct_id:h.id(),$device_id:m()}),a.persistence.set_property(Vn,"identified")),i()},d=o.user();"then"in d&&Pr(d.then)?d.then(c):c(d)})(n,()=>{t.register((a=>{Promise&&Promise.resolve||qu.warn("This browser does not have Promise support, and can not use the segment integration");var i=(o,c)=>{if(!c)return o;o.event.userId||o.event.anonymousId===a.get_distinct_id()||(qu.info("No userId set, resetting PostHog"),a.reset()),o.event.userId&&o.event.userId!==a.get_distinct_id()&&(qu.info("UserId set, identifying with PostHog"),a.identify(o.event.userId));var d=a.calculateEventProperties(c,o.event.properties);return o.event.properties=Object.assign({},d,o.event.properties),o};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:o=>i(o,o.event.event),page:o=>i(o,"$pageview"),identify:o=>i(o,"$identify"),screen:o=>i(o,"$screen")}})(n)).then(()=>{e()})})}var e2="posthog-js";function t2(n,e){var{organization:t,projectId:a,prefix:i,severityAllowList:o=["error"],sendExceptionsToPostHog:c=!0}=e===void 0?{}:e;return d=>{var h,m,g,v,_;if(!(o==="*"||o.includes(d.level))||!n.__loaded)return d;d.tags||(d.tags={});var b=n.requestRouter.endpointFor("ui","/project/"+n.config.token+"/person/"+n.get_distinct_id());d.tags["PostHog Person URL"]=b,n.sessionRecordingStarted()&&(d.tags["PostHog Recording URL"]=n.get_session_replay_url({withTimestamp:!0}));var E=((h=d.exception)==null?void 0:h.values)||[],S=E.map(A=>ae({},A,{stacktrace:A.stacktrace?ae({},A.stacktrace,{type:"raw",frames:(A.stacktrace.frames||[]).map(R=>ae({},R,{platform:"web:javascript"}))}):void 0})),w={$exception_message:((m=E[0])==null?void 0:m.value)||d.message,$exception_type:(g=E[0])==null?void 0:g.type,$exception_level:d.level,$exception_list:S,$sentry_event_id:d.event_id,$sentry_exception:d.exception,$sentry_exception_message:((v=E[0])==null?void 0:v.value)||d.message,$sentry_exception_type:(_=E[0])==null?void 0:_.type,$sentry_tags:d.tags};return t&&a&&(w.$sentry_url=(i||"https://sentry.io/organizations/")+t+"/issues/?project="+a+"&query="+d.event_id),c&&n.exceptions.sendExceptionEvent(w),d}}class Lx{constructor(e,t,a,i,o,c){this.name=e2,this.setupOnce=function(d){d(t2(e,{organization:t,projectId:a,prefix:i,severityAllowList:o,sendExceptionsToPostHog:c==null||c}))}}}var Ox=$!=null&&$.location?_l($.location.hash,"__posthog")||_l(location.hash,"state"):null,Hm="_postHogToolbarParams",Km=lt("[Toolbar]"),Er=function(n){return n[n.UNINITIALIZED=0]="UNINITIALIZED",n[n.LOADING=1]="LOADING",n[n.LOADED=2]="LOADED",n}(Er||{});class Nx{constructor(e){this.instance=e}bt(e){ve.ph_toolbar_state=e}wt(){var e;return(e=ve.ph_toolbar_state)!==null&&e!==void 0?e:Er.UNINITIALIZED}maybeLoadToolbar(e,t,a){if(e===void 0&&(e=void 0),t===void 0&&(t=void 0),a===void 0&&(a=void 0),!$||!ee)return!1;e=e??$.location,a=a??$.history;try{if(!t){try{$.localStorage.setItem("test","test"),$.localStorage.removeItem("test")}catch{return!1}t=$==null?void 0:$.localStorage}var i,o=Ox||_l(e.hash,"__posthog")||_l(e.hash,"state"),c=o?Rm(()=>JSON.parse(atob(decodeURIComponent(o))))||Rm(()=>JSON.parse(decodeURIComponent(o))):null;return c&&c.action==="ph_authorize"?((i=c).source="url",i&&Object.keys(i).length>0&&(c.desiredHash?e.hash=c.desiredHash:a?a.replaceState(a.state,"",e.pathname+e.search):e.hash="")):((i=JSON.parse(t.getItem(Hm)||"{}")).source="localstorage",delete i.userIntent),!(!i.token||this.instance.config.token!==i.token)&&(this.loadToolbar(i),!0)}catch{return!1}}xt(e){var t=ve.ph_load_toolbar||ve.ph_load_editor;!Be(t)&&Pr(t)?t(e,this.instance):Km.warn("No toolbar load function found")}loadToolbar(e){var t=!(ee==null||!ee.getElementById($v));if(!$||t)return!1;var a=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,i=ae({token:this.instance.config.token},e,{apiURL:this.instance.requestRouter.endpointFor("ui")},a?{instrument:!1}:{});if($.localStorage.setItem(Hm,JSON.stringify(ae({},i,{source:void 0}))),this.wt()===Er.LOADED)this.xt(i);else if(this.wt()===Er.UNINITIALIZED){var o;this.bt(Er.LOADING),(o=ve.__PosthogExtensions__)==null||o.loadExternalDependency==null||o.loadExternalDependency(this.instance,"toolbar",c=>{if(c)return Km.error("[Toolbar] Failed to load",c),void this.bt(Er.UNINITIALIZED);this.bt(Er.LOADED),this.xt(i)}),dt($,"turbolinks:load",()=>{this.bt(Er.UNINITIALIZED),this.loadToolbar(i)})}return!0}Et(e){return this.loadToolbar(e)}maybeLoadEditor(e,t,a){return e===void 0&&(e=void 0),t===void 0&&(t=void 0),a===void 0&&(a=void 0),this.maybeLoadToolbar(e,t,a)}}var jx=lt("[TracingHeaders]");class Ix{constructor(e){this.$t=void 0,this.St=void 0,this.rt=()=>{var t,a;J(this.$t)&&((t=ve.__PosthogExtensions__)==null||(t=t.tracingHeadersPatchFns)==null||t._patchXHR(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager)),J(this.St)&&((a=ve.__PosthogExtensions__)==null||(a=a.tracingHeadersPatchFns)==null||a._patchFetch(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager))},this._instance=e}it(e){var t,a;(t=ve.__PosthogExtensions__)!=null&&t.tracingHeadersPatchFns&&e(),(a=ve.__PosthogExtensions__)==null||a.loadExternalDependency==null||a.loadExternalDependency(this._instance,"tracing-headers",i=>{if(i)return jx.error("failed to load script",i);e()})}startIfEnabledOrStop(){var e,t;this._instance.config.__add_tracing_headers?this.it(this.rt):((e=this.$t)==null||e.call(this),(t=this.St)==null||t.call(this),this.$t=void 0,this.St=void 0)}}var Zo="https?://(.*)",ns=["gclid","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","igshid","ttclid","rdt_cid","epik","qclid","sccid","irclid","_kx"],Dx=ts(["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gad_source","mc_cid"],ns),Ni="<masked>",Bx=["li_fat_id"];function n2(n,e,t){if(!ee)return{};var a,i=e?ts([],ns,t||[]):[],o=r2(Oi(ee.URL,i,Ni),n),c=(a={},We(Bx,function(d){var h=Cn.q(d);a[d]=h||null}),a);return ot(c,o)}function r2(n,e){var t=Dx.concat(e||[]),a={};return We(t,function(i){var o=yl(n,i);a[i]=o||null}),a}function a2(n){var e=function(o){return o?o.search(Zo+"google.([^/?]*)")===0?"google":o.search(Zo+"bing.com")===0?"bing":o.search(Zo+"yahoo.com")===0?"yahoo":o.search(Zo+"duckduckgo.com")===0?"duckduckgo":null:null}(n),t=e!="yahoo"?"q":"p",a={};if(!xn(e)){a.$search_engine=e;var i=ee?yl(ee.referrer,t):"";i.length&&(a.ph_keyword=i)}return a}function Gm(){return navigator.language||navigator.userLanguage}function s2(){return(ee==null?void 0:ee.referrer)||"$direct"}function i2(n,e){var t=n?ts([],ns,e||[]):[],a=Vt==null?void 0:Vt.href.substring(0,1e3);return{r:s2().substring(0,1e3),u:a?Oi(a,t,Ni):void 0}}function o2(n){var e,{r:t,u:a}=n,i={$referrer:t,$referring_domain:t==null?void 0:t=="$direct"?"$direct":(e=vl(t))==null?void 0:e.host};if(a){i.$current_url=a;var o=vl(a);i.$host=o==null?void 0:o.host,i.$pathname=o==null?void 0:o.pathname;var c=r2(a);ot(i,c)}if(t){var d=a2(t);ot(i,d)}return i}function l2(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return}}function $x(){try{return new Date().getTimezoneOffset()}catch{return}}function Mx(n,e){if(!zt)return{};var t,a,i,o=n?ts([],ns,e||[]):[],[c,d]=function(h){for(var m=0;m<Sm.length;m++){var[g,v]=Sm[m],_=g.exec(h),b=_&&(Pr(v)?v(_,h):v);if(b)return b}return["",""]}(zt);return ot(oh({$os:c,$os_version:d,$browser:Rv(zt,navigator.vendor),$device:Am(zt),$device_type:(a=zt,i=Am(a),i===gv||i===mv||i==="Kobo"||i==="Kindle Fire"||i===Tv?yi:i===xi||i===Ga||i===wi||i===xd?"Console":i===yv?"Wearable":i?on:"Desktop"),$timezone:l2(),$timezone_offset:$x()}),{$current_url:Oi(Vt==null?void 0:Vt.href,o,Ni),$host:Vt==null?void 0:Vt.host,$pathname:Vt==null?void 0:Vt.pathname,$raw_user_agent:zt.length>1e3?zt.substring(0,997)+"...":zt,$browser_version:R_(zt,navigator.vendor),$browser_language:Gm(),$browser_language_prefix:(t=Gm(),typeof t=="string"?t.split("-")[0]:void 0),$screen_height:$==null?void 0:$.screen.height,$screen_width:$==null?void 0:$.screen.width,$viewport_height:$==null?void 0:$.innerHeight,$viewport_width:$==null?void 0:$.innerWidth,$lib:"web",$lib_version:zn.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}var wr=lt("[Web Vitals]"),Jm=9e5;class Ux{constructor(e){var t;this.kt=!1,this.P=!1,this.N={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.Pt=()=>{clearTimeout(this.Tt),this.N.metrics.length!==0&&(this._instance.capture("$web_vitals",this.N.metrics.reduce((a,i)=>ae({},a,{["$web_vitals_"+i.name+"_event"]:ae({},i),["$web_vitals_"+i.name+"_value"]:i.value}),{})),this.N={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.It=a=>{var i,o=(i=this._instance.sessionManager)==null?void 0:i.checkAndGetSessionAndWindowId(!0);if(J(o))wr.error("Could not read session ID. Dropping metrics!");else{this.N=this.N||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var c=this.Ct();J(c)||(Be(a==null?void 0:a.name)||Be(a==null?void 0:a.value)?wr.error("Invalid metric received",a):this.Rt&&a.value>=this.Rt?wr.error("Ignoring metric with value >= "+this.Rt,a):(this.N.url!==c&&(this.Pt(),this.Tt=setTimeout(this.Pt,this.flushToCaptureTimeoutMs)),J(this.N.url)&&(this.N.url=c),this.N.firstMetricTimestamp=J(this.N.firstMetricTimestamp)?Date.now():this.N.firstMetricTimestamp,a.attribution&&a.attribution.interactionTargetElement&&(a.attribution.interactionTargetElement=void 0),this.N.metrics.push(ae({},a,{$current_url:c,$session_id:o.sessionId,$window_id:o.windowId,timestamp:Date.now()})),this.N.metrics.length===this.allowedMetrics.length&&this.Pt()))}},this.rt=()=>{var a,i,o,c,d=ve.__PosthogExtensions__;J(d)||J(d.postHogWebVitalsCallbacks)||({onLCP:a,onCLS:i,onFCP:o,onINP:c}=d.postHogWebVitalsCallbacks),a&&i&&o&&c?(this.allowedMetrics.indexOf("LCP")>-1&&a(this.It.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&i(this.It.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&o(this.It.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&c(this.It.bind(this)),this.P=!0):wr.error("web vitals callbacks not loaded - not starting")},this._instance=e,this.kt=!((t=this._instance.persistence)==null||!t.props[jm]),this.startIfEnabled()}get allowedMetrics(){var e,t,a=_t(this._instance.config.capture_performance)?(e=this._instance.config.capture_performance)==null?void 0:e.web_vitals_allowed_metrics:void 0;return J(a)?((t=this._instance.persistence)==null?void 0:t.props[Dm])||["CLS","FCP","INP","LCP"]:a}get flushToCaptureTimeoutMs(){return(_t(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get Rt(){var e=_t(this._instance.config.capture_performance)&&Tn(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:Jm;return 0<e&&e<=6e4?Jm:e}get isEnabled(){var e=Vt==null?void 0:Vt.protocol;if(e!=="http:"&&e!=="https:")return wr.info("Web Vitals are disabled on non-http/https protocols"),!1;var t=_t(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:Jn(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return Jn(t)?t:this.kt}startIfEnabled(){this.isEnabled&&!this.P&&(wr.info("enabled, starting..."),this.it(this.rt))}onRemoteConfig(e){var t=_t(e.capturePerformance)&&!!e.capturePerformance.web_vitals,a=_t(e.capturePerformance)?e.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[jm]:t}),this._instance.persistence.register({[Dm]:a})),this.kt=t,this.startIfEnabled()}it(e){var t,a;(t=ve.__PosthogExtensions__)!=null&&t.postHogWebVitalsCallbacks&&e(),(a=ve.__PosthogExtensions__)==null||a.loadExternalDependency==null||a.loadExternalDependency(this._instance,"web-vitals",i=>{i?wr.error("failed to load script",i):e()})}Ct(){var e=$?$.location.href:void 0;if(e){var t=this._instance.config.mask_personal_data_properties,a=this._instance.config.custom_personal_data_properties,i=t?ts([],ns,a||[]):[];return Oi(e,i,Ni)}wr.error("Could not determine current URL")}}var Fx=lt("[Heatmaps]");function Ym(n){return _t(n)&&"clientX"in n&&"clientY"in n&&Tn(n.clientX)&&Tn(n.clientY)}class qx{constructor(e){var t;this.kt=!1,this.P=!1,this.Ft=null,this.instance=e,this.kt=!((t=this.instance.persistence)==null||!t.props[Ed]),this.rageclicks=new Qv(e.config.rageclick)}get flushIntervalMilliseconds(){var e=5e3;return _t(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(e=this.instance.config.capture_heatmaps.flush_interval_milliseconds),e}get isEnabled(){return J(this.instance.config.capture_heatmaps)?J(this.instance.config.enable_heatmaps)?this.kt:this.instance.config.enable_heatmaps:this.instance.config.capture_heatmaps!==!1}startIfEnabled(){if(this.isEnabled){if(this.P)return;Fx.info("starting..."),this.Mt(),this.Ot()}else{var e;clearInterval((e=this.Ft)!==null&&e!==void 0?e:void 0),this.At(),this.getAndClearBuffer()}}onRemoteConfig(e){var t=!!e.heatmaps;this.instance.persistence&&this.instance.persistence.register({[Ed]:t}),this.kt=t,this.startIfEnabled()}getAndClearBuffer(){var e=this.N;return this.N=void 0,e}Dt(e){this.jt(e.originalEvent,"deadclick")}Ot(){this.Ft&&clearInterval(this.Ft),this.Ft=function(e){return(e==null?void 0:e.visibilityState)==="visible"}(ee)?setInterval(this.Lt.bind(this),this.flushIntervalMilliseconds):null}Mt(){$&&ee&&(this.Nt=this.Lt.bind(this),dt($,"beforeunload",this.Nt),this.Ut=e=>this.jt(e||($==null?void 0:$.event)),dt(ee,"click",this.Ut,{capture:!0}),this.zt=e=>this.Ht(e||($==null?void 0:$.event)),dt(ee,"mousemove",this.zt,{capture:!0}),this.Bt=new Zv(this.instance,Ax,this.Dt.bind(this)),this.Bt.startIfEnabled(),this.qt=this.Ot.bind(this),dt(ee,"visibilitychange",this.qt),this.P=!0)}At(){var e;$&&ee&&(this.Nt&&$.removeEventListener("beforeunload",this.Nt),this.Ut&&ee.removeEventListener("click",this.Ut,{capture:!0}),this.zt&&ee.removeEventListener("mousemove",this.zt,{capture:!0}),this.qt&&ee.removeEventListener("visibilitychange",this.qt),clearTimeout(this.Wt),(e=this.Bt)==null||e.stop(),this.P=!1)}Gt(e,t){var a=this.instance.scrollManager.scrollY(),i=this.instance.scrollManager.scrollX(),o=this.instance.scrollManager.scrollElement(),c=function(d,h,m){for(var g=d;g&&Ol(g)&&!Rr(g,"body");){if(g===m)return!1;if(Ae(h,$==null?void 0:$.getComputedStyle(g).position))return!0;g=Vv(g)}return!1}(qv(e),["fixed","sticky"],o);return{x:e.clientX+(c?0:i),y:e.clientY+(c?0:a),target_fixed:c,type:t}}jt(e,t){var a;if(t===void 0&&(t="click"),!Bm(e.target)&&Ym(e)){var i=this.Gt(e,t);(a=this.rageclicks)!=null&&a.isRageClick(e.clientX,e.clientY,new Date().getTime())&&this.Vt(ae({},i,{type:"rageclick"})),this.Vt(i)}}Ht(e){!Bm(e.target)&&Ym(e)&&(clearTimeout(this.Wt),this.Wt=setTimeout(()=>{this.Vt(this.Gt(e,"mousemove"))},500))}Vt(e){if($){var t=$.location.href,a=this.instance.config.mask_personal_data_properties,i=this.instance.config.custom_personal_data_properties,o=a?ts([],ns,i||[]):[],c=Oi(t,o,Ni);this.N=this.N||{},this.N[c]||(this.N[c]=[]),this.N[c].push(e)}}Lt(){this.N&&!Va(this.N)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}class Qm{constructor(e){this.Jt=(t,a,i)=>{i&&(i.noSessionId||i.activityTimeout||i.sessionPastMaximumLength)&&(Z.info("[PageViewManager] Session rotated, clearing pageview state",{sessionId:t,changeReason:i}),this.Kt=void 0,this._instance.scrollManager.resetContext())},this._instance=e,this.Yt()}Yt(){var e;this.Xt=(e=this._instance.sessionManager)==null?void 0:e.onSessionId(this.Jt)}destroy(){var e;(e=this.Xt)==null||e.call(this),this.Xt=void 0}doPageView(e,t){var a,i=this.Qt(e,t);return this.Kt={pathname:(a=$==null?void 0:$.location.pathname)!==null&&a!==void 0?a:"",pageViewId:t,timestamp:e},this._instance.scrollManager.resetContext(),i}doPageLeave(e){var t;return this.Qt(e,(t=this.Kt)==null?void 0:t.pageViewId)}doEvent(){var e;return{$pageview_id:(e=this.Kt)==null?void 0:e.pageViewId}}Qt(e,t){var a=this.Kt;if(!a)return{$pageview_id:t};var i={$pageview_id:t,$prev_pageview_id:a.pageViewId},o=this._instance.scrollManager.getContext();if(o&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:c,lastScrollY:d,maxScrollY:h,maxContentHeight:m,lastContentY:g,maxContentY:v}=o;if(!(J(c)||J(d)||J(h)||J(m)||J(g)||J(v))){c=Math.ceil(c),d=Math.ceil(d),h=Math.ceil(h),m=Math.ceil(m),g=Math.ceil(g),v=Math.ceil(v);var _=c<=1?1:Pn(d/c,0,1,Z),b=c<=1?1:Pn(h/c,0,1,Z),E=m<=1?1:Pn(g/m,0,1,Z),S=m<=1?1:Pn(v/m,0,1,Z);i=ot(i,{$prev_pageview_last_scroll:d,$prev_pageview_last_scroll_percentage:_,$prev_pageview_max_scroll:h,$prev_pageview_max_scroll_percentage:b,$prev_pageview_last_content:g,$prev_pageview_last_content_percentage:E,$prev_pageview_max_content:v,$prev_pageview_max_content_percentage:S})}}return a.pathname&&(i.$prev_pageview_pathname=a.pathname),a.timestamp&&(i.$prev_pageview_duration=(e.getTime()-a.timestamp.getTime())/1e3),i}}var Kn=function(n){return n.GZipJS="gzip-js",n.Base64="base64",n}({}),ln=Uint8Array,Wt=Uint16Array,Xa=Uint32Array,dh=new ln([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),hh=new ln([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Xm=new ln([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),c2=function(n,e){for(var t=new Wt(31),a=0;a<31;++a)t[a]=e+=1<<n[a-1];var i=new Xa(t[30]);for(a=1;a<30;++a)for(var o=t[a];o<t[a+1];++o)i[o]=o-t[a]<<5|a;return[t,i]},u2=c2(dh,2),zx=u2[0],Od=u2[1];zx[28]=258,Od[258]=28;for(var Zm=c2(hh,0)[1],d2=new Wt(32768),Ge=0;Ge<32768;++Ge){var Kr=(43690&Ge)>>>1|(21845&Ge)<<1;Kr=(61680&(Kr=(52428&Kr)>>>2|(13107&Kr)<<2))>>>4|(3855&Kr)<<4,d2[Ge]=((65280&Kr)>>>8|(255&Kr)<<8)>>>1}var fi=function(n,e,t){for(var a=n.length,i=0,o=new Wt(e);i<a;++i)++o[n[i]-1];var c,d=new Wt(e);for(i=0;i<e;++i)d[i]=d[i-1]+o[i-1]<<1;for(c=new Wt(a),i=0;i<a;++i)c[i]=d2[d[n[i]-1]++]>>>15-n[i];return c},sa=new ln(288);for(Ge=0;Ge<144;++Ge)sa[Ge]=8;for(Ge=144;Ge<256;++Ge)sa[Ge]=9;for(Ge=256;Ge<280;++Ge)sa[Ge]=7;for(Ge=280;Ge<288;++Ge)sa[Ge]=8;var wl=new ln(32);for(Ge=0;Ge<32;++Ge)wl[Ge]=5;var Vx=fi(sa,9),Wx=fi(wl,5),h2=function(n){return(n/8>>0)+(7&n&&1)},p2=function(n,e,t){(t==null||t>n.length)&&(t=n.length);var a=new(n instanceof Wt?Wt:n instanceof Xa?Xa:ln)(t-e);return a.set(n.subarray(e,t)),a},qn=function(n,e,t){t<<=7&e;var a=e/8>>0;n[a]|=t,n[a+1]|=t>>>8},Gs=function(n,e,t){t<<=7&e;var a=e/8>>0;n[a]|=t,n[a+1]|=t>>>8,n[a+2]|=t>>>16},zu=function(n,e){for(var t=[],a=0;a<n.length;++a)n[a]&&t.push({s:a,f:n[a]});var i=t.length,o=t.slice();if(!i)return[new ln(0),0];if(i==1){var c=new ln(t[0].s+1);return c[t[0].s]=1,[c,1]}t.sort(function(U,K){return U.f-K.f}),t.push({s:-1,f:25001});var d=t[0],h=t[1],m=0,g=1,v=2;for(t[0]={s:-1,f:d.f+h.f,l:d,r:h};g!=i-1;)d=t[t[m].f<t[v].f?m++:v++],h=t[m!=g&&t[m].f<t[v].f?m++:v++],t[g++]={s:-1,f:d.f+h.f,l:d,r:h};var _=o[0].s;for(a=1;a<i;++a)o[a].s>_&&(_=o[a].s);var b=new Wt(_+1),E=Nd(t[g-1],b,0);if(E>e){a=0;var S=0,w=E-e,A=1<<w;for(o.sort(function(U,K){return b[K.s]-b[U.s]||U.f-K.f});a<i;++a){var R=o[a].s;if(!(b[R]>e))break;S+=A-(1<<E-b[R]),b[R]=e}for(S>>>=w;S>0;){var N=o[a].s;b[N]<e?S-=1<<e-b[N]++-1:++a}for(;a>=0&&S;--a){var B=o[a].s;b[B]==e&&(--b[B],++S)}E=e}return[new ln(b),E]},Nd=function(n,e,t){return n.s==-1?Math.max(Nd(n.l,e,t+1),Nd(n.r,e,t+1)):e[n.s]=t},eg=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Wt(++e),a=0,i=n[0],o=1,c=function(h){t[a++]=h},d=1;d<=e;++d)if(n[d]==i&&d!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)c(32754);o>2&&(c(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(c(i),--o;o>6;o-=6)c(8304);o>2&&(c(o-3<<5|8208),o=0)}for(;o--;)c(i);o=1,i=n[d]}return[t.subarray(0,a),e]},Js=function(n,e){for(var t=0,a=0;a<e.length;++a)t+=n[a]*e[a];return t},jd=function(n,e,t){var a=t.length,i=h2(e+2);n[i]=255&a,n[i+1]=a>>>8,n[i+2]=255^n[i],n[i+3]=255^n[i+1];for(var o=0;o<a;++o)n[i+o+4]=t[o];return 8*(i+4+a)},tg=function(n,e,t,a,i,o,c,d,h,m,g){qn(e,g++,t),++i[256];for(var v=zu(i,15),_=v[0],b=v[1],E=zu(o,15),S=E[0],w=E[1],A=eg(_),R=A[0],N=A[1],B=eg(S),U=B[0],K=B[1],Q=new Wt(19),F=0;F<R.length;++F)Q[31&R[F]]++;for(F=0;F<U.length;++F)Q[31&U[F]]++;for(var X=zu(Q,7),ne=X[0],fe=X[1],te=19;te>4&&!ne[Xm[te-1]];--te);var de,ce,ue,Pe,Ce=m+5<<3,G=Js(i,sa)+Js(o,wl)+c,oe=Js(i,_)+Js(o,S)+c+14+3*te+Js(Q,ne)+(2*Q[16]+3*Q[17]+7*Q[18]);if(Ce<=G&&Ce<=oe)return jd(e,g,n.subarray(h,h+m));if(qn(e,g,1+(oe<G)),g+=2,oe<G){de=fi(_,b),ce=_,ue=fi(S,w),Pe=S;var Y=fi(ne,fe);for(qn(e,g,N-257),qn(e,g+5,K-1),qn(e,g+10,te-4),g+=14,F=0;F<te;++F)qn(e,g+3*F,ne[Xm[F]]);g+=3*te;for(var O=[R,U],M=0;M<2;++M){var me=O[M];for(F=0;F<me.length;++F){var ge=31&me[F];qn(e,g,Y[ge]),g+=ne[ge],ge>15&&(qn(e,g,me[F]>>>5&127),g+=me[F]>>>12)}}}else de=Vx,ce=sa,ue=Wx,Pe=wl;for(F=0;F<d;++F)if(a[F]>255){ge=a[F]>>>18&31,Gs(e,g,de[ge+257]),g+=ce[ge+257],ge>7&&(qn(e,g,a[F]>>>23&31),g+=dh[ge]);var ke=31&a[F];Gs(e,g,ue[ke]),g+=Pe[ke],ke>3&&(Gs(e,g,a[F]>>>5&8191),g+=hh[ke])}else Gs(e,g,de[a[F]]),g+=ce[a[F]];return Gs(e,g,de[256]),g+ce[256]},Hx=new Xa([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Kx=function(){for(var n=new Xa(256),e=0;e<256;++e){for(var t=e,a=9;--a;)t=(1&t&&3988292384)^t>>>1;n[e]=t}return n}(),Gx=function(n,e,t,a,i){return function(o,c,d,h,m,g){var v=o.length,_=new ln(h+v+5*(1+Math.floor(v/7e3))+m),b=_.subarray(h,_.length-m),E=0;if(!c||v<8)for(var S=0;S<=v;S+=65535){var w=S+65535;w<v?E=jd(b,E,o.subarray(S,w)):(b[S]=g,E=jd(b,E,o.subarray(S,v)))}else{for(var A=Hx[c-1],R=A>>>13,N=8191&A,B=(1<<d)-1,U=new Wt(32768),K=new Wt(B+1),Q=Math.ceil(d/3),F=2*Q,X=function(Nn){return(o[Nn]^o[Nn+1]<<Q^o[Nn+2]<<F)&B},ne=new Xa(25e3),fe=new Wt(288),te=new Wt(32),de=0,ce=0,ue=(S=0,0),Pe=0,Ce=0;S<v;++S){var G=X(S),oe=32767&S,Y=K[G];if(U[oe]=Y,K[G]=oe,Pe<=S){var O=v-S;if((de>7e3||ue>24576)&&O>423){E=tg(o,b,0,ne,fe,te,ce,ue,Ce,S-Ce,E),ue=de=ce=0,Ce=S;for(var M=0;M<286;++M)fe[M]=0;for(M=0;M<30;++M)te[M]=0}var me=2,ge=0,ke=N,be=oe-Y&32767;if(O>2&&G==X(S-be))for(var je=Math.min(R,O)-1,Re=Math.min(32767,S),Ie=Math.min(258,O);be<=Re&&--ke&&oe!=Y;){if(o[S+me]==o[S+me-be]){for(var Je=0;Je<Ie&&o[S+Je]==o[S+Je-be];++Je);if(Je>me){if(me=Je,ge=be,Je>je)break;var Ln=Math.min(be,Je-2),Xn=0;for(M=0;M<Ln;++M){var wn=S-be+M+32768&32767,Ct=wn-U[wn]+32768&32767;Ct>Xn&&(Xn=Ct,Y=wn)}}}be+=(oe=Y)-(Y=U[oe])+32768&32767}if(ge){ne[ue++]=268435456|Od[me]<<18|Zm[ge];var Zn=31&Od[me],On=31&Zm[ge];ce+=dh[Zn]+hh[On],++fe[257+Zn],++te[On],Pe=S+me,++de}else ne[ue++]=o[S],++fe[o[S]]}}E=tg(o,b,g,ne,fe,te,ce,ue,Ce,S-Ce,E)}return p2(_,0,h+h2(E)+m)}(n,e.level==null?6:e.level,e.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(n.length)))):12+e.mem,t,a,!0)},Vu=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8};function Jx(n,e){e===void 0&&(e={});var t=function(){var d=4294967295;return{p:function(h){for(var m=d,g=0;g<h.length;++g)m=Kx[255&m^h[g]]^m>>>8;d=m},d:function(){return 4294967295^d}}}(),a=n.length;t.p(n);var i,o=Gx(n,e,10+((i=e).filename&&i.filename.length+1||0),8),c=o.length;return function(d,h){var m=h.filename;if(d[0]=31,d[1]=139,d[2]=8,d[8]=h.level<2?4:h.level==9?2:0,d[9]=3,h.mtime!=0&&Vu(d,4,Math.floor(new Date(h.mtime||Date.now())/1e3)),m){d[3]=8;for(var g=0;g<=m.length;++g)d[g+10]=m.charCodeAt(g)}}(o,e),Vu(o,c-8,t.d()),Vu(o,c-4,a),o}var Yx=function(n){var e,t,a,i,o="";for(e=t=0,a=(n=(n+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,i=0;i<a;i++){var c=n.charCodeAt(i),d=null;c<128?t++:d=c>127&&c<2048?String.fromCharCode(c>>6|192,63&c|128):String.fromCharCode(c>>12|224,c>>6&63|128,63&c|128),xn(d)||(t>e&&(o+=n.substring(e,t)),o+=d,e=t=i+1)}return t>e&&(o+=n.substring(e,n.length)),o},Qx=!!md||!!fd,ng="text/plain",bl=function(n,e,t){var a;t===void 0&&(t=!0);var[i,o]=n.split("?"),c=ae({},e),d=(a=o==null?void 0:o.split("&").map(m=>{var g,[v,_]=m.split("="),b=t&&(g=c[v])!==null&&g!==void 0?g:_;return delete c[v],v+"="+b}))!==null&&a!==void 0?a:[],h=px(c);return h&&d.push(h),i+"?"+d.join("&")},li=(n,e)=>JSON.stringify(n,(t,a)=>typeof a=="bigint"?a.toString():a,e),Wu=n=>{var{data:e,compression:t}=n;if(e){if(t===Kn.GZipJS){var a=Jx(function(h,m){var g=h.length;if(typeof TextEncoder<"u")return new TextEncoder().encode(h);for(var v=new ln(h.length+(h.length>>>1)),_=0,b=function(A){v[_++]=A},E=0;E<g;++E){if(_+5>v.length){var S=new ln(_+8+(g-E<<1));S.set(v),v=S}var w=h.charCodeAt(E);w<128||m?b(w):w<2048?(b(192|w>>>6),b(128|63&w)):w>55295&&w<57344?(b(240|(w=65536+(1047552&w)|1023&h.charCodeAt(++E))>>>18),b(128|w>>>12&63),b(128|w>>>6&63),b(128|63&w)):(b(224|w>>>12),b(128|w>>>6&63),b(128|63&w))}return p2(v,0,_)}(li(e)),{mtime:0}),i=new Blob([a],{type:ng});return{contentType:ng,body:i,estimatedSize:i.size}}if(t===Kn.Base64){var o=function(h){var m,g,v,_,b,E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",S=0,w=0,A="",R=[];if(!h)return h;h=Yx(h);do m=(b=h.charCodeAt(S++)<<16|h.charCodeAt(S++)<<8|h.charCodeAt(S++))>>18&63,g=b>>12&63,v=b>>6&63,_=63&b,R[w++]=E.charAt(m)+E.charAt(g)+E.charAt(v)+E.charAt(_);while(S<h.length);switch(A=R.join(""),h.length%3){case 1:A=A.slice(0,-2)+"==";break;case 2:A=A.slice(0,-1)+"="}return A}(li(e)),c=(h=>"data="+encodeURIComponent(typeof h=="string"?h:li(h)))(o);return{contentType:"application/x-www-form-urlencoded",body:c,estimatedSize:new Blob([c]).size}}var d=li(e);return{contentType:"application/json",body:d,estimatedSize:new Blob([d]).size}}},ll=[];fd&&ll.push({transport:"fetch",method:n=>{var e,t,{contentType:a,body:i,estimatedSize:o}=(e=Wu(n))!==null&&e!==void 0?e:{},c=new Headers;We(n.headers,function(g,v){c.append(v,g)}),a&&c.append("Content-Type",a);var d=n.url,h=null;if(_m){var m=new _m;h={signal:m.signal,timeout:setTimeout(()=>m.abort(),n.timeout)}}fd(d,ae({method:(n==null?void 0:n.method)||"GET",headers:c,keepalive:n.method==="POST"&&(o||0)<52428.8,body:i,signal:(t=h)==null?void 0:t.signal},n.fetchOptions)).then(g=>g.text().then(v=>{var _={statusCode:g.status,text:v};if(g.status===200)try{_.json=JSON.parse(v)}catch(b){Z.error(b)}n.callback==null||n.callback(_)})).catch(g=>{Z.error(g),n.callback==null||n.callback({statusCode:0,text:g})}).finally(()=>h?clearTimeout(h.timeout):null)}}),md&&ll.push({transport:"XHR",method:n=>{var e,t=new md;t.open(n.method||"GET",n.url,!0);var{contentType:a,body:i}=(e=Wu(n))!==null&&e!==void 0?e:{};We(n.headers,function(o,c){t.setRequestHeader(c,o)}),a&&t.setRequestHeader("Content-Type",a),n.timeout&&(t.timeout=n.timeout),n.disableXHRCredentials||(t.withCredentials=!0),t.onreadystatechange=()=>{if(t.readyState===4){var o={statusCode:t.status,text:t.responseText};if(t.status===200)try{o.json=JSON.parse(t.responseText)}catch{}n.callback==null||n.callback(o)}},t.send(i)}}),Zt!=null&&Zt.sendBeacon&&ll.push({transport:"sendBeacon",method:n=>{var e=bl(n.url,{beacon:"1"});try{var t,{contentType:a,body:i}=(t=Wu(n))!==null&&t!==void 0?t:{},o=typeof i=="string"?new Blob([i],{type:a}):i;Zt.sendBeacon(e,o)}catch{}}});var El=function(n,e){if(!function(t){try{new RegExp(t)}catch{return!1}return!0}(e))return!1;try{return new RegExp(e).test(n)}catch{return!1}};function rg(n,e,t){return li({distinct_id:n,userPropertiesToSet:e,userPropertiesToSetOnce:t})}var f2={exact:(n,e)=>e.some(t=>n.some(a=>t===a)),is_not:(n,e)=>e.every(t=>n.every(a=>t!==a)),regex:(n,e)=>e.some(t=>n.some(a=>El(t,a))),not_regex:(n,e)=>e.every(t=>n.every(a=>!El(t,a))),icontains:(n,e)=>e.map(el).some(t=>n.map(el).some(a=>t.includes(a))),not_icontains:(n,e)=>e.map(el).every(t=>n.map(el).every(a=>!t.includes(a))),gt:(n,e)=>e.some(t=>{var a=parseFloat(t);return!isNaN(a)&&n.some(i=>a>parseFloat(i))}),lt:(n,e)=>e.some(t=>{var a=parseFloat(t);return!isNaN(a)&&n.some(i=>a<parseFloat(i))})},el=n=>n.toLowerCase();function m2(n,e){return!n||Object.entries(n).every(t=>{var[a,i]=t,o=e==null?void 0:e[a];if(J(o)||xn(o))return!1;var c=[String(o)],d=f2[i.operator];return!!d&&d(i.values,c)})}var Hu=lt("[Error tracking]");class Xx{constructor(e){var t,a;this.Zt=[],this.ti=new N_([new q_,new Q_,new V_,new z_,new J_,new G_,new H_,new Y_],F_("web:javascript",B_,U_)),this._instance=e,this.Zt=(t=(a=this._instance.persistence)==null?void 0:a.get_property(kd))!==null&&t!==void 0?t:[]}onRemoteConfig(e){var t,a,i,o=(t=(a=e.errorTracking)==null?void 0:a.suppressionRules)!==null&&t!==void 0?t:[],c=(i=e.errorTracking)==null?void 0:i.captureExtensionExceptions;this.Zt=o,this._instance.persistence&&this._instance.persistence.register({[kd]:this.Zt,[Nm]:c})}get ii(){var e,t=!!this._instance.get_property(Nm),a=this._instance.config.error_tracking.captureExtensionExceptions;return(e=a??t)!==null&&e!==void 0&&e}buildProperties(e,t){return this.ti.buildFromUnknown(e,{syntheticException:t==null?void 0:t.syntheticException,mechanism:{handled:t==null?void 0:t.handled}})}sendExceptionEvent(e){var t=e.$exception_list;if(this.ei(t)){if(this.ri(t))return void Hu.info("Skipping exception capture because a suppression rule matched");if(!this.ii&&this.si(t))return void Hu.info("Skipping exception capture because it was thrown by an extension");if(!this._instance.config.error_tracking.__capturePostHogExceptions&&this.ni(t))return void Hu.info("Skipping exception capture because it was thrown by the PostHog SDK")}return this._instance.capture("$exception",e,{_noTruncate:!0,_batchKey:"exceptionEvent"})}ri(e){if(e.length===0)return!1;var t=e.reduce((a,i)=>{var{type:o,value:c}=i;return mt(o)&&o.length>0&&a.$exception_types.push(o),mt(c)&&c.length>0&&a.$exception_values.push(c),a},{$exception_types:[],$exception_values:[]});return this.Zt.some(a=>{var i=a.values.map(o=>{var c,d=f2[o.operator],h=$e(o.value)?o.value:[o.value],m=(c=t[o.key])!==null&&c!==void 0?c:[];return h.length>0&&d(h,m)});return a.type==="OR"?i.some(Boolean):i.every(Boolean)})}si(e){return e.flatMap(t=>{var a,i;return(a=(i=t.stacktrace)==null?void 0:i.frames)!==null&&a!==void 0?a:[]}).some(t=>t.filename&&t.filename.startsWith("chrome-extension://"))}ni(e){if(e.length>0){var t,a,i,o,c=(t=(a=e[0].stacktrace)==null?void 0:a.frames)!==null&&t!==void 0?t:[],d=c[c.length-1];return(i=d==null||(o=d.filename)==null?void 0:o.includes("posthog.com/static"))!==null&&i!==void 0&&i}return!1}ei(e){return!Be(e)&&$e(e)}}var gn=lt("[FeatureFlags]"),Ys=lt("[FeatureFlags]",{debugEnabled:!0}),Ku="$active_feature_flags",Oa="$override_feature_flags",ag="$feature_flag_payloads",Qs="$override_feature_flag_payloads",sg="$feature_flag_request_id",ig="$feature_flag_evaluated_at",og=n=>{var e={};for(var[t,a]of ol(n||{}))a&&(e[t]=a);return e},Zx=n=>{var e=n.flags;return e?(n.featureFlags=Object.fromEntries(Object.keys(e).map(t=>{var a;return[t,(a=e[t].variant)!==null&&a!==void 0?a:e[t].enabled]})),n.featureFlagPayloads=Object.fromEntries(Object.keys(e).filter(t=>e[t].enabled).filter(t=>{var a;return(a=e[t].metadata)==null?void 0:a.payload}).map(t=>{var a;return[t,(a=e[t].metadata)==null?void 0:a.payload]}))):gn.warn("Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version"),n},ew=function(n){return n.FeatureFlags="feature_flags",n.Recordings="recordings",n}({});class tw{constructor(e){this.oi=!1,this.ai=!1,this.li=!1,this.ui=!1,this.hi=!1,this.di=!1,this.vi=!1,this._instance=e,this.featureFlagEventHandlers=[]}ci(){var e=this._instance.config.evaluation_environments;return e!=null&&e.length?e.filter(t=>{var a=t&&typeof t=="string"&&t.trim().length>0;return a||gn.error("Invalid evaluation environment found:",t,"Expected non-empty string"),a}):[]}fi(){return this.ci().length>0}flags(){if(this._instance.config.__preview_remote_config)this.di=!0;else{var e=!this.pi&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.gi({disableFlags:e})}}get hasLoadedFlags(){return this.ai}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var e=this._instance.get_property(Sd),t=this._instance.get_property(Oa),a=this._instance.get_property(Qs);if(!a&&!t)return e||{};var i=ot({},e||{}),o=[...new Set([...Object.keys(a||{}),...Object.keys(t||{})])];for(var c of o){var d,h,m=i[c],g=t==null?void 0:t[c],v=J(g)?(d=m==null?void 0:m.enabled)!==null&&d!==void 0&&d:!!g,_=J(g)?m.variant:typeof g=="string"?g:void 0,b=a==null?void 0:a[c],E=ae({},m,{enabled:v,variant:v?_??(m==null?void 0:m.variant):void 0});v!==(m==null?void 0:m.enabled)&&(E.original_enabled=m==null?void 0:m.enabled),_!==(m==null?void 0:m.variant)&&(E.original_variant=m==null?void 0:m.variant),b&&(E.metadata=ae({},m==null?void 0:m.metadata,{payload:b,original_payload:m==null||(h=m.metadata)==null?void 0:h.payload})),i[c]=E}return this.oi||(gn.warn(" Overriding feature flag details!",{flagDetails:e,overriddenPayloads:a,finalDetails:i}),this.oi=!0),i}getFlagVariants(){var e=this._instance.get_property(Wa),t=this._instance.get_property(Oa);if(!t)return e||{};for(var a=ot({},e),i=Object.keys(t),o=0;o<i.length;o++)a[i[o]]=t[i[o]];return this.oi||(gn.warn(" Overriding feature flags!",{enabledFlags:e,overriddenFlags:t,finalFlags:a}),this.oi=!0),a}getFlagPayloads(){var e=this._instance.get_property(ag),t=this._instance.get_property(Qs);if(!t)return e||{};for(var a=ot({},e||{}),i=Object.keys(t),o=0;o<i.length;o++)a[i[o]]=t[i[o]];return this.oi||(gn.warn(" Overriding feature flag payloads!",{flagPayloads:e,overriddenPayloads:t,finalPayloads:a}),this.oi=!0),a}reloadFeatureFlags(){this.ui||this._instance.config.advanced_disable_feature_flags||this.pi||(this.pi=setTimeout(()=>{this.gi()},5))}mi(){clearTimeout(this.pi),this.pi=void 0}ensureFlagsLoaded(){this.ai||this.li||this.pi||this.reloadFeatureFlags()}setAnonymousDistinctId(e){this.$anon_distinct_id=e}setReloadingPaused(e){this.ui=e}gi(e){var t;if(this.mi(),!this._instance.O())if(this.li)this.hi=!0;else{var a=this._instance.config.token,i=this._instance.get_property("$device_id"),o={token:a,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:ae({},((t=this._instance.persistence)==null?void 0:t.get_initial_props())||{},this._instance.get_property(oi)||{}),group_properties:this._instance.get_property(Xr)};xn(i)||J(i)||(o.$device_id=i),(e!=null&&e.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(o.disable_flags=!0),this.fi()&&(o.evaluation_environments=this.ci());var c=this._instance.config.__preview_remote_config,d=c?"/flags/?v=2":"/flags/?v=2&config=true",h=this._instance.config.advanced_only_evaluate_survey_feature_flags?"&only_evaluate_survey_feature_flags=true":"",m=this._instance.requestRouter.endpointFor("flags",d+h);c&&(o.timezone=l2()),this.li=!0,this._instance._send_request({method:"POST",url:m,data:o,compression:this._instance.config.disable_compression?void 0:Kn.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:g=>{var v,_,b=!0;if(g.statusCode===200&&(this.hi||(this.$anon_distinct_id=void 0),b=!1),this.li=!1,this.di||(this.di=!0,this._instance.yi((_=g.json)!==null&&_!==void 0?_:{})),!o.disable_flags||this.hi)if(this.vi=!b,g.json&&(v=g.json.quotaLimited)!=null&&v.includes(ew.FeatureFlags))gn.warn("You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more.");else{var E;o.disable_flags||this.receivedFeatureFlags((E=g.json)!==null&&E!==void 0?E:{},b),this.hi&&(this.hi=!1,this.gi())}}})}}getFeatureFlag(e,t){if(t===void 0&&(t={}),this.ai||this.getFlags()&&this.getFlags().length>0){var a=this.getFlagVariants()[e],i=""+a,o=this._instance.get_property(sg)||void 0,c=this._instance.get_property(ig)||void 0,d=this._instance.get_property(pl)||{};if((t.send_event||!("send_event"in t))&&(!(e in d)||!d[e].includes(i))){var h,m,g,v,_,b,E,S,w;$e(d[e])?d[e].push(i):d[e]=[i],(h=this._instance.persistence)==null||h.register({[pl]:d});var A=this.getFeatureFlagDetails(e),R={$feature_flag:e,$feature_flag_response:a,$feature_flag_payload:this.getFeatureFlagPayload(e)||null,$feature_flag_request_id:o,$feature_flag_evaluated_at:c,$feature_flag_bootstrapped_response:((m=this._instance.config.bootstrap)==null||(m=m.featureFlags)==null?void 0:m[e])||null,$feature_flag_bootstrapped_payload:((g=this._instance.config.bootstrap)==null||(g=g.featureFlagPayloads)==null?void 0:g[e])||null,$used_bootstrap_value:!this.vi};J(A==null||(v=A.metadata)==null?void 0:v.version)||(R.$feature_flag_version=A.metadata.version);var N,B=(_=A==null||(b=A.reason)==null?void 0:b.description)!==null&&_!==void 0?_:A==null||(E=A.reason)==null?void 0:E.code;B&&(R.$feature_flag_reason=B),A!=null&&(S=A.metadata)!=null&&S.id&&(R.$feature_flag_id=A.metadata.id),J(A==null?void 0:A.original_variant)&&J(A==null?void 0:A.original_enabled)||(R.$feature_flag_original_response=J(A.original_variant)?A.original_enabled:A.original_variant),A!=null&&(w=A.metadata)!=null&&w.original_payload&&(R.$feature_flag_original_payload=A==null||(N=A.metadata)==null?void 0:N.original_payload),this._instance.capture("$feature_flag_called",R)}return a}gn.warn('getFeatureFlag for key "'+e+`" failed. Feature flags didn't load in time.`)}getFeatureFlagDetails(e){return this.getFlagsWithDetails()[e]}getFeatureFlagPayload(e){return this.getFlagPayloads()[e]}getRemoteConfigPayload(e,t){var a=this._instance.config.token,i={distinct_id:this._instance.get_distinct_id(),token:a};this.fi()&&(i.evaluation_environments=this.ci()),this._instance._send_request({method:"POST",url:this._instance.requestRouter.endpointFor("flags","/flags/?v=2&config=true"),data:i,compression:this._instance.config.disable_compression?void 0:Kn.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:o=>{var c,d=(c=o.json)==null?void 0:c.featureFlagPayloads;t((d==null?void 0:d[e])||void 0)}})}isFeatureEnabled(e,t){if(t===void 0&&(t={}),this.ai||this.getFlags()&&this.getFlags().length>0){var a=this.getFeatureFlag(e,t);return J(a)?void 0:!!a}gn.warn('isFeatureEnabled for key "'+e+`" failed. Feature flags didn't load in time.`)}addFeatureFlagsHandler(e){this.featureFlagEventHandlers.push(e)}removeFeatureFlagsHandler(e){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(t=>t!==e)}receivedFeatureFlags(e,t){if(this._instance.persistence){this.ai=!0;var a=this.getFlagVariants(),i=this.getFlagPayloads(),o=this.getFlagsWithDetails();(function(c,d,h,m,g){h===void 0&&(h={}),m===void 0&&(m={}),g===void 0&&(g={});var v=Zx(c),_=v.flags,b=v.featureFlags,E=v.featureFlagPayloads;if(b){var S=c.requestId,w=c.evaluatedAt;if($e(b)){gn.warn("v1 of the feature flags endpoint is deprecated. Please use the latest version.");var A={};if(b)for(var R=0;R<b.length;R++)A[b[R]]=!0;d&&d.register({[Ku]:b,[Wa]:A})}else{var N=b,B=E,U=_;c.errorsWhileComputingFlags&&(N=ae({},h,N),B=ae({},m,B),U=ae({},g,U)),d&&d.register(ae({[Ku]:Object.keys(og(N)),[Wa]:N||{},[ag]:B||{},[Sd]:U||{}},S?{[sg]:S}:{},w?{[ig]:w}:{}))}}})(e,this._instance.persistence,a,i,o),this.bi(t)}}override(e,t){t===void 0&&(t=!1),gn.warn("override is deprecated. Please use overrideFeatureFlags instead."),this.overrideFeatureFlags({flags:e,suppressWarning:t})}overrideFeatureFlags(e){if(!this._instance.__loaded||!this._instance.persistence)return gn.uninitializedWarning("posthog.featureFlags.overrideFeatureFlags");if(e===!1)return this._instance.persistence.unregister(Oa),this._instance.persistence.unregister(Qs),this.bi(),Ys.info("All overrides cleared");if(e&&typeof e=="object"&&("flags"in e||"payloads"in e)){var t,a=e;if(this.oi=!!((t=a.suppressWarning)!==null&&t!==void 0&&t),"flags"in a){if(a.flags===!1)this._instance.persistence.unregister(Oa),Ys.info("Flag overrides cleared");else if(a.flags){if($e(a.flags)){for(var i={},o=0;o<a.flags.length;o++)i[a.flags[o]]=!0;this._instance.persistence.register({[Oa]:i})}else this._instance.persistence.register({[Oa]:a.flags});Ys.info("Flag overrides set",{flags:a.flags})}}return"payloads"in a&&(a.payloads===!1?(this._instance.persistence.unregister(Qs),Ys.info("Payload overrides cleared")):a.payloads&&(this._instance.persistence.register({[Qs]:a.payloads}),Ys.info("Payload overrides set",{payloads:a.payloads}))),void this.bi()}this.bi()}onFeatureFlags(e){if(this.addFeatureFlagsHandler(e),this.ai){var{flags:t,flagVariants:a}=this.wi();e(t,a)}return()=>this.removeFeatureFlagsHandler(e)}updateEarlyAccessFeatureEnrollment(e,t,a){var i,o=(this._instance.get_property(ii)||[]).find(m=>m.flagKey===e),c={["$feature_enrollment/"+e]:t},d={$feature_flag:e,$feature_enrollment:t,$set:c};o&&(d.$early_access_feature_name=o.name),a&&(d.$feature_enrollment_stage=a),this._instance.capture("$feature_enrollment_update",d),this.setPersonPropertiesForFlags(c,!1);var h=ae({},this.getFlagVariants(),{[e]:t});(i=this._instance.persistence)==null||i.register({[Ku]:Object.keys(og(h)),[Wa]:h}),this.bi()}getEarlyAccessFeatures(e,t,a){t===void 0&&(t=!1);var i=this._instance.get_property(ii),o=a?"&"+a.map(c=>"stage="+c).join("&"):"";if(i&&!t)return e(i);this._instance._send_request({url:this._instance.requestRouter.endpointFor("api","/api/early_access_features/?token="+this._instance.config.token+o),method:"GET",callback:c=>{var d,h;if(c.json){var m=c.json.earlyAccessFeatures;return(d=this._instance.persistence)==null||d.unregister(ii),(h=this._instance.persistence)==null||h.register({[ii]:m}),e(m)}}})}wi(){var e=this.getFlags(),t=this.getFlagVariants();return{flags:e.filter(a=>t[a]),flagVariants:Object.keys(t).filter(a=>t[a]).reduce((a,i)=>(a[i]=t[i],a),{})}}bi(e){var{flags:t,flagVariants:a}=this.wi();this.featureFlagEventHandlers.forEach(i=>i(t,a,{errorsLoading:e}))}setPersonPropertiesForFlags(e,t){t===void 0&&(t=!0);var a=this._instance.get_property(oi)||{};this._instance.register({[oi]:ae({},a,e)}),t&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(oi)}setGroupPropertiesForFlags(e,t){t===void 0&&(t=!0);var a=this._instance.get_property(Xr)||{};Object.keys(a).length!==0&&Object.keys(a).forEach(i=>{a[i]=ae({},a[i],e[i]),delete e[i]}),this._instance.register({[Xr]:ae({},a,e)}),t&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(e){if(e){var t=this._instance.get_property(Xr)||{};this._instance.register({[Xr]:ae({},t,{[e]:{}})})}else this._instance.unregister(Xr)}reset(){this.ai=!1,this.li=!1,this.ui=!1,this.hi=!1,this.di=!1,this.vi=!1,this.$anon_distinct_id=void 0,this.mi(),this.oi=!1}}var nw=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];class Gu{constructor(e,t){this.R=e,this.props={},this.xi=!1,this.Ei=(a=>{var i="";return a.token&&(i=a.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),a.persistence_name?"ph_"+a.persistence_name:"ph_"+i+"_posthog"})(e),this.Y=this.$i(e),this.load(),e.debug&&Z.info("Persistence loaded",e.persistence,ae({},this.props)),this.update_config(e,e,t),this.save()}isDisabled(){return!!this.Si}$i(e){nw.indexOf(e.persistence.toLowerCase())===-1&&(Z.critical("Unknown persistence type "+e.persistence+"; falling back to localStorage+cookie"),e.persistence="localStorage+cookie");var t=function(i){i===void 0&&(i=[]);var o=[...Ex,...i];return ae({},et,{W:function(c){try{var d={};try{d=Cn.W(c)||{}}catch{}var h=ot(d,JSON.parse(et.q(c)||"{}"));return et.G(c,h),h}catch{}return null},G:function(c,d,h,m,g,v){try{et.G(c,d,void 0,void 0,v);var _={};o.forEach(b=>{d[b]&&(_[b]=d[b])}),Object.keys(_).length&&Cn.G(c,_,h,m,g,v)}catch(b){et.B(b)}},V:function(c,d){try{$==null||$.localStorage.removeItem(c),Cn.V(c,d)}catch(h){et.B(h)}}})}(e.cookie_persisted_properties||[]),a=e.persistence.toLowerCase();return a==="localstorage"&&et.H()?et:a==="localstorage+cookie"&&t.H()?t:a==="sessionstorage"&&St.H()?St:a==="memory"?kx:a==="cookie"?Cn:t.H()?t:Cn}properties(){var e={};return We(this.props,function(t,a){if(a===Wa&&_t(t))for(var i=Object.keys(t),o=0;o<i.length;o++)e["$feature/"+i[o]]=t[i[o]];else d=a,h=!1,(xn(c=rx)?h:ym&&c.indexOf===ym?c.indexOf(d)!=-1:(We(c,function(m){if(h||(h=m===d))return dl}),h))||(e[a]=t);var c,d,h}),e}load(){if(!this.Si){var e=this.Y.W(this.Ei);e&&(this.props=ot({},e))}}save(){this.Si||this.Y.G(this.Ei,this.props,this.ki,this.Pi,this.Ti,this.R.debug)}remove(){this.Y.V(this.Ei,!1),this.Y.V(this.Ei,!0)}clear(){this.remove(),this.props={}}register_once(e,t,a){if(_t(e)){J(t)&&(t="None"),this.ki=J(a)?this.Ii:a;var i=!1;if(We(e,(o,c)=>{this.props.hasOwnProperty(c)&&this.props[c]!==t||(this.props[c]=o,i=!0)}),i)return this.save(),!0}return!1}register(e,t){if(_t(e)){this.ki=J(t)?this.Ii:t;var a=!1;if(We(e,(i,o)=>{e.hasOwnProperty(o)&&this.props[o]!==i&&(this.props[o]=i,a=!0)}),a)return this.save(),!0}return!1}unregister(e){e in this.props&&(delete this.props[e],this.save())}update_campaign_params(){if(!this.xi){var e=n2(this.R.custom_campaign_params,this.R.mask_personal_data_properties,this.R.custom_personal_data_properties);Va(oh(e))||this.register(e),this.xi=!0}}update_search_keyword(){var e;this.register((e=ee==null?void 0:ee.referrer)?a2(e):{})}update_referrer_info(){var e;this.register_once({$referrer:s2(),$referring_domain:ee!=null&&ee.referrer&&((e=vl(ee.referrer))==null?void 0:e.host)||"$direct"},void 0)}set_initial_person_info(){this.props[Td]||this.props[Rd]||this.register_once({[fl]:i2(this.R.mask_personal_data_properties,this.R.custom_personal_data_properties)},void 0)}get_initial_props(){var e={};We([Rd,Td],c=>{var d=this.props[c];d&&We(d,function(h,m){e["$initial_"+gd(m)]=h})});var t,a,i=this.props[fl];if(i){var o=(t=o2(i),a={},We(t,function(c,d){a["$initial_"+gd(d)]=c}),a);ot(e,o)}return e}safe_merge(e){return We(this.props,function(t,a){a in e||(e[a]=t)}),e}update_config(e,t,a){if(this.Ii=this.ki=e.cookie_expiration,this.set_disabled(e.disable_persistence||!!a),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie),e.persistence!==t.persistence||!((c,d)=>{if(c.length!==d.length)return!1;var h=[...c].sort(),m=[...d].sort();return h.every((g,v)=>g===m[v])})(e.cookie_persisted_properties||[],t.cookie_persisted_properties||[])){var i=this.$i(e),o=this.props;this.clear(),this.Y=i,this.props=o,this.save()}}set_disabled(e){this.Si=e,this.Si?this.remove():this.save()}set_cross_subdomain(e){e!==this.Pi&&(this.Pi=e,this.remove(),this.save())}set_secure(e){e!==this.Ti&&(this.Ti=e,this.remove(),this.save())}set_event_timer(e,t){var a=this.props[si]||{};a[e]=t,this.props[si]=a,this.save()}remove_event_timer(e){var t=(this.props[si]||{})[e];return J(t)||(delete this.props[si][e],this.save()),t}get_property(e){return this.props[e]}set_property(e,t){this.props[e]=t,this.save()}}var lg=lt("[Product Tours]"),Ju="ph_product_tours";class rw{constructor(e){this.Ci=null,this.Ri=null,this._instance=e}onRemoteConfig(e){this._instance.persistence&&this._instance.persistence.register({[Im]:!(e==null||!e.productTours)}),this.loadIfEnabled()}loadIfEnabled(){var e,t;this.Ci||(e=this._instance).config.disable_product_tours||(t=e.persistence)==null||!t.get_property(Im)||this.it(()=>this.Fi())}it(e){var t,a;(t=ve.__PosthogExtensions__)!=null&&t.generateProductTours?e():(a=ve.__PosthogExtensions__)==null||a.loadExternalDependency==null||a.loadExternalDependency(this._instance,"product-tours",i=>{i?lg.error("Could not load product tours script",i):e()})}Fi(){var e;!this.Ci&&(e=ve.__PosthogExtensions__)!=null&&e.generateProductTours&&(this.Ci=ve.__PosthogExtensions__.generateProductTours(this._instance,!0))}getProductTours(e,t){if(t===void 0&&(t=!1),!$e(this.Ri)||t){var a=this._instance.persistence;if(a){var i=a.props[Ju];if($e(i)&&!t)return this.Ri=i,void e(i,{isLoaded:!0})}this._instance._send_request({url:this._instance.requestRouter.endpointFor("api","/api/product_tours/?token="+this._instance.config.token),method:"GET",callback:o=>{var c=o.statusCode;if(c!==200||!o.json){var d="Product Tours API could not be loaded, status: "+c;return lg.error(d),void e([],{isLoaded:!1,error:d})}var h=$e(o.json.product_tours)?o.json.product_tours:[];this.Ri=h,a&&a.register({[Ju]:h}),e(h,{isLoaded:!0})}})}else e(this.Ri,{isLoaded:!0})}getActiveProductTours(e){Be(this.Ci)?e([],{isLoaded:!1,error:"Product tours not loaded"}):this.Ci.getActiveProductTours(e)}showProductTour(e){var t;(t=this.Ci)==null||t.showTourById(e)}previewTour(e){this.Ci?this.Ci.previewTour(e):this.it(()=>{var t;this.Fi(),(t=this.Ci)==null||t.previewTour(e)})}dismissProductTour(){var e;(e=this.Ci)==null||e.dismissTour("user_clicked_skip")}nextStep(){var e;(e=this.Ci)==null||e.nextStep()}previousStep(){var e;(e=this.Ci)==null||e.previousStep()}clearCache(){var e;this.Ri=null,(e=this._instance.persistence)==null||e.unregister(Ju)}resetTour(e){var t;(t=this.Ci)==null||t.resetTour(e)}resetAllTours(){var e;(e=this.Ci)==null||e.resetAllTours()}cancelPendingTour(e){var t;(t=this.Ci)==null||t.cancelPendingTour(e)}}var Xs=function(n){return n.Activation="events",n.Cancellation="cancelEvents",n}({});(function(n){return n.Button="button",n.Tab="tab",n.Selector="selector",n})({});(function(n){return n.TopLeft="top_left",n.TopRight="top_right",n.TopCenter="top_center",n.MiddleLeft="middle_left",n.MiddleRight="middle_right",n.MiddleCenter="middle_center",n.Left="left",n.Center="center",n.Right="right",n.NextToTrigger="next_to_trigger",n})({});(function(n){return n.Top="top",n.Left="left",n.Right="right",n.Bottom="bottom",n})({});var Yu=function(n){return n.Popover="popover",n.API="api",n.Widget="widget",n.ExternalSurvey="external_survey",n}({});(function(n){return n.Open="open",n.MultipleChoice="multiple_choice",n.SingleChoice="single_choice",n.Rating="rating",n.Link="link",n})({});(function(n){return n.NextQuestion="next_question",n.End="end",n.ResponseBased="response_based",n.SpecificQuestion="specific_question",n})({});(function(n){return n.Once="once",n.Recurring="recurring",n.Always="always",n})({});var ci=function(n){return n.SHOWN="survey shown",n.DISMISSED="survey dismissed",n.SENT="survey sent",n.ABANDONED="survey abandoned",n}({}),Qu=function(n){return n.SURVEY_ID="$survey_id",n.SURVEY_NAME="$survey_name",n.SURVEY_RESPONSE="$survey_response",n.SURVEY_ITERATION="$survey_iteration",n.SURVEY_ITERATION_START_DATE="$survey_iteration_start_date",n.SURVEY_PARTIALLY_COMPLETED="$survey_partially_completed",n.SURVEY_SUBMISSION_ID="$survey_submission_id",n.SURVEY_QUESTIONS="$survey_questions",n.SURVEY_COMPLETED="$survey_completed",n.PRODUCT_TOUR_ID="$product_tour_id",n.SURVEY_LAST_SEEN_DATE="$survey_last_seen_date",n}({}),g2=function(n){return n.Popover="popover",n.Inline="inline",n}({}),ze=lt("[Surveys]"),v2="seenSurvey_",aw=(n,e)=>{var t="$survey_"+e+"/"+n.id;return n.current_iteration&&n.current_iteration>0&&(t="$survey_"+e+"/"+n.id+"/"+n.current_iteration),t},cg=n=>((e,t)=>{var a=""+e+t.id;return t.current_iteration&&t.current_iteration>0&&(a=""+e+t.id+"_"+t.current_iteration),a})(v2,n),sw=[Yu.Popover,Yu.Widget,Yu.API],iw={ignoreConditions:!1,ignoreDelay:!1,displayType:g2.Popover};class ph{constructor(){this.Mi={},this.Mi={}}on(e,t){return this.Mi[e]||(this.Mi[e]=[]),this.Mi[e].push(t),()=>{this.Mi[e]=this.Mi[e].filter(a=>a!==t)}}emit(e,t){for(var a of this.Mi[e]||[])a(t);for(var i of this.Mi["*"]||[])i(e,t)}}function Na(n,e,t){if(Be(n))return!1;switch(t){case"exact":return n===e;case"contains":var a=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/_/g,".").replace(/%/g,".*");return new RegExp(a,"i").test(n);case"regex":try{return new RegExp(e).test(n)}catch{return!1}default:return!1}}class ow{constructor(e){this.Oi=new ph,this.Ai=(t,a)=>this.Di(t,a)&&this.ji(t,a)&&this.Li(t,a)&&this.Ni(t,a),this.Di=(t,a)=>a==null||!a.event||(t==null?void 0:t.event)===(a==null?void 0:a.event),this._instance=e,this.Ui=new Set,this.zi=new Set}init(){var e;if(!J((e=this._instance)==null?void 0:e.Hi)){var t;(t=this._instance)==null||t.Hi((a,i)=>{this.on(a,i)})}}register(e){var t,a;if(!J((t=this._instance)==null?void 0:t.Hi)&&(e.forEach(c=>{var d,h;(d=this.zi)==null||d.add(c),(h=c.steps)==null||h.forEach(m=>{var g;(g=this.Ui)==null||g.add((m==null?void 0:m.event)||"")})}),(a=this._instance)!=null&&a.autocapture)){var i,o=new Set;e.forEach(c=>{var d;(d=c.steps)==null||d.forEach(h=>{h!=null&&h.selector&&o.add(h==null?void 0:h.selector)})}),(i=this._instance)==null||i.autocapture.setElementSelectors(o)}}on(e,t){var a;t!=null&&e.length!=0&&(this.Ui.has(e)||this.Ui.has(t==null?void 0:t.event))&&this.zi&&((a=this.zi)==null?void 0:a.size)>0&&this.zi.forEach(i=>{this.Bi(t,i)&&this.Oi.emit("actionCaptured",i.name)})}qi(e){this.onAction("actionCaptured",t=>e(t))}Bi(e,t){if((t==null?void 0:t.steps)==null)return!1;for(var a of t.steps)if(this.Ai(e,a))return!0;return!1}onAction(e,t){return this.Oi.on(e,t)}ji(e,t){if(t!=null&&t.url){var a,i=e==null||(a=e.properties)==null?void 0:a.$current_url;if(!i||typeof i!="string"||!Na(i,t.url,t.url_matching||"contains"))return!1}return!0}Li(e,t){return!!this.Wi(e,t)&&!!this.Gi(e,t)&&!!this.Vi(e,t)}Wi(e,t){var a;if(t==null||!t.href)return!0;var i=this.Ji(e);if(i.length>0)return i.some(d=>Na(d.href,t.href,t.href_matching||"exact"));var o,c=(e==null||(a=e.properties)==null?void 0:a.$elements_chain)||"";return!!c&&Na((o=c.match(/(?::|")href="(.*?)"/))?o[1]:"",t.href,t.href_matching||"exact")}Gi(e,t){var a;if(t==null||!t.text)return!0;var i=this.Ji(e);if(i.length>0)return i.some(m=>Na(m.text,t.text,t.text_matching||"exact")||Na(m.$el_text,t.text,t.text_matching||"exact"));var o,c,d,h=(e==null||(a=e.properties)==null?void 0:a.$elements_chain)||"";return!!h&&(o=function(m){for(var g,v=[],_=/(?::|")text="(.*?)"/g;!Be(g=_.exec(m));)v.includes(g[1])||v.push(g[1]);return v}(h),c=t.text,d=t.text_matching||"exact",o.some(m=>Na(m,c,d)))}Vi(e,t){var a,i;if(t==null||!t.selector)return!0;var o=e==null||(a=e.properties)==null?void 0:a.$element_selectors;if(o!=null&&o.includes(t.selector))return!0;var c=(e==null||(i=e.properties)==null?void 0:i.$elements_chain)||"";if(t.selector_regex&&c)try{return new RegExp(t.selector_regex).test(c)}catch{return!1}return!1}Ji(e){var t;return(e==null||(t=e.properties)==null?void 0:t.$elements)==null?[]:e==null?void 0:e.properties.$elements}Ni(e,t){return t==null||!t.properties||t.properties.length===0||m2(t.properties.reduce((a,i)=>{var o=$e(i.value)?i.value.map(String):i.value!=null?[String(i.value)]:[];return a[i.key]={values:o,operator:i.operator||"exact"},a},{}),e==null?void 0:e.properties)}}class lw{constructor(e){this._instance=e,this.Ki=new Map,this.Yi=new Map,this.Xi=new Map}Qi(e,t){return!!e&&m2(e.propertyFilters,t==null?void 0:t.properties)}Zi(e,t){var a=new Map;return e.forEach(i=>{var o;(o=i.conditions)==null||(o=o[t])==null||(o=o.values)==null||o.forEach(c=>{if(c!=null&&c.name){var d=a.get(c.name)||[];d.push(i.id),a.set(c.name,d)}})}),a}te(e,t,a){var i=(a===Xs.Activation?this.Ki:this.Yi).get(e),o=[];return this.ie(c=>{o=c.filter(d=>i==null?void 0:i.includes(d.id))}),o.filter(c=>{var d,h=(d=c.conditions)==null||(d=d[a])==null||(d=d.values)==null?void 0:d.find(m=>m.name===e);return this.Qi(h,t)})}register(e){var t;J((t=this._instance)==null?void 0:t.Hi)||(this.ee(e),this.re(e))}re(e){var t=e.filter(a=>{var i,o;return((i=a.conditions)==null?void 0:i.actions)&&((o=a.conditions)==null||(o=o.actions)==null||(o=o.values)==null?void 0:o.length)>0});t.length!==0&&(this.se==null&&(this.se=new ow(this._instance),this.se.init(),this.se.qi(a=>{this.onAction(a)})),t.forEach(a=>{var i,o,c,d,h;a.conditions&&(i=a.conditions)!=null&&i.actions&&(o=a.conditions)!=null&&(o=o.actions)!=null&&o.values&&((c=a.conditions)==null||(c=c.actions)==null||(c=c.values)==null?void 0:c.length)>0&&((d=this.se)==null||d.register(a.conditions.actions.values),(h=a.conditions)==null||(h=h.actions)==null||(h=h.values)==null||h.forEach(m=>{if(m&&m.name){var g=this.Xi.get(m.name);g&&g.push(a.id),this.Xi.set(m.name,g||[a.id])}}))}))}ee(e){var t,a=e.filter(o=>{var c,d;return((c=o.conditions)==null?void 0:c.events)&&((d=o.conditions)==null||(d=d.events)==null||(d=d.values)==null?void 0:d.length)>0}),i=e.filter(o=>{var c,d;return((c=o.conditions)==null?void 0:c.cancelEvents)&&((d=o.conditions)==null||(d=d.cancelEvents)==null||(d=d.values)==null?void 0:d.length)>0});(a.length!==0||i.length!==0)&&((t=this._instance)==null||t.Hi((o,c)=>{this.onEvent(o,c)}),this.Ki=this.Zi(e,Xs.Activation),this.Yi=this.Zi(e,Xs.Cancellation))}onEvent(e,t){var a,i=this.ne(),o=this.oe(),c=this.ae(),d=((a=this._instance)==null||(a=a.persistence)==null?void 0:a.props[o])||[];if(c===e&&t&&d.length>0){var h,m;i.info("event matched, removing item from activated items",{event:e,eventPayload:t,existingActivatedItems:d});var g=(t==null||(h=t.properties)==null?void 0:h.$survey_id)||(t==null||(m=t.properties)==null?void 0:m.$product_tour_id);if(g){var v=d.indexOf(g);v>=0&&(d.splice(v,1),this.le(d))}}else{if(this.Yi.has(e)){var _=this.te(e,t,Xs.Cancellation);_.length>0&&(i.info("cancel event matched, cancelling items",{event:e,itemsToCancel:_.map(E=>E.id)}),_.forEach(E=>{var S=d.indexOf(E.id);S>=0&&d.splice(S,1),this.ue(E.id)}),this.le(d))}if(this.Ki.has(e)){i.info("event name matched",{event:e,eventPayload:t,items:this.Ki.get(e)});var b=this.te(e,t,Xs.Activation);this.le(d.concat(b.map(E=>E.id)||[]))}}}onAction(e){var t,a=this.oe(),i=((t=this._instance)==null||(t=t.persistence)==null?void 0:t.props[a])||[];this.Xi.has(e)&&this.le(i.concat(this.Xi.get(e)||[]))}le(e){var t,a=this.ne(),i=this.oe(),o=[...new Set(e)].filter(c=>!this.he(c));a.info("updating activated items",{activatedItems:o}),(t=this._instance)==null||(t=t.persistence)==null||t.register({[i]:o})}getActivatedIds(){var e,t=this.oe(),a=(e=this._instance)==null||(e=e.persistence)==null?void 0:e.props[t];return a||[]}getEventToItemsMap(){return this.Ki}de(){return this.se}}class cw extends lw{constructor(e){super(e)}oe(){return"$surveys_activated"}ae(){return ci.SHOWN}ie(e){var t;(t=this._instance)==null||t.getSurveys(e)}ue(e){var t;(t=this._instance)==null||t.cancelPendingSurvey(e)}ne(){return ze}he(){return!1}getSurveys(){return this.getActivatedIds()}getEventToSurveys(){return this.getEventToItemsMap()}}class uw{constructor(e){this.ve=void 0,this._surveyManager=null,this.ce=!1,this.fe=[],this.pe=null,this._instance=e,this._surveyEventReceiver=null}onRemoteConfig(e){if(!this._instance.config.disable_surveys){var t=e.surveys;if(Be(t))return ze.warn("Flags not loaded yet. Not loading surveys.");var a=$e(t);this.ve=a?t.length>0:t,ze.info("flags response received, isSurveysEnabled: "+this.ve),this.loadIfEnabled()}}reset(){localStorage.removeItem("lastSeenSurveyDate");for(var e=[],t=0;t<localStorage.length;t++){var a=localStorage.key(t);(a!=null&&a.startsWith(v2)||a!=null&&a.startsWith("inProgressSurvey_"))&&e.push(a)}e.forEach(i=>localStorage.removeItem(i))}loadIfEnabled(){if(!this._surveyManager)if(this.ce)ze.info("Already initializing surveys, skipping...");else if(this._instance.config.disable_surveys)ze.info("Disabled. Not loading surveys.");else if(this._instance.config.cookieless_mode&&this._instance.consent.isOptedOut())ze.info("Not loading surveys in cookieless mode without consent.");else{var e=ve==null?void 0:ve.__PosthogExtensions__;if(e){if(!J(this.ve)||this._instance.config.advanced_enable_surveys){var t=this.ve||this._instance.config.advanced_enable_surveys;this.ce=!0;try{var a=e.generateSurveys;if(a)return void this.ge(a,t);var i=e.loadExternalDependency;if(!i)return void this._e("PostHog loadExternalDependency extension not found.");i(this._instance,"surveys",o=>{o||!e.generateSurveys?this._e("Could not load surveys script",o):this.ge(e.generateSurveys,t)})}catch(o){throw this._e("Error initializing surveys",o),o}finally{this.ce=!1}}}else ze.error("PostHog Extensions not found.")}}ge(e,t){this._surveyManager=e(this._instance,t),this._surveyEventReceiver=new cw(this._instance),ze.info("Surveys loaded successfully"),this.me({isLoaded:!0})}_e(e,t){ze.error(e,t),this.me({isLoaded:!1,error:e})}onSurveysLoaded(e){return this.fe.push(e),this._surveyManager&&this.me({isLoaded:!0}),()=>{this.fe=this.fe.filter(t=>t!==e)}}getSurveys(e,t){if(t===void 0&&(t=!1),this._instance.config.disable_surveys)return ze.info("Disabled. Not loading surveys."),e([]);var a,i=this._instance.get_property(Ad);if(i&&!t)return e(i,{isLoaded:!0});typeof Promise<"u"&&this.pe?this.pe.then(o=>{var{surveys:c,context:d}=o;return e(c,d)}):(typeof Promise<"u"&&(this.pe=new Promise(o=>{a=o})),this._instance._send_request({url:this._instance.requestRouter.endpointFor("api","/api/surveys/?token="+this._instance.config.token),method:"GET",timeout:this._instance.config.surveys_request_timeout_ms,callback:o=>{var c;this.pe=null;var d=o.statusCode;if(d!==200||!o.json){var h="Surveys API could not be loaded, status: "+d;ze.error(h);var m={isLoaded:!1,error:h};return e([],m),void(a==null||a({surveys:[],context:m}))}var g,v=o.json.surveys||[],_=v.filter(E=>function(S){return!(!S.start_date||S.end_date)}(E)&&(function(S){var w;return!((w=S.conditions)==null||(w=w.events)==null||(w=w.values)==null||!w.length)}(E)||function(S){var w;return!((w=S.conditions)==null||(w=w.actions)==null||(w=w.values)==null||!w.length)}(E)));_.length>0&&((g=this._surveyEventReceiver)==null||g.register(_)),(c=this._instance.persistence)==null||c.register({[Ad]:v});var b={isLoaded:!0};e(v,b),a==null||a({surveys:v,context:b})}}))}me(e){for(var t of this.fe)try{if(!e.isLoaded)return t([],e);this.getSurveys(t)}catch(a){ze.error("Error in survey callback",a)}}getActiveMatchingSurveys(e,t){if(t===void 0&&(t=!1),!Be(this._surveyManager))return this._surveyManager.getActiveMatchingSurveys(e,t);ze.warn("init was not called")}ye(e){var t=null;return this.getSurveys(a=>{var i;t=(i=a.find(o=>o.id===e))!==null&&i!==void 0?i:null}),t}be(e){if(Be(this._surveyManager))return{eligible:!1,reason:"SDK is not enabled or survey functionality is not yet loaded"};var t=typeof e=="string"?this.ye(e):e;return t?this._surveyManager.checkSurveyEligibility(t):{eligible:!1,reason:"Survey not found"}}canRenderSurvey(e){if(Be(this._surveyManager))return ze.warn("init was not called"),{visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"};var t=this.be(e);return{visible:t.eligible,disabledReason:t.reason}}canRenderSurveyAsync(e,t){return Be(this._surveyManager)?(ze.warn("init was not called"),Promise.resolve({visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"})):new Promise(a=>{this.getSurveys(i=>{var o,c=(o=i.find(h=>h.id===e))!==null&&o!==void 0?o:null;if(c){var d=this.be(c);a({visible:d.eligible,disabledReason:d.reason})}else a({visible:!1,disabledReason:"Survey not found"})},t)})}renderSurvey(e,t){var a;if(Be(this._surveyManager))ze.warn("init was not called");else{var i=typeof e=="string"?this.ye(e):e;if(i!=null&&i.id)if(sw.includes(i.type)){var o=ee==null?void 0:ee.querySelector(t);if(o)return(a=i.appearance)!=null&&a.surveyPopupDelaySeconds?(ze.info("Rendering survey "+i.id+" with delay of "+i.appearance.surveyPopupDelaySeconds+" seconds"),void setTimeout(()=>{var c,d;ze.info("Rendering survey "+i.id+" with delay of "+((c=i.appearance)==null?void 0:c.surveyPopupDelaySeconds)+" seconds"),(d=this._surveyManager)==null||d.renderSurvey(i,o),ze.info("Survey "+i.id+" rendered")},1e3*i.appearance.surveyPopupDelaySeconds)):void this._surveyManager.renderSurvey(i,o);ze.warn("Survey element not found")}else ze.warn("Surveys of type "+i.type+" cannot be rendered in the app");else ze.warn("Survey not found")}}displaySurvey(e,t){var a;if(Be(this._surveyManager))ze.warn("init was not called");else{var i=this.ye(e);if(i){var o=i;if((a=i.appearance)!=null&&a.surveyPopupDelaySeconds&&t.ignoreDelay&&(o=ae({},i,{appearance:ae({},i.appearance,{surveyPopupDelaySeconds:0})})),t.ignoreConditions===!1){var c=this.canRenderSurvey(i);if(!c.visible)return void ze.warn("Survey is not eligible to be displayed: ",c.disabledReason)}t.displayType!==g2.Inline?this._surveyManager.handlePopoverSurvey(o):this.renderSurvey(o,t.selector)}else ze.warn("Survey not found")}}cancelPendingSurvey(e){Be(this._surveyManager)?ze.warn("init was not called"):this._surveyManager.cancelSurvey(e)}handlePageUnload(){var e;(e=this._surveyManager)==null||e.handlePageUnload()}}var Zs=lt("[Conversations]");class dw{constructor(e){this.we=void 0,this._conversationsManager=null,this.xe=!1,this.Ee=null,this._instance=e}onRemoteConfig(e){if(!this._instance.config.disable_conversations){var t=e.conversations;Be(t)||(Jn(t)?this.we=t:(this.we=t.enabled,this.Ee=t),this.loadIfEnabled())}}reset(){var e;(e=this._conversationsManager)==null||e.reset(),this._conversationsManager=null,this.we=void 0,this.Ee=null}loadIfEnabled(){if(!this._conversationsManager&&!this.xe&&!(this._instance.config.disable_conversations||this._instance.config.cookieless_mode&&this._instance.consent.isOptedOut())){var e=ve==null?void 0:ve.__PosthogExtensions__;if(e&&!J(this.we)&&this.we)if(this.Ee&&this.Ee.token){this.xe=!0;try{var t=e.initConversations;if(t)return this.$e(t),void(this.xe=!1);var a=e.loadExternalDependency;if(!a)return void this.Se("PostHog loadExternalDependency extension not found.");a(this._instance,"conversations",i=>{i||!e.initConversations?this.Se("Could not load conversations script",i):this.$e(e.initConversations),this.xe=!1})}catch(i){this.Se("Error initializing conversations",i),this.xe=!1}}else Zs.error("Conversations enabled but missing token in remote config.")}}$e(e){if(this.Ee)try{this._conversationsManager=e(this.Ee,this._instance),Zs.info("Conversations loaded successfully")}catch(t){this.Se("Error completing conversations initialization",t)}else Zs.error("Cannot complete initialization: remote config is null")}Se(e,t){Zs.error(e,t),this._conversationsManager=null,this.xe=!1}enable(){this._conversationsManager?this._conversationsManager.enable():Zs.warn("Conversations not loaded yet.")}disable(){this._conversationsManager&&this._conversationsManager.disable()}isLoaded(){return!xn(this._conversationsManager)}isEnabled(){return this.we===!0}isWidgetEnabled(){var e;return((e=this.Ee)==null?void 0:e.widgetEnabled)===!0}isWidgetVisible(){var e,t;return(e=(t=this._conversationsManager)==null?void 0:t.isWidgetVisible())!==null&&e!==void 0&&e}}var ug=lt("[RateLimiter]");class hw{constructor(e){var t,a;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=i=>{var o=i.text;if(o&&o.length)try{(JSON.parse(o).quota_limited||[]).forEach(c=>{ug.info((c||"events")+" is quota limited."),this.serverLimits[c]=new Date().getTime()+6e4})}catch(c){return void ug.warn('could not rate limit - continuing. Error: "'+(c==null?void 0:c.message)+'"',{text:o})}},this.instance=e,this.captureEventsPerSecond=((t=e.config.rate_limiting)==null?void 0:t.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((a=e.config.rate_limiting)==null?void 0:a.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(e){var t,a,i;e===void 0&&(e=!1);var o=new Date().getTime(),c=(t=(a=this.instance.persistence)==null?void 0:a.get_property(Pd))!==null&&t!==void 0?t:{tokens:this.captureEventsBurstLimit,last:o};c.tokens+=(o-c.last)/1e3*this.captureEventsPerSecond,c.last=o,c.tokens>this.captureEventsBurstLimit&&(c.tokens=this.captureEventsBurstLimit);var d=c.tokens<1;return d||e||(c.tokens=Math.max(0,c.tokens-1)),!d||this.lastEventRateLimited||e||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to "+this.captureEventsPerSecond+" events per second and "+this.captureEventsBurstLimit+" events burst limit."},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=d,(i=this.instance.persistence)==null||i.set_property(Pd,c),{isRateLimited:d,remainingTokens:c.tokens}}isServerRateLimited(e){var t=this.serverLimits[e||"events"]||!1;return t!==!1&&new Date().getTime()<t}}var Gr=lt("[RemoteConfig]");class pw{constructor(e){this._instance=e}get remoteConfig(){var e;return(e=ve._POSTHOG_REMOTE_CONFIG)==null||(e=e[this._instance.config.token])==null?void 0:e.config}ke(e){var t,a;(t=ve.__PosthogExtensions__)!=null&&t.loadExternalDependency?(a=ve.__PosthogExtensions__)==null||a.loadExternalDependency==null||a.loadExternalDependency(this._instance,"remote-config",()=>e(this.remoteConfig)):(Gr.error("PostHog Extensions not found. Cannot load remote config."),e())}Pe(e){this._instance._send_request({method:"GET",url:this._instance.requestRouter.endpointFor("assets","/array/"+this._instance.config.token+"/config"),callback:t=>{e(t.json)}})}load(){try{if(this.remoteConfig)return Gr.info("Using preloaded remote config",this.remoteConfig),void this.yi(this.remoteConfig);if(this._instance.O())return void Gr.warn("Remote config is disabled. Falling back to local config.");this.ke(e=>{if(!e)return Gr.info("No config found after loading remote JS config. Falling back to JSON."),void this.Pe(t=>{this.yi(t)});this.yi(e)})}catch(e){Gr.error("Error loading remote config",e)}}yi(e){e?this._instance.config.__preview_remote_config?(this._instance.yi(e),e.hasFeatureFlags!==!1&&this._instance.featureFlags.ensureFlagsLoaded()):Gr.info("__preview_remote_config is disabled. Logging config instead",e):Gr.error("Failed to fetch remote config from PostHog.")}}var Id=3e3;class fw{constructor(e,t){this.Te=!0,this.Ie=[],this.Ce=Pn((t==null?void 0:t.flush_interval_ms)||Id,250,5e3,Z.createLogger("flush interval"),Id),this.Re=e}enqueue(e){this.Ie.push(e),this.Fe||this.Me()}unload(){this.Oe();var e=this.Ie.length>0?this.Ae():{},t=Object.values(e);[...t.filter(a=>a.url.indexOf("/e")===0),...t.filter(a=>a.url.indexOf("/e")!==0)].map(a=>{this.Re(ae({},a,{transport:"sendBeacon"}))})}enable(){this.Te=!1,this.Me()}Me(){var e=this;this.Te||(this.Fe=setTimeout(()=>{if(this.Oe(),this.Ie.length>0){var t=this.Ae(),a=function(){var o=t[i],c=new Date().getTime();o.data&&$e(o.data)&&We(o.data,d=>{d.offset=Math.abs(d.timestamp-c),delete d.timestamp}),e.Re(o)};for(var i in t)a()}},this.Ce))}Oe(){clearTimeout(this.Fe),this.Fe=void 0}Ae(){var e={};return We(this.Ie,t=>{var a,i=t,o=(i?i.batchKey:null)||i.url;J(e[o])&&(e[o]=ae({},i,{data:[]})),(a=e[o].data)==null||a.push(i.data)}),this.Ie=[],e}}var mw=["retriesPerformedSoFar"];class gw{constructor(e){this.De=!1,this.je=3e3,this.Ie=[],this._instance=e,this.Ie=[],this.Le=!0,!J($)&&"onLine"in $.navigator&&(this.Le=$.navigator.onLine,this.Ne=()=>{this.Le=!0,this.Lt()},this.Ue=()=>{this.Le=!1},dt($,"online",this.Ne),dt($,"offline",this.Ue))}get length(){return this.Ie.length}retriableRequest(e){var{retriesPerformedSoFar:t}=e,a=dv(e,mw);Tn(t)&&t>0&&(a.url=bl(a.url,{retry_count:t})),this._instance._send_request(ae({},a,{callback:i=>{i.statusCode!==200&&(i.statusCode<400||i.statusCode>=500)&&(t??0)<10?this.ze(ae({retriesPerformedSoFar:t},a)):a.callback==null||a.callback(i)}}))}ze(e){var t=e.retriesPerformedSoFar||0;e.retriesPerformedSoFar=t+1;var a=function(c){var d=3e3*Math.pow(2,c),h=d/2,m=Math.min(18e5,d),g=(Math.random()-.5)*(m-h);return Math.ceil(m+g)}(t),i=Date.now()+a;this.Ie.push({retryAt:i,requestOptions:e});var o="Enqueued failed request for retry in "+a;navigator.onLine||(o+=" (Browser is offline)"),Z.warn(o),this.De||(this.De=!0,this.He())}He(){if(this.Be&&clearTimeout(this.Be),this.Ie.length===0)return this.De=!1,void(this.Be=void 0);this.Be=setTimeout(()=>{this.Le&&this.Ie.length>0&&this.Lt(),this.He()},this.je)}Lt(){var e=Date.now(),t=[],a=this.Ie.filter(o=>o.retryAt<e||(t.push(o),!1));if(this.Ie=t,a.length>0)for(var{requestOptions:i}of a)this.retriableRequest(i)}unload(){for(var{requestOptions:e}of(this.Be&&(clearTimeout(this.Be),this.Be=void 0),this.De=!1,J($)||(this.Ne&&($.removeEventListener("online",this.Ne),this.Ne=void 0),this.Ue&&($.removeEventListener("offline",this.Ue),this.Ue=void 0)),this.Ie))try{this._instance._send_request(ae({},e,{transport:"sendBeacon"}))}catch(t){Z.error(t)}this.Ie=[]}}class vw{constructor(e){this.qe=()=>{var t,a,i,o;this.We||(this.We={});var c=this.scrollElement(),d=this.scrollY(),h=c?Math.max(0,c.scrollHeight-c.clientHeight):0,m=d+((c==null?void 0:c.clientHeight)||0),g=(c==null?void 0:c.scrollHeight)||0;this.We.lastScrollY=Math.ceil(d),this.We.maxScrollY=Math.max(d,(t=this.We.maxScrollY)!==null&&t!==void 0?t:0),this.We.maxScrollHeight=Math.max(h,(a=this.We.maxScrollHeight)!==null&&a!==void 0?a:0),this.We.lastContentY=m,this.We.maxContentY=Math.max(m,(i=this.We.maxContentY)!==null&&i!==void 0?i:0),this.We.maxContentHeight=Math.max(g,(o=this.We.maxContentHeight)!==null&&o!==void 0?o:0)},this._instance=e}getContext(){return this.We}resetContext(){var e=this.We;return setTimeout(this.qe,0),e}startMeasuringScrollPosition(){dt($,"scroll",this.qe,{capture:!0}),dt($,"scrollend",this.qe,{capture:!0}),dt($,"resize",this.qe)}scrollElement(){if(!this._instance.config.scroll_root_selector)return $==null?void 0:$.document.documentElement;var e=$e(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector];for(var t of e){var a=$==null?void 0:$.document.querySelector(t);if(a)return a}}scrollY(){if(this._instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollTop||0}return $&&($.scrollY||$.pageYOffset||$.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollLeft||0}return $&&($.scrollX||$.pageXOffset||$.document.documentElement.scrollLeft)||0}}var yw=n=>i2(n==null?void 0:n.config.mask_personal_data_properties,n==null?void 0:n.config.custom_personal_data_properties);class dg{constructor(e,t,a,i){this.Ge=o=>{var c=this.Ve();if(!c||c.sessionId!==o){var d={sessionId:o,props:this.Je(this._instance)};this.Ke.register({[Cd]:d})}},this._instance=e,this.Ye=t,this.Ke=a,this.Je=i||yw,this.Ye.onSessionId(this.Ge)}Ve(){return this.Ke.props[Cd]}getSetOnceProps(){var e,t=(e=this.Ve())==null?void 0:e.props;return t?"r"in t?o2(t):{$referring_domain:t.referringDomain,$pathname:t.initialPathName,utm_source:t.utm_source,utm_campaign:t.utm_campaign,utm_medium:t.utm_medium,utm_content:t.utm_content,utm_term:t.utm_term}:{}}getSessionProps(){var e={};return We(oh(this.getSetOnceProps()),(t,a)=>{a==="$current_url"&&(a="url"),e["$session_entry_"+gd(a)]=t}),e}}var Xu=lt("[SessionId]");class hg{on(e,t){return this.Xe.on(e,t)}constructor(e,t,a){var i;if(this.Qe=[],this.Ze=void 0,this.Xe=new ph,this.tr=(g,v)=>Math.abs(g-v)>this.sessionTimeoutMs,!e.persistence)throw new Error("SessionIdManager requires a PostHogPersistence instance");if(e.config.cookieless_mode==="always")throw new Error('SessionIdManager cannot be used with cookieless_mode="always"');this.R=e.config,this.Ke=e.persistence,this.ir=void 0,this.er=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.rr=t||Ar,this.sr=a||Ar;var o=this.R.persistence_name||this.R.token,c=this.R.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*Pn(c,60,36e3,Xu.createLogger("session_idle_timeout_seconds"),1800),e.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.nr(),this.ar="ph_"+o+"_window_id",this.lr="ph_"+o+"_primary_window_exists",this.ur()){var d=St.W(this.ar),h=St.W(this.lr);d&&!h?this.ir=d:St.V(this.ar),St.G(this.lr,!0)}if((i=this.R.bootstrap)!=null&&i.sessionID)try{var m=(g=>{var v=g.replace(/-/g,"");if(v.length!==32)throw new Error("Not a valid UUID");if(v[12]!=="7")throw new Error("Not a UUIDv7");return parseInt(v.substring(0,12),16)})(this.R.bootstrap.sessionID);this.hr(this.R.bootstrap.sessionID,new Date().getTime(),m)}catch(g){Xu.error("Invalid sessionID in bootstrap",g)}this.dr()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(e){return J(this.Qe)&&(this.Qe=[]),this.Qe.push(e),this.er&&e(this.er,this.ir),()=>{this.Qe=this.Qe.filter(t=>t!==e)}}ur(){return this.R.persistence!=="memory"&&!this.Ke.Si&&St.H()}vr(e){e!==this.ir&&(this.ir=e,this.ur()&&St.G(this.ar,e))}cr(){return this.ir?this.ir:this.ur()?St.W(this.ar):null}hr(e,t,a){e===this.er&&t===this._sessionActivityTimestamp&&a===this._sessionStartTimestamp||(this._sessionStartTimestamp=a,this._sessionActivityTimestamp=t,this.er=e,this.Ke.register({[hl]:[t,e,a]}))}pr(){var e=this.Ke.props[hl];return $e(e)&&e.length===2&&e.push(e[0]),e||[0,null,0]}resetSessionId(){this.hr(null,null,null)}destroy(){clearTimeout(this.gr),this.gr=void 0,this.Ze&&$&&($.removeEventListener("beforeunload",this.Ze,{capture:!1}),this.Ze=void 0),this.Qe=[]}dr(){this.Ze=()=>{this.ur()&&St.V(this.lr)},dt($,"beforeunload",this.Ze,{capture:!1})}checkAndGetSessionAndWindowId(e,t){if(e===void 0&&(e=!1),t===void 0&&(t=null),this.R.cookieless_mode==="always")throw new Error('checkAndGetSessionAndWindowId should not be called with cookieless_mode="always"');var a=t||new Date().getTime(),[i,o,c]=this.pr(),d=this.cr(),h=Tn(c)&&c>0&&Math.abs(a-c)>864e5,m=!1,g=!o,v=!g&&!e&&this.tr(a,i);g||v||h?(o=this.rr(),d=this.sr(),Xu.info("new session ID generated",{sessionId:o,windowId:d,changeReason:{noSessionId:g,activityTimeout:v,sessionPastMaximumLength:h}}),c=a,m=!0):d||(d=this.sr(),m=!0);var _=i===0||!e||h?a:i,b=c===0?new Date().getTime():c;return this.vr(d),this.hr(o,_,b),e||this.nr(),m&&this.Qe.forEach(E=>E(o,d,m?{noSessionId:g,activityTimeout:v,sessionPastMaximumLength:h}:void 0)),{sessionId:o,windowId:d,sessionStartTimestamp:b,changeReason:m?{noSessionId:g,activityTimeout:v,sessionPastMaximumLength:h}:void 0,lastActivityTimestamp:i}}nr(){clearTimeout(this.gr),this.gr=setTimeout(()=>{var[e]=this.pr();if(this.tr(new Date().getTime(),e)){var t=this.er;this.resetSessionId(),this.Xe.emit("forcedIdleReset",{idleSessionId:t})}},1.1*this.sessionTimeoutMs)}}var _w=["$set_once","$set"],br=lt("[SiteApps]");class xw{constructor(e){this._instance=e,this._r=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}mr(e,t){if(t){var a=this.globalsForEvent(t);this._r.push(a),this._r.length>1e3&&(this._r=this._r.slice(10))}}get siteAppLoaders(){var e;return(e=ve._POSTHOG_REMOTE_CONFIG)==null||(e=e[this._instance.config.token])==null?void 0:e.siteApps}init(){if(this.isEnabled){var e=this._instance.Hi(this.mr.bind(this));this.yr=()=>{e(),this._r=[],this.yr=void 0}}}globalsForEvent(e){var t,a,i,o,c,d,h;if(!e)throw new Error("Event payload is required");var m={},g=this._instance.get_property("$groups")||[],v=this._instance.get_property("$stored_group_properties")||{};for(var[_,b]of Object.entries(v))m[_]={id:g[_],type:_,properties:b};var{$set_once:E,$set:S}=e;return{event:ae({},dv(e,_w),{properties:ae({},e.properties,S?{$set:ae({},(t=(a=e.properties)==null?void 0:a.$set)!==null&&t!==void 0?t:{},S)}:{},E?{$set_once:ae({},(i=(o=e.properties)==null?void 0:o.$set_once)!==null&&i!==void 0?i:{},E)}:{}),elements_chain:(c=(d=e.properties)==null?void 0:d.$elements_chain)!==null&&c!==void 0?c:"",distinct_id:(h=e.properties)==null?void 0:h.distinct_id}),person:{properties:this._instance.get_property("$stored_person_properties")},groups:m}}setupSiteApp(e){var t=this.apps[e.id],a=()=>{var d;!t.errored&&this._r.length&&(br.info("Processing "+this._r.length+" events for site app with id "+e.id),this._r.forEach(h=>t.processEvent==null?void 0:t.processEvent(h)),t.processedBuffer=!0),Object.values(this.apps).every(h=>h.processedBuffer||h.errored)&&((d=this.yr)==null||d.call(this))},i=!1,o=d=>{t.errored=!d,t.loaded=!0,br.info("Site app with id "+e.id+" "+(d?"loaded":"errored")),i&&a()};try{var{processEvent:c}=e.init({posthog:this._instance,callback:d=>{o(d)}});c&&(t.processEvent=c),i=!0}catch(d){br.error("Error while initializing PostHog app with config id "+e.id,d),o(!1)}if(i&&t.loaded)try{a()}catch(d){br.error("Error while processing buffered events PostHog app with config id "+e.id,d),t.errored=!0}}br(){var e=this.siteAppLoaders||[];for(var t of e)this.apps[t.id]={id:t.id,loaded:!1,errored:!1,processedBuffer:!1};for(var a of e)this.setupSiteApp(a)}wr(e){if(Object.keys(this.apps).length!==0){var t=this.globalsForEvent(e);for(var a of Object.values(this.apps))try{a.processEvent==null||a.processEvent(t)}catch(i){br.error("Error while processing event "+e.event+" for site app "+a.id,i)}}}onRemoteConfig(e){var t,a,i,o=this;if((t=this.siteAppLoaders)!=null&&t.length)return this.isEnabled?(this.br(),void this._instance.on("eventCaptured",m=>this.wr(m))):void br.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');if((a=this.yr)==null||a.call(this),(i=e.siteApps)!=null&&i.length)if(this.isEnabled){var c=function(m){var g;ve["__$$ph_site_app_"+m]=o._instance,(g=ve.__PosthogExtensions__)==null||g.loadSiteApp==null||g.loadSiteApp(o._instance,h,v=>{if(v)return br.error("Error while initializing PostHog app with config id "+m,v)})};for(var{id:d,url:h}of e.siteApps)c(d)}else br.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}var y2=function(n,e){if(!n)return!1;var t=n.userAgent;if(t&&bm(t,e))return!0;try{var a=n==null?void 0:n.userAgentData;if(a!=null&&a.brands&&a.brands.some(i=>bm(i==null?void 0:i.brand,e)))return!0}catch{}return!!n.webdriver},ui=function(n){return n.US="us",n.EU="eu",n.CUSTOM="custom",n}({}),pg="i.posthog.com";class ww{constructor(e){this.Er={},this.instance=e}get apiHost(){var e=this.instance.config.api_host.trim().replace(/\/$/,"");return e==="https://app.posthog.com"?"https://us.i.posthog.com":e}get flagsApiHost(){var e=this.instance.config.flags_api_host;return e?e.trim().replace(/\/$/,""):this.apiHost}get uiHost(){var e,t=(e=this.instance.config.ui_host)==null?void 0:e.replace(/\/$/,"");return t||(t=this.apiHost.replace("."+pg,".posthog.com")),t==="https://app.posthog.com"?"https://us.posthog.com":t}get region(){return this.Er[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.Er[this.apiHost]=ui.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.Er[this.apiHost]=ui.EU:this.Er[this.apiHost]=ui.CUSTOM),this.Er[this.apiHost]}endpointFor(e,t){if(t===void 0&&(t=""),t&&(t=t[0]==="/"?t:"/"+t),e==="ui")return this.uiHost+t;if(e==="flags")return this.flagsApiHost+t;if(this.region===ui.CUSTOM)return this.apiHost+t;var a=pg+t;switch(e){case"assets":return"https://"+this.region+"-assets."+a;case"api":return"https://"+this.region+"."+a}}}var bw={icontains:(n,e)=>!!$&&e.href.toLowerCase().indexOf(n.toLowerCase())>-1,not_icontains:(n,e)=>!!$&&e.href.toLowerCase().indexOf(n.toLowerCase())===-1,regex:(n,e)=>!!$&&El(e.href,n),not_regex:(n,e)=>!!$&&!El(e.href,n),exact:(n,e)=>e.href===n,is_not:(n,e)=>e.href!==n};class Nt{constructor(e){var t=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(a){a===void 0&&(a=!1),t.getWebExperiments(i=>{Nt.$r("retrieved web experiments from the server"),t.Sr=new Map,i.forEach(o=>{if(o.feature_flag_key){var c;t.Sr&&(Nt.$r("setting flag key ",o.feature_flag_key," to web experiment ",o),(c=t.Sr)==null||c.set(o.feature_flag_key,o));var d=t._instance.getFeatureFlag(o.feature_flag_key);mt(d)&&o.variants[d]&&t.kr(o.name,d,o.variants[d].transforms)}else if(o.variants)for(var h in o.variants){var m=o.variants[h];Nt.Pr(m)&&t.kr(o.name,h,m.transforms)}})},a)},this._instance=e,this._instance.onFeatureFlags(a=>{this.onFeatureFlags(a)})}onFeatureFlags(e){if(this._is_bot())Nt.$r("Refusing to render web experiment since the viewer is a likely bot");else if(!this._instance.config.disable_web_experiments){if(Be(this.Sr))return this.Sr=new Map,this.loadIfEnabled(),void this.previewWebExperiment();Nt.$r("applying feature flags",e),e.forEach(t=>{var a;if(this.Sr&&(a=this.Sr)!=null&&a.has(t)){var i,o=this._instance.getFeatureFlag(t),c=(i=this.Sr)==null?void 0:i.get(t);o&&c!=null&&c.variants[o]&&this.kr(c.name,o,c.variants[o].transforms)}})}}previewWebExperiment(){var e=Nt.getWindowLocation();if(e!=null&&e.search){var t=yl(e==null?void 0:e.search,"__experiment_id"),a=yl(e==null?void 0:e.search,"__experiment_variant");t&&a&&(Nt.$r("previewing web experiments "+t+" && "+a),this.getWebExperiments(i=>{this.Tr(parseInt(t),a,i)},!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(e,t,a){if(this._instance.config.disable_web_experiments&&!a)return e([]);var i=this._instance.get_property("$web_experiments");if(i&&!t)return e(i);this._instance._send_request({url:this._instance.requestRouter.endpointFor("api","/api/web_experiments/?token="+this._instance.config.token),method:"GET",callback:o=>{if(o.statusCode!==200||!o.json)return e([]);var c=o.json.experiments||[];return e(c)}})}Tr(e,t,a){var i=a.filter(o=>o.id===e);i&&i.length>0&&(Nt.$r("Previewing web experiment ["+i[0].name+"] with variant ["+t+"]"),this.kr(i[0].name,t,i[0].variants[t].transforms))}static Pr(e){return!Be(e.conditions)&&Nt.Ir(e)&&Nt.Cr(e)}static Ir(e){var t;if(Be(e.conditions)||Be((t=e.conditions)==null?void 0:t.url))return!0;var a,i,o,c=Nt.getWindowLocation();return!!c&&((a=e.conditions)==null||!a.url||bw[(i=(o=e.conditions)==null?void 0:o.urlMatchType)!==null&&i!==void 0?i:"icontains"](e.conditions.url,c))}static getWindowLocation(){return $==null?void 0:$.location}static Cr(e){var t;if(Be(e.conditions)||Be((t=e.conditions)==null?void 0:t.utm))return!0;var a=n2();if(a.utm_source){var i,o,c,d,h,m,g,v,_=(i=e.conditions)==null||(i=i.utm)==null||!i.utm_campaign||((o=e.conditions)==null||(o=o.utm)==null?void 0:o.utm_campaign)==a.utm_campaign,b=(c=e.conditions)==null||(c=c.utm)==null||!c.utm_source||((d=e.conditions)==null||(d=d.utm)==null?void 0:d.utm_source)==a.utm_source,E=(h=e.conditions)==null||(h=h.utm)==null||!h.utm_medium||((m=e.conditions)==null||(m=m.utm)==null?void 0:m.utm_medium)==a.utm_medium,S=(g=e.conditions)==null||(g=g.utm)==null||!g.utm_term||((v=e.conditions)==null||(v=v.utm)==null?void 0:v.utm_term)==a.utm_term;return _&&E&&S&&b}return!1}static $r(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),i=1;i<t;i++)a[i-1]=arguments[i];Z.info("[WebExperiments] "+e,a)}kr(e,t,a){this._is_bot()?Nt.$r("Refusing to render web experiment since the viewer is a likely bot"):t!=="control"?a.forEach(i=>{if(i.selector){var o;Nt.$r("applying transform of variant "+t+" for experiment "+e+" ",i);var c=(o=document)==null?void 0:o.querySelectorAll(i.selector);c==null||c.forEach(d=>{var h=d;i.html&&(h.innerHTML=i.html),i.css&&h.setAttribute("style",i.css)})}}):Nt.$r("Control variants leave the page unmodified.")}_is_bot(){return Zt&&this._instance?y2(Zt,this._instance.config.custom_blocked_useragents):void 0}}var Ew=lt("[PostHog ExternalIntegrations]"),kw={intercom:"intercom-integration",crispChat:"crisp-chat-integration"};class Sw{constructor(e){this._instance=e}it(e,t){var a;(a=ve.__PosthogExtensions__)==null||a.loadExternalDependency==null||a.loadExternalDependency(this._instance,e,i=>{if(i)return Ew.error("failed to load script",i);t()})}startIfEnabledOrStop(){var e=this,t=function(c){var d,h,m;!i||(d=ve.__PosthogExtensions__)!=null&&(d=d.integrations)!=null&&d[c]||e.it(kw[c],()=>{var g;(g=ve.__PosthogExtensions__)==null||(g=g.integrations)==null||(g=g[c])==null||g.start(e._instance)}),!i&&(h=ve.__PosthogExtensions__)!=null&&(h=h.integrations)!=null&&h[c]&&((m=ve.__PosthogExtensions__)==null||(m=m.integrations)==null||(m=m[c])==null||m.stop())};for(var[a,i]of Object.entries((o=this._instance.config.integrations)!==null&&o!==void 0?o:{})){var o;t(a)}}}var Dd="[SessionRecording]",ei=lt(Dd);class fg{get started(){var e;return!((e=this.Rr)==null||!e.isStarted)}get status(){return this.Rr?this.Rr.status:this.Fr&&!this.Mr?"disabled":"lazy_loading"}constructor(e){if(this._forceAllowLocalhostNetworkCapture=!1,this.Fr=!1,this.Or=void 0,this._instance=e,!this._instance.sessionManager)throw ei.error("started without valid sessionManager"),new Error(Dd+" started without valid sessionManager. This is a bug.");if(this._instance.config.cookieless_mode==="always")throw new Error(Dd+' cannot be used with cookieless_mode="always"')}get Mr(){var e,t=!((e=this._instance.get_property($u))==null||!e.enabled),a=!this._instance.config.disable_session_recording,i=this._instance.config.disable_session_recording||this._instance.consent.isOptedOut();return $&&t&&a&&!i}startIfEnabledOrStop(e){var t;if(!this.Mr||(t=this.Rr)==null||!t.isStarted){var a=!J(Object.assign)&&!J(Array.from);this.Mr&&a?(this.Ar(e),ei.info("starting")):this.stopRecording()}}Ar(e){var t,a,i;this.Mr&&(ve!=null&&(t=ve.__PosthogExtensions__)!=null&&(t=t.rrweb)!=null&&t.record&&(a=ve.__PosthogExtensions__)!=null&&a.initSessionRecording?this.Dr(e):(i=ve.__PosthogExtensions__)==null||i.loadExternalDependency==null||i.loadExternalDependency(this._instance,this.jr,o=>{if(o)return ei.error("could not load recorder",o);this.Dr(e)}))}stopRecording(){var e,t;(e=this.Or)==null||e.call(this),this.Or=void 0,(t=this.Rr)==null||t.stop()}Lr(){var e;(e=this._instance.persistence)==null||e.unregister(Bv)}Nr(e){if(this._instance.persistence){var t,a,i=this._instance.persistence,o=()=>{var c=e.sessionRecording===!1?void 0:e.sessionRecording,d=c==null?void 0:c.sampleRate,h=Be(d)?null:parseFloat(d);Be(h)&&this.Lr();var m=c==null?void 0:c.minimumDurationMilliseconds;i.register({[$u]:ae({enabled:!!c},c,{networkPayloadCapture:ae({capturePerformance:e.capturePerformance},c==null?void 0:c.networkPayloadCapture),canvasRecording:{enabled:c==null?void 0:c.recordCanvas,fps:c==null?void 0:c.canvasFps,quality:c==null?void 0:c.canvasQuality},sampleRate:h,minimumDurationMilliseconds:J(m)?null:m,endpoint:c==null?void 0:c.endpoint,triggerMatchType:c==null?void 0:c.triggerMatchType,masking:c==null?void 0:c.masking,urlTriggers:c==null?void 0:c.urlTriggers})})};o(),(t=this.Or)==null||t.call(this),this.Or=(a=this._instance.sessionManager)==null?void 0:a.onSessionId(o)}}onRemoteConfig(e){"sessionRecording"in e?e.sessionRecording!==!1?(this.Nr(e),this.Fr=!0,this.startIfEnabledOrStop()):this.Fr=!0:ei.info("skipping remote config with no sessionRecording",e)}log(e,t){var a;t===void 0&&(t="log"),(a=this.Rr)!=null&&a.log?this.Rr.log(e,t):ei.warn("log called before recorder was ready")}get jr(){var e,t,a=(e=this._instance)==null||(e=e.persistence)==null?void 0:e.get_property($u);return(a==null||(t=a.scriptConfig)==null?void 0:t.script)||"lazy-recorder"}Dr(e){var t,a;if((t=ve.__PosthogExtensions__)==null||!t.initSessionRecording)throw Error("Called on script loaded before session recording is available");this.Rr||(this.Rr=(a=ve.__PosthogExtensions__)==null?void 0:a.initSessionRecording(this._instance),this.Rr._forceAllowLocalhostNetworkCapture=this._forceAllowLocalhostNetworkCapture),this.Rr.start(e)}onRRwebEmit(e){var t;(t=this.Rr)==null||t.onRRwebEmit==null||t.onRRwebEmit(e)}overrideLinkedFlag(){var e,t;this.Rr||(t=this._instance.persistence)==null||t.register({$replay_override_linked_flag:!0}),(e=this.Rr)==null||e.overrideLinkedFlag()}overrideSampling(){var e,t;this.Rr||(t=this._instance.persistence)==null||t.register({$replay_override_sampling:!0}),(e=this.Rr)==null||e.overrideSampling()}overrideTrigger(e){var t,a;this.Rr||(a=this._instance.persistence)==null||a.register({[e==="url"?"$replay_override_url_trigger":"$replay_override_event_trigger"]:!0}),(t=this.Rr)==null||t.overrideTrigger(e)}get sdkDebugProperties(){var e;return((e=this.Rr)==null?void 0:e.sdkDebugProperties)||{$recording_status:this.status}}tryAddCustomEvent(e,t){var a;return!((a=this.Rr)==null||!a.tryAddCustomEvent(e,t))}}var mi={},Bd=()=>{},Ua="posthog",_2=!Qx&&(zt==null?void 0:zt.indexOf("MSIE"))===-1&&(zt==null?void 0:zt.indexOf("Mozilla"))===-1,mg=n=>{var e;return ae({api_host:"https://us.i.posthog.com",flags_api_host:null,ui_host:null,token:"",autocapture:!0,cross_subdomain_cookie:nx(ee==null?void 0:ee.location),persistence:"localStorage+cookie",persistence_name:"",cookie_persisted_properties:[],loaded:Bd,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageleave:"if_capture_pageview",defaults:n??"unset",__preview_deferred_init_extensions:!1,debug:Vt&&mt(Vt==null?void 0:Vt.search)&&Vt.search.indexOf("__posthog_debug=true")!==-1||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_surveys_automatic_display:!1,disable_conversations:!1,disable_product_tours:!0,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:($==null||(e=$.location)==null?void 0:e.protocol)==="https:",ip:!1,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",consent_persistence_name:null,opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_flags:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_only_evaluate_survey_feature_flags:!1,advanced_enable_surveys:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:t=>{var a="Bad HTTP status: "+t.statusCode+" "+t.text;Z.error(a)},get_device_id:t=>t,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",before_send:void 0,request_queue_config:{flush_interval_ms:Id},error_tracking:{},_onCapture:Bd,__preview_eager_load_replay:!1},(t=>({rageclick:!(t&&t>="2025-11-30")||{content_ignorelist:!0},capture_pageview:!(t&&t>="2025-05-24")||"history_change",session_recording:t&&t>="2025-11-30"?{strictMinimumDuration:!0}:{}}))(n))},gg=n=>{var e={};J(n.process_person)||(e.person_profiles=n.process_person),J(n.xhr_headers)||(e.request_headers=n.xhr_headers),J(n.cookie_name)||(e.persistence_name=n.cookie_name),J(n.disable_cookie)||(e.disable_persistence=n.disable_cookie),J(n.store_google)||(e.save_campaign_params=n.store_google),J(n.verbose)||(e.debug=n.verbose);var t=ot({},e,n);return $e(n.property_blacklist)&&(J(n.property_denylist)?t.property_denylist=n.property_blacklist:$e(n.property_denylist)?t.property_denylist=[...n.property_blacklist,...n.property_denylist]:Z.error("Invalid value for property_denylist config: "+n.property_denylist)),t};class Aw{constructor(){this.__forceAllowLocalhost=!1}get Ur(){return this.__forceAllowLocalhost}set Ur(e){Z.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=e}}class Nl{get decideEndpointWasHit(){var e,t;return(e=(t=this.featureFlags)==null?void 0:t.hasLoadedFlags)!==null&&e!==void 0&&e}get flagsEndpointWasHit(){var e,t;return(e=(t=this.featureFlags)==null?void 0:t.hasLoadedFlags)!==null&&e!==void 0&&e}constructor(){this.webPerformance=new Aw,this.zr=!1,this.version=zn.LIB_VERSION,this.Hr=new ph,this._calculate_event_properties=this.calculateEventProperties.bind(this),this.config=mg(),this.SentryIntegration=Lx,this.sentryIntegration=e=>function(t,a){var i=t2(t,a);return{name:e2,processEvent:o=>i(o)}}(this,e),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.Br=!1,this.qr=null,this.Wr=null,this.Gr=null,this.featureFlags=new tw(this),this.toolbar=new Nx(this),this.scrollManager=new vw(this),this.pageViewManager=new Qm(this),this.surveys=new uw(this),this.conversations=new dw(this),this.experiments=new Nt(this),this.exceptions=new Xx(this),this.rateLimiter=new hw(this),this.requestRouter=new ww(this),this.consent=new Sx(this),this.externalIntegrations=new Sw(this),this.people={set:(e,t,a)=>{var i=mt(e)?{[e]:t}:e;this.setPersonProperties(i),a==null||a({})},set_once:(e,t,a)=>{var i=mt(e)?{[e]:t}:e;this.setPersonProperties(void 0,i),a==null||a({})}},this.on("eventCaptured",e=>Z.info('send "'+(e==null?void 0:e.event)+'"',e))}init(e,t,a){if(a&&a!==Ua){var i,o=(i=mi[a])!==null&&i!==void 0?i:new Nl;return o._init(e,t,a),mi[a]=o,mi[Ua][a]=o,o}return this._init(e,t,a)}_init(e,t,a){var i;if(t===void 0&&(t={}),J(e)||vd(e))return Z.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return console.warn("[PostHog.js]","You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},t.debug=this.Vr(t.debug),this.Jr=t,this.Kr=[],t.person_profiles&&(this.Wr=t.person_profiles),this.set_config(ot({},mg(t.defaults),gg(t),{name:a,token:e})),this.config.on_xhr_error&&Z.error("on_xhr_error is deprecated. Use on_request_error instead"),this.compression=t.disable_compression?void 0:Kn.GZipJS;var o=this.Yr();this.persistence=new Gu(this.config,o),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new Gu(ae({},this.config,{persistence:"sessionStorage"}),o);var c=ae({},this.persistence.props),d=ae({},this.sessionPersistence.props);this.register({$initialization_time:new Date().toISOString()}),this.Xr=new fw(R=>this.Qr(R),this.config.request_queue_config),this.Zr=new gw(this),this.__request_queue=[];var h=this.config.cookieless_mode==="always"||this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut();if(h||(this.sessionManager=new hg(this),this.sessionPropsManager=new dg(this,this.sessionManager,this.persistence)),this.config.__preview_deferred_init_extensions?(Z.info("Deferring extension initialization to improve startup performance"),setTimeout(()=>{this.ts(h)},0)):(Z.info("Initializing extensions synchronously"),this.ts(h)),zn.DEBUG=zn.DEBUG||this.config.debug,zn.DEBUG&&Z.info("Starting in debug mode",{this:this,config:t,thisC:ae({},this.config),p:c,s:d}),((i=t.bootstrap)==null?void 0:i.distinctID)!==void 0){var m,g,v=this.config.get_device_id(Ar()),_=(m=t.bootstrap)!=null&&m.isIdentifiedID?v:t.bootstrap.distinctID;this.persistence.set_property(Vn,(g=t.bootstrap)!=null&&g.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:t.bootstrap.distinctID,$device_id:_})}if(this.es()){var b,E,S=Object.keys(((b=t.bootstrap)==null?void 0:b.featureFlags)||{}).filter(R=>{var N;return!((N=t.bootstrap)==null||(N=N.featureFlags)==null||!N[R])}).reduce((R,N)=>{var B;return R[N]=((B=t.bootstrap)==null||(B=B.featureFlags)==null?void 0:B[N])||!1,R},{}),w=Object.keys(((E=t.bootstrap)==null?void 0:E.featureFlagPayloads)||{}).filter(R=>S[R]).reduce((R,N)=>{var B,U;return(B=t.bootstrap)!=null&&(B=B.featureFlagPayloads)!=null&&B[N]&&(R[N]=(U=t.bootstrap)==null||(U=U.featureFlagPayloads)==null?void 0:U[N]),R},{});this.featureFlags.receivedFeatureFlags({featureFlags:S,featureFlagPayloads:w})}if(h)this.register_once({distinct_id:Ws,$device_id:null},"");else if(!this.get_distinct_id()){var A=this.config.get_device_id(Ar());this.register_once({distinct_id:A,$device_id:A},""),this.persistence.set_property(Vn,"anonymous")}return dt($,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),t.segment?Rx(this,()=>this.rs()):this.rs(),Pr(this.config._onCapture)&&this.config._onCapture!==Bd&&(Z.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",R=>this.config._onCapture(R.event,R))),this.config.ip&&Z.warn('The `ip` config option has NO EFFECT AT ALL and has been deprecated. Use a custom transformation or "Discard IP data" project setting instead. See https://posthog.com/tutorials/web-redact-properties#hiding-customer-ip-address for more information.'),this}ts(e){var t=performance.now();this.historyAutocapture=new Tx(this),this.historyAutocapture.startIfEnabled();var a=[];a.push(()=>{new Ix(this).startIfEnabledOrStop()}),a.push(()=>{var i;this.siteApps=new xw(this),(i=this.siteApps)==null||i.init()}),e||a.push(()=>{this.sessionRecording=new fg(this),this.sessionRecording.startIfEnabledOrStop()}),this.config.disable_scroll_properties||a.push(()=>{this.scrollManager.startMeasuringScrollPosition()}),a.push(()=>{this.autocapture=new vx(this),this.autocapture.startIfEnabled()}),a.push(()=>{this.surveys.loadIfEnabled()}),a.push(()=>{this.conversations.loadIfEnabled()}),a.push(()=>{this.productTours=new rw(this),this.productTours.loadIfEnabled()}),a.push(()=>{this.heatmaps=new qx(this),this.heatmaps.startIfEnabled()}),a.push(()=>{this.webVitalsAutocapture=new Ux(this)}),a.push(()=>{this.exceptionObserver=new Px(this),this.exceptionObserver.startIfEnabledOrStop()}),a.push(()=>{this.deadClicksAutocapture=new Zv(this,Cx),this.deadClicksAutocapture.startIfEnabled()}),a.push(()=>{if(this.ss){var i=this.ss;this.ss=void 0,this.yi(i)}}),this.ns(a,t)}ns(e,t){for(;e.length>0;){if(this.config.__preview_deferred_init_extensions&&performance.now()-t>=30&&e.length>0)return void setTimeout(()=>{this.ns(e,t)},0);var a=e.shift();if(a)try{a()}catch(o){Z.error("Error initializing extension:",o)}}var i=Math.round(performance.now()-t);this.register_for_session({$sdk_debug_extensions_init_method:this.config.__preview_deferred_init_extensions?"deferred":"synchronous",$sdk_debug_extensions_init_time_ms:i}),this.config.__preview_deferred_init_extensions&&Z.info("PostHog extensions initialized ("+i+"ms)")}yi(e){var t,a,i,o,c,d,h,m,g;if(!ee||!ee.body)return Z.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(()=>{this.yi(e)},500);this.config.__preview_deferred_init_extensions&&(this.ss=e),this.compression=void 0,e.supportedCompression&&!this.config.disable_compression&&(this.compression=Ae(e.supportedCompression,Kn.GZipJS)?Kn.GZipJS:Ae(e.supportedCompression,Kn.Base64)?Kn.Base64:void 0),(t=e.analytics)!=null&&t.endpoint&&(this.analyticsDefaultEndpoint=e.analytics.endpoint),this.set_config({person_profiles:this.Wr?this.Wr:"identified_only"}),(a=this.siteApps)==null||a.onRemoteConfig(e),(i=this.sessionRecording)==null||i.onRemoteConfig(e),(o=this.autocapture)==null||o.onRemoteConfig(e),(c=this.heatmaps)==null||c.onRemoteConfig(e),this.surveys.onRemoteConfig(e),this.conversations.onRemoteConfig(e),(d=this.productTours)==null||d.onRemoteConfig(e),(h=this.webVitalsAutocapture)==null||h.onRemoteConfig(e),(m=this.exceptionObserver)==null||m.onRemoteConfig(e),this.exceptions.onRemoteConfig(e),(g=this.deadClicksAutocapture)==null||g.onRemoteConfig(e)}rs(){try{this.config.loaded(this)}catch(e){Z.critical("`loaded` function failed",e)}this.os(),this.config.capture_pageview&&setTimeout(()=>{(this.consent.isOptedIn()||this.config.cookieless_mode==="always")&&this.ls()},1),new pw(this).load(),this.featureFlags.flags()}os(){var e;this.is_capturing()&&this.config.request_batching&&((e=this.Xr)==null||e.enable())}_dom_loaded(){this.is_capturing()&&Tr(this.__request_queue,e=>this.Qr(e)),this.__request_queue=[],this.os()}_handle_unload(){var e,t;this.surveys.handlePageUnload(),this.config.request_batching?(this.us()&&this.capture("$pageleave"),(e=this.Xr)==null||e.unload(),(t=this.Zr)==null||t.unload()):this.us()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}_send_request(e){this.__loaded&&(_2?this.__request_queue.push(e):this.rateLimiter.isServerRateLimited(e.batchKey)||(e.transport=e.transport||this.config.api_transport,e.url=bl(e.url,{ip:this.config.ip?1:0}),e.headers=ae({},this.config.request_headers,e.headers),e.compression=e.compression==="best-available"?this.compression:e.compression,e.disableXHRCredentials=this.config.__preview_disable_xhr_credentials,this.config.__preview_disable_beacon&&(e.disableTransport=["sendBeacon"]),e.fetchOptions=e.fetchOptions||this.config.fetch_options,(t=>{var a,i,o,c=ae({},t);c.timeout=c.timeout||6e4,c.url=bl(c.url,{_:new Date().getTime().toString(),ver:zn.LIB_VERSION,compression:c.compression});var d=(a=c.transport)!==null&&a!==void 0?a:"fetch",h=ll.filter(g=>!c.disableTransport||!g.transport||!c.disableTransport.includes(g.transport)),m=(i=(o=jv(h,g=>g.transport===d))==null?void 0:o.method)!==null&&i!==void 0?i:h[0].method;if(!m)throw new Error("No available transport method");m(c)})(ae({},e,{callback:t=>{var a,i;this.rateLimiter.checkForLimiting(t),t.statusCode>=400&&((a=(i=this.config).on_request_error)==null||a.call(i,t)),e.callback==null||e.callback(t)}}))))}Qr(e){this.Zr?this.Zr.retriableRequest(e):this._send_request(e)}_execute_array(e){var t,a=[],i=[],o=[];Tr(e,d=>{d&&(t=d[0],$e(t)?o.push(d):Pr(d)?d.call(this):$e(d)&&t==="alias"?a.push(d):$e(d)&&t.indexOf("capture")!==-1&&Pr(this[t])?o.push(d):i.push(d))});var c=function(d,h){Tr(d,function(m){if($e(m[0])){var g=h;We(m,function(v){g=g[v[0]].apply(g,v.slice(1))})}else this[m[0]].apply(this,m.slice(1))},h)};c(a,this),c(i,this),c(o,this)}es(){var e,t;return((e=this.config.bootstrap)==null?void 0:e.featureFlags)&&Object.keys((t=this.config.bootstrap)==null?void 0:t.featureFlags).length>0||!1}push(e){this._execute_array([e])}capture(e,t,a){var i;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.Xr){if(this.is_capturing())if(!J(e)&&mt(e)){var o=!this.config.opt_out_useragent_filter&&this._is_bot();if(!(o&&!this.config.__preview_capture_bot_pageviews)){var c=a!=null&&a.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(c==null||!c.isRateLimited){t!=null&&t.$current_url&&!mt(t==null?void 0:t.$current_url)&&(Z.error("Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value."),t==null||delete t.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var d=new Date,h=(a==null?void 0:a.timestamp)||d,m=Ar(),g={uuid:m,event:e,properties:this.calculateEventProperties(e,t||{},h,m)};e==="$pageview"&&this.config.__preview_capture_bot_pageviews&&o&&(g.event="$bot_pageview",g.properties.$browser_type="bot"),c&&(g.properties.$lib_rate_limit_remaining_tokens=c.remainingTokens),a!=null&&a.$set&&(g.$set=a==null?void 0:a.$set);var v,_=e!=="$groupidentify",b=this.hs(a==null?void 0:a.$set_once,_);if(b&&(g.$set_once=b),(g=ex(g,a!=null&&a._noTruncate?null:this.config.properties_string_max_length)).timestamp=h,J(a==null?void 0:a.timestamp)||(g.properties.$event_time_override_provided=!0,g.properties.$event_time_override_system_time=d),e===ci.DISMISSED||e===ci.SENT){var E=t==null?void 0:t[Qu.SURVEY_ID],S=t==null?void 0:t[Qu.SURVEY_ITERATION];v={id:E,current_iteration:S},localStorage.getItem(cg(v))||localStorage.setItem(cg(v),"true"),g.$set=ae({},g.$set,{[aw({id:E,current_iteration:S},e===ci.SENT?"responded":"dismissed")]:!0})}else e===ci.SHOWN&&(g.$set=ae({},g.$set,{[Qu.SURVEY_LAST_SEEN_DATE]:new Date().toISOString()}));var w=ae({},g.properties.$set,g.$set);if(Va(w)||this.setPersonPropertiesForFlags(w),!Be(this.config.before_send)){var A=this.ds(g);if(!A)return;g=A}this.Hr.emit("eventCaptured",g);var R={method:"POST",url:(i=a==null?void 0:a._url)!==null&&i!==void 0?i:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:g,compression:"best-available",batchKey:a==null?void 0:a._batchKey};return!this.config.request_batching||a&&(a==null||!a._batchKey)||a!=null&&a.send_instantly?this.Qr(R):this.Xr.enqueue(R),g}Z.critical("This capture call is ignored due to client rate limiting.")}}else Z.error("No event name provided to posthog.capture")}else Z.uninitializedWarning("posthog.capture")}Hi(e){return this.on("eventCaptured",t=>e(t.event,t))}calculateEventProperties(e,t,a,i,o){if(a=a||new Date,!this.persistence||!this.sessionPersistence)return t;var c=o?void 0:this.persistence.remove_event_timer(e),d=ae({},t);if(d.token=this.config.token,d.$config_defaults=this.config.defaults,(this.config.cookieless_mode=="always"||this.config.cookieless_mode=="on_reject"&&this.consent.isExplicitlyOptedOut())&&(d.$cookieless_mode=!0),e==="$snapshot"){var h=ae({},this.persistence.properties(),this.sessionPersistence.properties());return d.distinct_id=h.distinct_id,(!mt(d.distinct_id)&&!Tn(d.distinct_id)||vd(d.distinct_id))&&Z.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),d}var m,g=Mx(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:v,windowId:_}=this.sessionManager.checkAndGetSessionAndWindowId(o,a.getTime());d.$session_id=v,d.$window_id=_}this.sessionPropsManager&&ot(d,this.sessionPropsManager.getSessionProps());try{var b;this.sessionRecording&&ot(d,this.sessionRecording.sdkDebugProperties),d.$sdk_debug_retry_queue_size=(b=this.Zr)==null?void 0:b.length}catch(A){d.$sdk_debug_error_capturing_properties=String(A)}if(this.requestRouter.region===ui.CUSTOM&&(d.$lib_custom_api_host=this.config.api_host),m=e!=="$pageview"||o?e!=="$pageleave"||o?this.pageViewManager.doEvent():this.pageViewManager.doPageLeave(a):this.pageViewManager.doPageView(a,i),d=ot(d,m),e==="$pageview"&&ee&&(d.title=ee.title),!J(c)){var E=a.getTime()-c;d.$duration=parseFloat((E/1e3).toFixed(3))}zt&&this.config.opt_out_useragent_filter&&(d.$browser_type=this._is_bot()?"bot":"browser"),(d=ot({},g,this.persistence.properties(),this.sessionPersistence.properties(),d)).$is_identified=this._isIdentified(),$e(this.config.property_denylist)?We(this.config.property_denylist,function(A){delete d[A]}):Z.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var S=this.config.sanitize_properties;S&&(Z.error("sanitize_properties is deprecated. Use before_send instead"),d=S(d,e));var w=this.vs();return d.$process_person_profile=w,w&&!o&&this.cs("_calculate_event_properties"),d}hs(e,t){var a;if(t===void 0&&(t=!0),!this.persistence||!this.vs()||this.zr)return e;var i=this.persistence.get_initial_props(),o=(a=this.sessionPropsManager)==null?void 0:a.getSetOnceProps(),c=ot({},i,o||{},e||{}),d=this.config.sanitize_properties;return d&&(Z.error("sanitize_properties is deprecated. Use before_send instead"),c=d(c,"$set_once")),t&&(this.zr=!0),Va(c)?void 0:c}register(e,t){var a;(a=this.persistence)==null||a.register(e,t)}register_once(e,t,a){var i;(i=this.persistence)==null||i.register_once(e,t,a)}register_for_session(e){var t;(t=this.sessionPersistence)==null||t.register(e)}unregister(e){var t;(t=this.persistence)==null||t.unregister(e)}unregister_for_session(e){var t;(t=this.sessionPersistence)==null||t.unregister(e)}fs(e,t){this.register({[e]:t})}getFeatureFlag(e,t){return this.featureFlags.getFeatureFlag(e,t)}getFeatureFlagPayload(e){var t=this.featureFlags.getFeatureFlagPayload(e);try{return JSON.parse(t)}catch{return t}}isFeatureEnabled(e,t){return this.featureFlags.isFeatureEnabled(e,t)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateFlags(e,t,a){var i=a!=null&&a.merge?this.featureFlags.getFlagVariants():{},o=a!=null&&a.merge?this.featureFlags.getFlagPayloads():{},c=ae({},i,e),d=ae({},o,t),h={};for(var[m,g]of Object.entries(c)){var v=typeof g=="string";h[m]={key:m,enabled:!!v||!!g,variant:v?g:void 0,reason:void 0,metadata:J(d==null?void 0:d[m])?void 0:{id:0,version:void 0,description:void 0,payload:d[m]}}}this.featureFlags.receivedFeatureFlags({flags:h})}updateEarlyAccessFeatureEnrollment(e,t,a){this.featureFlags.updateEarlyAccessFeatureEnrollment(e,t,a)}getEarlyAccessFeatures(e,t,a){return t===void 0&&(t=!1),this.featureFlags.getEarlyAccessFeatures(e,t,a)}on(e,t){return this.Hr.on(e,t)}onFeatureFlags(e){return this.featureFlags.onFeatureFlags(e)}onSurveysLoaded(e){return this.surveys.onSurveysLoaded(e)}onSessionId(e){var t,a;return(t=(a=this.sessionManager)==null?void 0:a.onSessionId(e))!==null&&t!==void 0?t:()=>{}}getSurveys(e,t){t===void 0&&(t=!1),this.surveys.getSurveys(e,t)}getActiveMatchingSurveys(e,t){t===void 0&&(t=!1),this.surveys.getActiveMatchingSurveys(e,t)}renderSurvey(e,t){this.surveys.renderSurvey(e,t)}displaySurvey(e,t){t===void 0&&(t=iw),this.surveys.displaySurvey(e,t)}cancelPendingSurvey(e){this.surveys.cancelPendingSurvey(e)}canRenderSurvey(e){return this.surveys.canRenderSurvey(e)}canRenderSurveyAsync(e,t){return t===void 0&&(t=!1),this.surveys.canRenderSurveyAsync(e,t)}identify(e,t,a){if(!this.__loaded||!this.persistence)return Z.uninitializedWarning("posthog.identify");if(Tn(e)&&(e=e.toString(),Z.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),e)if(["distinct_id","distinctid"].includes(e.toLowerCase()))Z.critical('The string "'+e+'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(e!==Ws){if(this.cs("posthog.identify")){var i=this.get_distinct_id();if(this.register({$user_id:e}),!this.get_property("$device_id")){var o=i;this.register_once({$had_persisted_distinct_id:!0,$device_id:o},"")}e!==i&&e!==this.get_property(ai)&&(this.unregister(ai),this.register({distinct_id:e}));var c=(this.persistence.get_property(Vn)||"anonymous")==="anonymous";e!==i&&c?(this.persistence.set_property(Vn,"identified"),this.setPersonPropertiesForFlags(ae({},a||{},t||{}),!1),this.capture("$identify",{distinct_id:e,$anon_distinct_id:i},{$set:t||{},$set_once:a||{}}),this.Gr=rg(e,t,a),this.featureFlags.setAnonymousDistinctId(i)):(t||a)&&this.setPersonProperties(t,a),e!==i&&(this.reloadFeatureFlags(),this.unregister(pl))}}else Z.critical('The string "'+Ws+'" was set in posthog.identify which indicates an error. This ID is only used as a sentinel value.');else Z.error("Unique user id has not been set in posthog.identify")}setPersonProperties(e,t){if((e||t)&&this.cs("posthog.setPersonProperties")){var a=rg(this.get_distinct_id(),e,t);this.Gr!==a?(this.setPersonPropertiesForFlags(ae({},t||{},e||{})),this.capture("$set",{$set:e||{},$set_once:t||{}}),this.Gr=a):Z.info("A duplicate setPersonProperties call was made with the same properties. It has been ignored.")}}group(e,t,a){if(e&&t){var i=this.getGroups();i[e]!==t&&this.resetGroupPropertiesForFlags(e),this.register({$groups:ae({},i,{[e]:t})}),a&&(this.capture("$groupidentify",{$group_type:e,$group_key:t,$group_set:a}),this.setGroupPropertiesForFlags({[e]:a})),i[e]===t||a||this.reloadFeatureFlags()}else Z.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(e,t){t===void 0&&(t=!0),this.featureFlags.setPersonPropertiesForFlags(e,t)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(e,t){t===void 0&&(t=!0),this.cs("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(e,t)}resetGroupPropertiesForFlags(e){this.featureFlags.resetGroupPropertiesForFlags(e)}reset(e){var t,a,i,o;if(Z.info("reset"),!this.__loaded)return Z.uninitializedWarning("posthog.reset");var c=this.get_property("$device_id");if(this.consent.reset(),(t=this.persistence)==null||t.clear(),(a=this.sessionPersistence)==null||a.clear(),this.surveys.reset(),this.featureFlags.reset(),(i=this.persistence)==null||i.set_property(Vn,"anonymous"),(o=this.sessionManager)==null||o.resetSessionId(),this.Gr=null,this.config.cookieless_mode==="always")this.register_once({distinct_id:Ws,$device_id:null},"");else{var d=this.config.get_device_id(Ar());this.register_once({distinct_id:d,$device_id:e?d:c},"")}this.register({$last_posthog_reset:new Date().toISOString()},1)}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var e,t;return(e=(t=this.sessionManager)==null?void 0:t.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&e!==void 0?e:""}get_session_replay_url(e){if(!this.sessionManager)return"";var{sessionId:t,sessionStartTimestamp:a}=this.sessionManager.checkAndGetSessionAndWindowId(!0),i=this.requestRouter.endpointFor("ui","/project/"+this.config.token+"/replay/"+t);if(e!=null&&e.withTimestamp&&a){var o,c=(o=e.timestampLookBack)!==null&&o!==void 0?o:10;if(!a)return i;i+="?t="+Math.max(Math.floor((new Date().getTime()-a)/1e3)-c,0)}return i}alias(e,t){return e===this.get_property(Iv)?(Z.critical("Attempting to create alias for existing People user - aborting."),-2):this.cs("posthog.alias")?(J(t)&&(t=this.get_distinct_id()),e!==t?(this.fs(ai,e),this.capture("$create_alias",{alias:e,distinct_id:t})):(Z.warn("alias matches current distinct_id - skipping api call."),this.identify(e),-1)):void 0}set_config(e){var t=ae({},this.config);if(_t(e)){var a,i,o,c,d,h,m;ot(this.config,gg(e));var g=this.Yr();(a=this.persistence)==null||a.update_config(this.config,t,g),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new Gu(ae({},this.config,{persistence:"sessionStorage"}),g);var v=this.Vr(this.config.debug);Jn(v)&&(this.config.debug=v),Jn(this.config.debug)&&(this.config.debug?(zn.DEBUG=!0,et.H()&&et.G("ph_debug","true"),Z.info("set_config",{config:e,oldConfig:t,newConfig:ae({},this.config)})):(zn.DEBUG=!1,et.H()&&et.V("ph_debug"))),(i=this.exceptionObserver)==null||i.onConfigChange(),(o=this.sessionRecording)==null||o.startIfEnabledOrStop(),(c=this.autocapture)==null||c.startIfEnabled(),(d=this.heatmaps)==null||d.startIfEnabled(),(h=this.exceptionObserver)==null||h.startIfEnabledOrStop(),this.surveys.loadIfEnabled(),this.ps(),(m=this.externalIntegrations)==null||m.startIfEnabledOrStop()}}startSessionRecording(e){var t=e===!0,a={sampling:t||!(e==null||!e.sampling),linked_flag:t||!(e==null||!e.linked_flag),url_trigger:t||!(e==null||!e.url_trigger),event_trigger:t||!(e==null||!e.event_trigger)};if(Object.values(a).some(Boolean)){var i,o,c,d,h;(i=this.sessionManager)==null||i.checkAndGetSessionAndWindowId(),a.sampling&&((o=this.sessionRecording)==null||o.overrideSampling()),a.linked_flag&&((c=this.sessionRecording)==null||c.overrideLinkedFlag()),a.url_trigger&&((d=this.sessionRecording)==null||d.overrideTrigger("url")),a.event_trigger&&((h=this.sessionRecording)==null||h.overrideTrigger("event"))}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var e;return!((e=this.sessionRecording)==null||!e.started)}captureException(e,t){var a=new Error("PostHog syntheticException"),i=this.exceptions.buildProperties(e,{handled:!0,syntheticException:a});return this.exceptions.sendExceptionEvent(ae({},i,t))}startExceptionAutocapture(e){this.set_config({capture_exceptions:e==null||e})}stopExceptionAutocapture(){this.set_config({capture_exceptions:!1})}loadToolbar(e){return this.toolbar.loadToolbar(e)}get_property(e){var t;return(t=this.persistence)==null?void 0:t.props[e]}getSessionProperty(e){var t;return(t=this.sessionPersistence)==null?void 0:t.props[e]}toString(){var e,t=(e=this.config.name)!==null&&e!==void 0?e:Ua;return t!==Ua&&(t=Ua+"."+t),t}_isIdentified(){var e,t;return((e=this.persistence)==null?void 0:e.get_property(Vn))==="identified"||((t=this.sessionPersistence)==null?void 0:t.get_property(Vn))==="identified"}vs(){var e,t;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&Va(this.getGroups())&&((e=this.persistence)==null||(e=e.props)==null||!e[ai])&&((t=this.persistence)==null||(t=t.props)==null||!t[ml]))}us(){return this.config.capture_pageleave===!0||this.config.capture_pageleave==="if_capture_pageview"&&(this.config.capture_pageview===!0||this.config.capture_pageview==="history_change")}createPersonProfile(){this.vs()||this.cs("posthog.createPersonProfile")&&this.setPersonProperties({},{})}cs(e){return this.config.person_profiles==="never"?(Z.error(e+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this.fs(ml,!0),!0)}Yr(){if(this.config.cookieless_mode==="always")return!0;var e=this.consent.isOptedOut(),t=this.config.opt_out_persistence_by_default||this.config.cookieless_mode==="on_reject";return this.config.disable_persistence||e&&!!t}ps(){var e,t,a,i,o=this.Yr();return((e=this.persistence)==null?void 0:e.Si)!==o&&((a=this.persistence)==null||a.set_disabled(o)),((t=this.sessionPersistence)==null?void 0:t.Si)!==o&&((i=this.sessionPersistence)==null||i.set_disabled(o)),o}opt_in_capturing(e){var t;if(this.config.cookieless_mode!=="always"){var a,i,o;this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut()&&(this.reset(!0),(a=this.sessionManager)==null||a.destroy(),(i=this.pageViewManager)==null||i.destroy(),this.sessionManager=new hg(this),this.pageViewManager=new Qm(this),this.persistence&&(this.sessionPropsManager=new dg(this,this.sessionManager,this.persistence)),this.sessionRecording=new fg(this),this.sessionRecording.startIfEnabledOrStop()),this.consent.optInOut(!0),this.ps(),this.os(),(t=this.sessionRecording)==null||t.startIfEnabledOrStop(),this.config.cookieless_mode=="on_reject"&&this.surveys.loadIfEnabled(),(J(e==null?void 0:e.captureEventName)||e!=null&&e.captureEventName)&&this.capture((o=e==null?void 0:e.captureEventName)!==null&&o!==void 0?o:"$opt_in",e==null?void 0:e.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this.ls()}else Z.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}opt_out_capturing(){var e,t,a;this.config.cookieless_mode!=="always"?(this.config.cookieless_mode==="on_reject"&&this.consent.isOptedIn()&&this.reset(!0),this.consent.optInOut(!1),this.ps(),this.config.cookieless_mode==="on_reject"&&(this.register({distinct_id:Ws,$device_id:null}),(e=this.sessionManager)==null||e.destroy(),(t=this.pageViewManager)==null||t.destroy(),this.sessionManager=void 0,this.sessionPropsManager=void 0,(a=this.sessionRecording)==null||a.stopRecording(),this.sessionRecording=void 0,this.ls())):Z.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}get_explicit_consent_status(){var e=this.consent.consent;return e===Wn.GRANTED?"granted":e===Wn.DENIED?"denied":"pending"}is_capturing(){return this.config.cookieless_mode==="always"||(this.config.cookieless_mode==="on_reject"?this.consent.isExplicitlyOptedOut()||this.consent.isOptedIn():!this.has_opted_out_capturing())}clear_opt_in_out_capturing(){this.consent.reset(),this.ps()}_is_bot(){return Zt?y2(Zt,this.config.custom_blocked_useragents):void 0}ls(){ee&&(ee.visibilityState==="visible"?this.Br||(this.Br=!0,this.capture("$pageview",{title:ee.title},{send_instantly:!0}),this.qr&&(ee.removeEventListener("visibilitychange",this.qr),this.qr=null)):this.qr||(this.qr=this.ls.bind(this),dt(ee,"visibilitychange",this.qr)))}debug(e){e===!1?($==null||$.console.log("You've disabled debug mode."),this.set_config({debug:!1})):($==null||$.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),this.set_config({debug:!0}))}O(){var e,t,a,i,o,c,d,h=this.Jr||{};return"advanced_disable_flags"in h?!!h.advanced_disable_flags:this.config.advanced_disable_flags!==!1?!!this.config.advanced_disable_flags:this.config.advanced_disable_decide===!0?(Z.warn("Config field 'advanced_disable_decide' is deprecated. Please use 'advanced_disable_flags' instead. The old field will be removed in a future major version."),!0):(a="advanced_disable_decide",i=!1,o=Z,c=(t="advanced_disable_flags")in(e=h)&&!J(e[t]),d=a in e&&!J(e[a]),c?e[t]:d?(o&&o.warn("Config field '"+a+"' is deprecated. Please use '"+t+"' instead. The old field will be removed in a future major version."),e[a]):i)}ds(e){if(Be(this.config.before_send))return e;var t=$e(this.config.before_send)?this.config.before_send:[this.config.before_send],a=e;for(var i of t){if(a=i(a),Be(a)){var o="Event '"+e.event+"' was rejected in beforeSend function";return v_(e.event)?Z.warn(o+". This can cause unexpected behavior."):Z.info(o),null}a.properties&&!Va(a.properties)||Z.warn("Event '"+e.event+"' has no properties after beforeSend function, this is likely an error.")}return a}getPageViewId(){var e;return(e=this.pageViewManager.Kt)==null?void 0:e.pageViewId}captureTraceFeedback(e,t){this.capture("$ai_feedback",{$ai_trace_id:String(e),$ai_feedback_text:t})}captureTraceMetric(e,t,a){this.capture("$ai_metric",{$ai_trace_id:String(e),$ai_metric_name:t,$ai_metric_value:String(a)})}Vr(e){var t=Jn(e)&&!e,a=et.H()&&et.q("ph_debug")==="true";return!t&&(!!a||e)}}(function(n,e){for(var t=0;t<e.length;t++)n.prototype[e[t]]=Z_(n.prototype[e[t]])})(Nl,["identify"]);var vg;vg=mi[Ua]=new Nl,function(){function n(){n.done||(n.done=!0,_2=!1,We(mi,function(e){e._dom_loaded()}))}ee!=null&&ee.addEventListener?ee.readyState==="complete"?n():dt(ee,"DOMContentLoaded",n,{capture:!1}):$&&Z.error("Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized")}();/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Cw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=(n,e)=>{const t=L.forwardRef(({color:a="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:c,className:d="",children:h,...m},g)=>L.createElement("svg",{ref:g,...Cw,width:i,height:i,stroke:a,strokeWidth:c?Number(o)*24/Number(i):o,className:["lucide",`lucide-${Pw(n)}`,d].join(" "),...m},[...e.map(([v,_])=>L.createElement(v,_)),...Array.isArray(h)?h:[h]]));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=Ne("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=Ne("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=Ne("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=Ne("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=Ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=Ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=Ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=Ne("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=Ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=Ne("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=Ne("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=Ne("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=Ne("FolderKanban",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=Ne("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=Ne("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=Ne("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=Ne("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=Ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=Ne("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=Ne("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=Ne("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=Ne("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=Ne("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=Ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=Ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=Ne("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=Ne("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=Ne("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=Ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=Ne("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=Ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=Ne("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);class Et extends lv.Component{constructor(t){super(t);Tu(this,"handleReset",()=>{var t,a;this.setState({hasError:!1,error:null,errorInfo:null}),(a=(t=this.props).onReset)==null||a.call(t)});Tu(this,"handleGoHome",()=>{window.location.href="/dashboard"});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,a){this.setState({errorInfo:a}),console.error("ErrorBoundary caught an error:",t,a)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:x.jsx("div",{className:"min-h-[400px] flex items-center justify-center p-6","data-matrix-id":"src/components/ErrorBoundary.tsx:48:8","data-matrix-name":"div","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"48","data-component-file":"ErrorBoundary.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-h-%5B400px%5D%20flex%20items-center%20justify-center%20p-6%22%7D",children:x.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl border border-neutral-200 p-8 text-center shadow-sm","data-matrix-id":"src/components/ErrorBoundary.tsx:49:10","data-matrix-name":"div","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"49","data-component-file":"ErrorBoundary.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22max-w-md%20w-full%20bg-white%20rounded-2xl%20border%20border-neutral-200%20p-8%20text-center%20shadow-sm%22%7D",children:[x.jsx("div",{className:"w-16 h-16 mx-auto mb-6 rounded-full bg-red-50 flex items-center justify-center","data-matrix-id":"src/components/ErrorBoundary.tsx:50:12","data-matrix-name":"div","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"50","data-component-file":"ErrorBoundary.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-16%20h-16%20mx-auto%20mb-6%20rounded-full%20bg-red-50%20flex%20items-center%20justify-center%22%7D",children:x.jsx(k2,{className:"w-8 h-8 text-red-500","data-matrix-id":"src/components/ErrorBoundary.tsx:51:14","data-matrix-name":"AlertTriangle","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"51","data-component-file":"ErrorBoundary.tsx","data-component-name":"AlertTriangle","data-component-content":"%7B%22className%22%3A%22w-8%20h-8%20text-red-500%22%7D"})}),x.jsx("h2",{className:"text-xl font-semibold text-neutral-900 mb-2","data-matrix-id":"src/components/ErrorBoundary.tsx:54:12","data-matrix-name":"h2","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"54","data-component-file":"ErrorBoundary.tsx","data-component-name":"h2","data-component-content":"%7B%22className%22%3A%22text-xl%20font-semibold%20text-neutral-900%20mb-2%22%7D",children:"Something went wrong"}),x.jsx("p",{className:"text-neutral-600 mb-6","data-matrix-id":"src/components/ErrorBoundary.tsx:58:12","data-matrix-name":"p","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"58","data-component-file":"ErrorBoundary.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-neutral-600%20mb-6%22%7D",children:"We encountered an unexpected error. Please try refreshing the page or return to the dashboard."}),!1,x.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center","data-matrix-id":"src/components/ErrorBoundary.tsx:70:12","data-matrix-name":"div","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"70","data-component-file":"ErrorBoundary.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20flex-col%20sm%3Aflex-row%20gap-3%20justify-center%22%7D",children:[x.jsxs("button",{onClick:this.handleReset,className:"inline-flex items-center justify-center gap-2 px-4 py-2.5 bg-[#476E66] text-white rounded-xl hover:bg-[#3A5B54] transition-colors","data-matrix-id":"src/components/ErrorBoundary.tsx:71:14","data-matrix-name":"button","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"71","data-component-file":"ErrorBoundary.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BMemberExpression%5D%22%2C%22className%22%3A%22inline-flex%20items-center%20justify-center%20gap-2%20px-4%20py-2.5%20bg-%5B%23476E66%5D%20text-white%20rounded-xl%20hover%3Abg-%5B%233A5B54%5D%20transition-colors%22%7D",children:[x.jsx(zw,{className:"w-4 h-4","data-matrix-id":"src/components/ErrorBoundary.tsx:75:16","data-matrix-name":"RefreshCw","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"75","data-component-file":"ErrorBoundary.tsx","data-component-name":"RefreshCw","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"}),"Try Again"]}),x.jsxs("button",{onClick:this.handleGoHome,className:"inline-flex items-center justify-center gap-2 px-4 py-2.5 bg-neutral-100 text-neutral-700 rounded-xl hover:bg-neutral-200 transition-colors","data-matrix-id":"src/components/ErrorBoundary.tsx:78:14","data-matrix-name":"button","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"78","data-component-file":"ErrorBoundary.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BMemberExpression%5D%22%2C%22className%22%3A%22inline-flex%20items-center%20justify-center%20gap-2%20px-4%20py-2.5%20bg-neutral-100%20text-neutral-700%20rounded-xl%20hover%3Abg-neutral-200%20transition-colors%22%7D",children:[x.jsx(Dw,{className:"w-4 h-4","data-matrix-id":"src/components/ErrorBoundary.tsx:82:16","data-matrix-name":"Home","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"82","data-component-file":"ErrorBoundary.tsx","data-component-name":"Home","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"}),"Go to Dashboard"]})]})]})}):this.props.children}}function US({message:n,onDismiss:e,className:t=""}){return x.jsxs("div",{className:`flex items-center gap-3 p-4 bg-red-50 border border-red-200 rounded-xl text-red-700 ${t}`,"data-matrix-id":"src/components/ErrorBoundary.tsx:127:4","data-matrix-name":"div","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"127","data-component-file":"ErrorBoundary.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:[x.jsx(k2,{className:"w-5 h-5 flex-shrink-0","data-matrix-id":"src/components/ErrorBoundary.tsx:128:6","data-matrix-name":"AlertTriangle","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"128","data-component-file":"ErrorBoundary.tsx","data-component-name":"AlertTriangle","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20flex-shrink-0%22%7D"}),x.jsx("p",{className:"flex-1 text-sm","data-matrix-id":"src/components/ErrorBoundary.tsx:129:6","data-matrix-name":"p","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"129","data-component-file":"ErrorBoundary.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22flex-1%20text-sm%22%7D",children:n}),e&&x.jsxs("button",{onClick:e,className:"p-1 hover:bg-red-100 rounded transition-colors","data-matrix-id":"src/components/ErrorBoundary.tsx:131:8","data-matrix-name":"button","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"131","data-component-file":"ErrorBoundary.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22p-1%20hover%3Abg-red-100%20rounded%20transition-colors%22%7D",children:[x.jsx("span",{className:"sr-only","data-matrix-id":"src/components/ErrorBoundary.tsx:135:10","data-matrix-name":"span","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"135","data-component-file":"ErrorBoundary.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22sr-only%22%7D",children:"Dismiss"}),x.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","data-matrix-id":"src/components/ErrorBoundary.tsx:136:10","data-matrix-name":"svg","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"136","data-component-file":"ErrorBoundary.tsx","data-component-name":"svg","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%2C%22fill%22%3A%22none%22%2C%22stroke%22%3A%22currentColor%22%2C%22viewBox%22%3A%220%200%2024%2024%22%7D",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]})}function FS({message:n}){return n?x.jsx("p",{className:"mt-1 text-sm text-red-600","data-matrix-id":"src/components/ErrorBoundary.tsx:149:4","data-matrix-name":"p","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"149","data-component-file":"ErrorBoundary.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22mt-1%20text-sm%20text-red-600%22%7D",children:n}):null}const Gw="modulepreload",Jw=function(n){return"/"+n},Eg={},Fe=function(e,t,a){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));i=Promise.allSettled(t.map(h=>{if(h=Jw(h),h in Eg)return;Eg[h]=!0;const m=h.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const v=document.createElement("link");if(v.rel=m?"stylesheet":Gw,m||(v.as="script"),v.crossOrigin="",v.href=h,d&&v.setAttribute("nonce",d),document.head.appendChild(v),m)return new Promise((_,b)=>{v.addEventListener("load",_),v.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return i.then(c=>{for(const d of c||[])d.status==="rejected"&&o(d.reason);return e().catch(o)})};cv();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ei(){return Ei=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},Ei.apply(this,arguments)}var Cr;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Cr||(Cr={}));const kg="popstate";function Yw(n){n===void 0&&(n={});function e(a,i){let{pathname:o,search:c,hash:d}=a.location;return Md("",{pathname:o,search:c,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(a,i){return typeof i=="string"?i:kl(i)}return Xw(e,t,null,n)}function tt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function S2(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Qw(){return Math.random().toString(36).substr(2,8)}function Sg(n,e){return{usr:n.state,key:n.key,idx:e}}function Md(n,e,t,a){return t===void 0&&(t=null),Ei({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?rs(e):e,{state:t,key:e&&e.key||a||Qw()})}function kl(n){let{pathname:e="/",search:t="",hash:a=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),a&&a!=="#"&&(e+=a.charAt(0)==="#"?a:"#"+a),e}function rs(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let a=n.indexOf("?");a>=0&&(e.search=n.substr(a),n=n.substr(0,a)),n&&(e.pathname=n)}return e}function Xw(n,e,t,a){a===void 0&&(a={});let{window:i=document.defaultView,v5Compat:o=!1}=a,c=i.history,d=Cr.Pop,h=null,m=g();m==null&&(m=0,c.replaceState(Ei({},c.state,{idx:m}),""));function g(){return(c.state||{idx:null}).idx}function v(){d=Cr.Pop;let w=g(),A=w==null?null:w-m;m=w,h&&h({action:d,location:S.location,delta:A})}function _(w,A){d=Cr.Push;let R=Md(S.location,w,A);m=g()+1;let N=Sg(R,m),B=S.createHref(R);try{c.pushState(N,"",B)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(B)}o&&h&&h({action:d,location:S.location,delta:1})}function b(w,A){d=Cr.Replace;let R=Md(S.location,w,A);m=g();let N=Sg(R,m),B=S.createHref(R);c.replaceState(N,"",B),o&&h&&h({action:d,location:S.location,delta:0})}function E(w){let A=i.location.origin!=="null"?i.location.origin:i.location.href,R=typeof w=="string"?w:kl(w);return R=R.replace(/ $/,"%20"),tt(A,"No window.location.(origin|href) available to create URL for href: "+R),new URL(R,A)}let S={get action(){return d},get location(){return n(i,c)},listen(w){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(kg,v),h=w,()=>{i.removeEventListener(kg,v),h=null}},createHref(w){return e(i,w)},createURL:E,encodeLocation(w){let A=E(w);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:_,replace:b,go(w){return c.go(w)}};return S}var Ag;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Ag||(Ag={}));function Zw(n,e,t){return t===void 0&&(t="/"),eb(n,e,t)}function eb(n,e,t,a){let i=typeof e=="string"?rs(e):e,o=Za(i.pathname||"/",t);if(o==null)return null;let c=A2(n);tb(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let m=hb(o);d=ub(c[h],m)}return d}function A2(n,e,t,a){e===void 0&&(e=[]),t===void 0&&(t=[]),a===void 0&&(a="");let i=(o,c,d)=>{let h={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};h.relativePath.startsWith("/")&&(tt(h.relativePath.startsWith(a),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(a.length));let m=Lr([a,h.relativePath]),g=t.concat(h);o.children&&o.children.length>0&&(tt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),A2(o.children,e,g,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:lb(m,o.index),routesMeta:g})};return n.forEach((o,c)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))i(o,c);else for(let h of C2(o.path))i(o,c,h)}),e}function C2(n){let e=n.split("/");if(e.length===0)return[];let[t,...a]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(a.length===0)return i?[o,""]:[o];let c=C2(a.join("/")),d=[];return d.push(...c.map(h=>h===""?o:[o,h].join("/"))),i&&d.push(...c),d.map(h=>n.startsWith("/")&&h===""?"/":h)}function tb(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:cb(e.routesMeta.map(a=>a.childrenIndex),t.routesMeta.map(a=>a.childrenIndex)))}const nb=/^:[\w-]+$/,rb=3,ab=2,sb=1,ib=10,ob=-2,Cg=n=>n==="*";function lb(n,e){let t=n.split("/"),a=t.length;return t.some(Cg)&&(a+=ob),e&&(a+=ab),t.filter(i=>!Cg(i)).reduce((i,o)=>i+(nb.test(o)?rb:o===""?sb:ib),a)}function cb(n,e){return n.length===e.length&&n.slice(0,-1).every((a,i)=>a===e[i])?n[n.length-1]-e[e.length-1]:0}function ub(n,e,t){let{routesMeta:a}=n,i={},o="/",c=[];for(let d=0;d<a.length;++d){let h=a[d],m=d===a.length-1,g=o==="/"?e:e.slice(o.length)||"/",v=Ud({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},g),_=h.route;if(!v)return null;Object.assign(i,v.params),c.push({params:i,pathname:Lr([o,v.pathname]),pathnameBase:gb(Lr([o,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(o=Lr([o,v.pathnameBase]))}return c}function Ud(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,a]=db(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],c=o.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:a.reduce((m,g,v)=>{let{paramName:_,isOptional:b}=g;if(_==="*"){let S=d[v]||"";c=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const E=d[v];return b&&!E?m[_]=void 0:m[_]=(E||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:n}}function db(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),S2(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let a=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(a.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(a.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),a]}function hb(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return S2(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Za(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,a=n.charAt(t);return a&&a!=="/"?null:n.slice(t)||"/"}function pb(n,e){e===void 0&&(e="/");let{pathname:t,search:a="",hash:i=""}=typeof n=="string"?rs(n):n;return{pathname:t?t.startsWith("/")?t:fb(t,e):e,search:vb(a),hash:yb(i)}}function fb(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Zu(n,e,t,a){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mb(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function fh(n,e){let t=mb(n);return e?t.map((a,i)=>i===t.length-1?a.pathname:a.pathnameBase):t.map(a=>a.pathnameBase)}function mh(n,e,t,a){a===void 0&&(a=!1);let i;typeof n=="string"?i=rs(n):(i=Ei({},n),tt(!i.pathname||!i.pathname.includes("?"),Zu("?","pathname","search",i)),tt(!i.pathname||!i.pathname.includes("#"),Zu("#","pathname","hash",i)),tt(!i.search||!i.search.includes("#"),Zu("#","search","hash",i)));let o=n===""||i.pathname==="",c=o?"/":i.pathname,d;if(c==null)d=t;else{let v=e.length-1;if(!a&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),v-=1;i.pathname=_.join("/")}d=v>=0?e[v]:"/"}let h=pb(i,d),m=c&&c!=="/"&&c.endsWith("/"),g=(o||c===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(m||g)&&(h.pathname+="/"),h}const Lr=n=>n.join("/").replace(/\/\/+/g,"/"),gb=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),vb=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,yb=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function _b(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const P2=["post","put","patch","delete"];new Set(P2);const xb=["get",...P2];new Set(xb);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ki(){return ki=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},ki.apply(this,arguments)}const jl=L.createContext(null),T2=L.createContext(null),Yn=L.createContext(null),Il=L.createContext(null),Rn=L.createContext({outlet:null,matches:[],isDataRoute:!1}),R2=L.createContext(null);function wb(n,e){let{relative:t}=e===void 0?{}:e;as()||tt(!1);let{basename:a,navigator:i}=L.useContext(Yn),{hash:o,pathname:c,search:d}=Bl(n,{relative:t}),h=c;return a!=="/"&&(h=c==="/"?a:Lr([a,c])),i.createHref({pathname:h,search:d,hash:o})}function as(){return L.useContext(Il)!=null}function Or(){return as()||tt(!1),L.useContext(Il).location}function L2(n){L.useContext(Yn).static||L.useLayoutEffect(n)}function Dl(){let{isDataRoute:n}=L.useContext(Rn);return n?Db():bb()}function bb(){as()||tt(!1);let n=L.useContext(jl),{basename:e,future:t,navigator:a}=L.useContext(Yn),{matches:i}=L.useContext(Rn),{pathname:o}=Or(),c=JSON.stringify(fh(i,t.v7_relativeSplatPath)),d=L.useRef(!1);return L2(()=>{d.current=!0}),L.useCallback(function(m,g){if(g===void 0&&(g={}),!d.current)return;if(typeof m=="number"){a.go(m);return}let v=mh(m,JSON.parse(c),o,g.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Lr([e,v.pathname])),(g.replace?a.replace:a.push)(v,g.state,g)},[e,a,c,o,n])}const Eb=L.createContext(null);function kb(n){let e=L.useContext(Rn).outlet;return e&&L.createElement(Eb.Provider,{value:n},e)}function qS(){let{matches:n}=L.useContext(Rn),e=n[n.length-1];return e?e.params:{}}function Bl(n,e){let{relative:t}=e===void 0?{}:e,{future:a}=L.useContext(Yn),{matches:i}=L.useContext(Rn),{pathname:o}=Or(),c=JSON.stringify(fh(i,a.v7_relativeSplatPath));return L.useMemo(()=>mh(n,JSON.parse(c),o,t==="path"),[n,c,o,t])}function Sb(n,e){return Ab(n,e)}function Ab(n,e,t,a){as()||tt(!1);let{navigator:i,static:o}=L.useContext(Yn),{matches:c}=L.useContext(Rn),d=c[c.length-1],h=d?d.params:{};d&&d.pathname;let m=d?d.pathnameBase:"/";d&&d.route;let g=Or(),v;if(e){var _;let A=typeof e=="string"?rs(e):e;m==="/"||(_=A.pathname)!=null&&_.startsWith(m)||tt(!1),v=A}else v=g;let b=v.pathname||"/",E=b;if(m!=="/"){let A=m.replace(/^\//,"").split("/");E="/"+b.replace(/^\//,"").split("/").slice(A.length).join("/")}let S=Zw(n,{pathname:E}),w=Lb(S&&S.map(A=>Object.assign({},A,{params:Object.assign({},h,A.params),pathname:Lr([m,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?m:Lr([m,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),c,t,a);return e&&w?L.createElement(Il.Provider,{value:{location:ki({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:Cr.Pop}},w):w}function Cb(){let n=Ib(),e=_b(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),t?L.createElement("pre",{style:i},t):null,null)}const Pb=L.createElement(Cb,null);class Tb extends L.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?L.createElement(Rn.Provider,{value:this.props.routeContext},L.createElement(R2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Rb(n){let{routeContext:e,match:t,children:a}=n,i=L.useContext(jl);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),L.createElement(Rn.Provider,{value:e},a)}function Lb(n,e,t,a){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),a===void 0&&(a=null),n==null){var o;if(!t)return null;if(t.errors)n=t.matches;else if((o=a)!=null&&o.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let c=n,d=(i=t)==null?void 0:i.errors;if(d!=null){let g=c.findIndex(v=>v.route.id&&(d==null?void 0:d[v.route.id])!==void 0);g>=0||tt(!1),c=c.slice(0,Math.min(c.length,g+1))}let h=!1,m=-1;if(t&&a&&a.v7_partialHydration)for(let g=0;g<c.length;g++){let v=c[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=g),v.route.id){let{loaderData:_,errors:b}=t,E=v.route.loader&&_[v.route.id]===void 0&&(!b||b[v.route.id]===void 0);if(v.route.lazy||E){h=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}return c.reduceRight((g,v,_)=>{let b,E=!1,S=null,w=null;t&&(b=d&&v.route.id?d[v.route.id]:void 0,S=v.route.errorElement||Pb,h&&(m<0&&_===0?(Bb("route-fallback"),E=!0,w=null):m===_&&(E=!0,w=v.route.hydrateFallbackElement||null)));let A=e.concat(c.slice(0,_+1)),R=()=>{let N;return b?N=S:E?N=w:v.route.Component?N=L.createElement(v.route.Component,null):v.route.element?N=v.route.element:N=g,L.createElement(Rb,{match:v,routeContext:{outlet:g,matches:A,isDataRoute:t!=null},children:N})};return t&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?L.createElement(Tb,{location:t.location,revalidation:t.revalidation,component:S,error:b,children:R(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):R()},null)}var O2=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(O2||{}),N2=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(N2||{});function Ob(n){let e=L.useContext(jl);return e||tt(!1),e}function Nb(n){let e=L.useContext(T2);return e||tt(!1),e}function jb(n){let e=L.useContext(Rn);return e||tt(!1),e}function j2(n){let e=jb(),t=e.matches[e.matches.length-1];return t.route.id||tt(!1),t.route.id}function Ib(){var n;let e=L.useContext(R2),t=Nb(),a=j2();return e!==void 0?e:(n=t.errors)==null?void 0:n[a]}function Db(){let{router:n}=Ob(O2.UseNavigateStable),e=j2(N2.UseNavigateStable),t=L.useRef(!1);return L2(()=>{t.current=!0}),L.useCallback(function(i,o){o===void 0&&(o={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,ki({fromRouteId:e},o)))},[n,e])}const Pg={};function Bb(n,e,t){Pg[n]||(Pg[n]=!0)}function $b(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function hi(n){let{to:e,replace:t,state:a,relative:i}=n;as()||tt(!1);let{future:o,static:c}=L.useContext(Yn),{matches:d}=L.useContext(Rn),{pathname:h}=Or(),m=Dl(),g=mh(e,fh(d,o.v7_relativeSplatPath),h,i==="path"),v=JSON.stringify(g);return L.useEffect(()=>m(JSON.parse(v),{replace:t,state:a,relative:i}),[m,v,i,t,a]),null}function Mb(n){return kb(n.context)}function Ue(n){tt(!1)}function Ub(n){let{basename:e="/",children:t=null,location:a,navigationType:i=Cr.Pop,navigator:o,static:c=!1,future:d}=n;as()&&tt(!1);let h=e.replace(/^\/*/,"/"),m=L.useMemo(()=>({basename:h,navigator:o,static:c,future:ki({v7_relativeSplatPath:!1},d)}),[h,d,o,c]);typeof a=="string"&&(a=rs(a));let{pathname:g="/",search:v="",hash:_="",state:b=null,key:E="default"}=a,S=L.useMemo(()=>{let w=Za(g,h);return w==null?null:{location:{pathname:w,search:v,hash:_,state:b,key:E},navigationType:i}},[h,g,v,_,b,E,i]);return S==null?null:L.createElement(Yn.Provider,{value:m},L.createElement(Il.Provider,{children:t,value:S}))}function Fb(n){let{children:e,location:t}=n;return Sb(Fd(e),t)}new Promise(()=>{});function Fd(n,e){e===void 0&&(e=[]);let t=[];return L.Children.forEach(n,(a,i)=>{if(!L.isValidElement(a))return;let o=[...e,i];if(a.type===L.Fragment){t.push.apply(t,Fd(a.props.children,o));return}a.type!==Ue&&tt(!1),!a.props.index||!a.props.children||tt(!1);let c={id:a.props.id||o.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=Fd(a.props.children,o)),t.push(c)}),t}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sl(){return Sl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},Sl.apply(this,arguments)}function I2(n,e){if(n==null)return{};var t={},a=Object.keys(n),i,o;for(o=0;o<a.length;o++)i=a[o],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function qb(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function zb(n,e){return n.button===0&&(!e||e==="_self")&&!qb(n)}function qd(n){return n===void 0&&(n=""),new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let a=n[t];return e.concat(Array.isArray(a)?a.map(i=>[t,i]):[[t,a]])},[]))}function Vb(n,e){let t=qd(n);return e&&e.forEach((a,i)=>{t.has(i)||e.getAll(i).forEach(o=>{t.append(i,o)})}),t}const Wb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Hb=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Kb="6";try{window.__reactRouterVersion=Kb}catch{}const Gb=L.createContext({isTransitioning:!1}),Jb="startTransition",Tg=o_[Jb];function Yb(n){let{basename:e,children:t,future:a,window:i}=n,o=L.useRef();o.current==null&&(o.current=Yw({window:i,v5Compat:!0}));let c=o.current,[d,h]=L.useState({action:c.action,location:c.location}),{v7_startTransition:m}=a||{},g=L.useCallback(v=>{m&&Tg?Tg(()=>h(v)):h(v)},[h,m]);return L.useLayoutEffect(()=>c.listen(g),[c,g]),L.useEffect(()=>$b(a),[a]),L.createElement(Ub,{basename:e,children:t,location:d.location,navigationType:d.action,navigator:c,future:a})}const Qb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Xb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,D2=L.forwardRef(function(e,t){let{onClick:a,relative:i,reloadDocument:o,replace:c,state:d,target:h,to:m,preventScrollReset:g,viewTransition:v}=e,_=I2(e,Wb),{basename:b}=L.useContext(Yn),E,S=!1;if(typeof m=="string"&&Xb.test(m)&&(E=m,Qb))try{let N=new URL(window.location.href),B=m.startsWith("//")?new URL(N.protocol+m):new URL(m),U=Za(B.pathname,b);B.origin===N.origin&&U!=null?m=U+B.search+B.hash:S=!0}catch{}let w=wb(m,{relative:i}),A=e1(m,{replace:c,state:d,target:h,preventScrollReset:g,relative:i,viewTransition:v});function R(N){a&&a(N),N.defaultPrevented||A(N)}return L.createElement("a",Sl({},_,{href:E||w,onClick:S||o?a:R,ref:t,target:h}))}),ed=L.forwardRef(function(e,t){let{"aria-current":a="page",caseSensitive:i=!1,className:o="",end:c=!1,style:d,to:h,viewTransition:m,children:g}=e,v=I2(e,Hb),_=Bl(h,{relative:v.relative}),b=Or(),E=L.useContext(T2),{navigator:S,basename:w}=L.useContext(Yn),A=E!=null&&t1(_)&&m===!0,R=S.encodeLocation?S.encodeLocation(_).pathname:_.pathname,N=b.pathname,B=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;i||(N=N.toLowerCase(),B=B?B.toLowerCase():null,R=R.toLowerCase()),B&&w&&(B=Za(B,w)||B);const U=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let K=N===R||!c&&N.startsWith(R)&&N.charAt(U)==="/",Q=B!=null&&(B===R||!c&&B.startsWith(R)&&B.charAt(R.length)==="/"),F={isActive:K,isPending:Q,isTransitioning:A},X=K?a:void 0,ne;typeof o=="function"?ne=o(F):ne=[o,K?"active":null,Q?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let fe=typeof d=="function"?d(F):d;return L.createElement(D2,Sl({},v,{"aria-current":X,className:ne,ref:t,style:fe,to:h,viewTransition:m}),typeof g=="function"?g(F):g)});var zd;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(zd||(zd={}));var Rg;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(Rg||(Rg={}));function Zb(n){let e=L.useContext(jl);return e||tt(!1),e}function e1(n,e){let{target:t,replace:a,state:i,preventScrollReset:o,relative:c,viewTransition:d}=e===void 0?{}:e,h=Dl(),m=Or(),g=Bl(n,{relative:c});return L.useCallback(v=>{if(zb(v,t)){v.preventDefault();let _=a!==void 0?a:kl(m)===kl(g);h(n,{replace:_,state:i,preventScrollReset:o,relative:c,viewTransition:d})}},[m,h,g,a,i,t,n,o,c,d])}function zS(n){let e=L.useRef(qd(n)),t=L.useRef(!1),a=Or(),i=L.useMemo(()=>Vb(a.search,t.current?null:e.current),[a.search]),o=Dl(),c=L.useCallback((d,h)=>{const m=qd(typeof d=="function"?d(i):d);t.current=!0,o("?"+m,h)},[o,i]);return[i,c]}function t1(n,e){e===void 0&&(e={});let t=L.useContext(Gb);t==null&&tt(!1);let{basename:a}=Zb(zd.useViewTransitionState),i=Bl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Za(t.currentLocation.pathname,a)||t.currentLocation.pathname,c=Za(t.nextLocation.pathname,a)||t.nextLocation.pathname;return Ud(i.pathname,c)!=null||Ud(i.pathname,o)!=null}function $l(n,e){var t={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&e.indexOf(a)<0&&(t[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(n);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(n,a[i])&&(t[a[i]]=n[a[i]]);return t}function n1(n,e,t,a){function i(o){return o instanceof t?o:new t(function(c){c(o)})}return new(t||(t=Promise))(function(o,c){function d(g){try{m(a.next(g))}catch(v){c(v)}}function h(g){try{m(a.throw(g))}catch(v){c(v)}}function m(g){g.done?o(g.value):i(g.value).then(d,h)}m((a=a.apply(n,e||[])).next())})}const r1=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);class gh extends Error{constructor(e,t="FunctionsError",a){super(e),this.name=t,this.context=a}}class a1 extends gh{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Lg extends gh{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Og extends gh{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Vd;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Vd||(Vd={}));class s1{constructor(e,{headers:t={},customFetch:a,region:i=Vd.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=r1(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return n1(this,arguments,void 0,function*(t,a={}){var i;let o,c;try{const{headers:d,method:h,body:m,signal:g,timeout:v}=a;let _={},{region:b}=a;b||(b=this.region);const E=new URL(`${this.url}/${t}`);b&&b!=="any"&&(_["x-region"]=b,E.searchParams.set("forceFunctionRegion",b));let S;m&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",S=m):typeof m=="string"?(_["Content-Type"]="text/plain",S=m):typeof FormData<"u"&&m instanceof FormData?S=m:(_["Content-Type"]="application/json",S=JSON.stringify(m)):S=m;let w=g;v&&(c=new AbortController,o=setTimeout(()=>c.abort(),v),g?(w=c.signal,g.addEventListener("abort",()=>c.abort())):w=c.signal);const A=yield this.fetch(E.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),d),body:S,signal:w}).catch(U=>{throw new a1(U)}),R=A.headers.get("x-relay-error");if(R&&R==="true")throw new Lg(A);if(!A.ok)throw new Og(A);let N=((i=A.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),B;return N==="application/json"?B=yield A.json():N==="application/octet-stream"||N==="application/pdf"?B=yield A.blob():N==="text/event-stream"?B=A:N==="multipart/form-data"?B=yield A.formData():B=yield A.text(),{data:B,error:null,response:A}}catch(d){return{data:null,error:d,response:d instanceof Og||d instanceof Lg?d.context:void 0}}finally{o&&clearTimeout(o)}})}}var i1=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},o1=class{constructor(n){var e,t;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(e=n.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=n.signal,this.isMaybeSingle=(t=n.isMaybeSingle)!==null&&t!==void 0?t:!1,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,e){return this.headers=new Headers(this.headers),this.headers.set(n,e),this}then(n,e){var t=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let i=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let c=null,d=null,h=null,m=o.status,g=o.statusText;if(o.ok){var v,_;if(t.method!=="HEAD"){var b;const A=await o.text();A===""||(t.headers.get("Accept")==="text/csv"||t.headers.get("Accept")&&(!((b=t.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?d=A:d=JSON.parse(A))}const S=(v=t.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),w=(_=o.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");S&&w&&w.length>1&&(h=parseInt(w[1])),t.isMaybeSingle&&t.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,m=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{var E;const S=await o.text();try{c=JSON.parse(S),Array.isArray(c)&&o.status===404&&(d=[],c=null,m=200,g="OK")}catch{o.status===404&&S===""?(m=204,g="No Content"):c={message:S}}if(c&&t.isMaybeSingle&&(!(c==null||(E=c.details)===null||E===void 0)&&E.includes("0 rows"))&&(c=null,m=200,g="OK"),c&&t.shouldThrowOnError)throw new i1(c)}return{error:c,data:d,count:h,status:m,statusText:g}});return this.shouldThrowOnError||(i=i.catch(o=>{var c;let d="";const h=o==null?void 0:o.cause;if(h){var m,g,v,_;const E=(m=h==null?void 0:h.message)!==null&&m!==void 0?m:"",S=(g=h==null?void 0:h.code)!==null&&g!==void 0?g:"";d=`${(v=o==null?void 0:o.name)!==null&&v!==void 0?v:"FetchError"}: ${o==null?void 0:o.message}`,d+=`

Caused by: ${(_=h==null?void 0:h.name)!==null&&_!==void 0?_:"Error"}: ${E}`,S&&(d+=` (${S})`),h!=null&&h.stack&&(d+=`
${h.stack}`)}else{var b;d=(b=o==null?void 0:o.stack)!==null&&b!==void 0?b:""}return{error:{message:`${(c=o==null?void 0:o.name)!==null&&c!==void 0?c:"FetchError"}: ${o==null?void 0:o.message}`,details:d,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(n,e)}returns(){return this}overrideTypes(){return this}},l1=class extends o1{select(n){let e=!1;const t=(n??"*").split("").map(a=>/\s/.test(a)&&!e?"":(a==='"'&&(e=!e),a)).join("");return this.url.searchParams.set("select",t),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:e=!0,nullsFirst:t,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",c=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${c?`${c},`:""}${n}.${e?"asc":"desc"}${t===void 0?"":t?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:e,referencedTable:t=e}={}){const a=typeof t>"u"?"limit":`${t}.limit`;return this.url.searchParams.set(a,`${n}`),this}range(n,e,{foreignTable:t,referencedTable:a=t}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${n}`),this.url.searchParams.set(o,`${e-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:e=!1,settings:t=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var c;const d=[n?"analyze":null,e?"verbose":null,t?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${h}"; options=${d};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const Ng=new RegExp("[,()]");var Fa=class extends l1{eq(n,e){return this.url.searchParams.append(n,`eq.${e}`),this}neq(n,e){return this.url.searchParams.append(n,`neq.${e}`),this}gt(n,e){return this.url.searchParams.append(n,`gt.${e}`),this}gte(n,e){return this.url.searchParams.append(n,`gte.${e}`),this}lt(n,e){return this.url.searchParams.append(n,`lt.${e}`),this}lte(n,e){return this.url.searchParams.append(n,`lte.${e}`),this}like(n,e){return this.url.searchParams.append(n,`like.${e}`),this}likeAllOf(n,e){return this.url.searchParams.append(n,`like(all).{${e.join(",")}}`),this}likeAnyOf(n,e){return this.url.searchParams.append(n,`like(any).{${e.join(",")}}`),this}ilike(n,e){return this.url.searchParams.append(n,`ilike.${e}`),this}ilikeAllOf(n,e){return this.url.searchParams.append(n,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(n,e){return this.url.searchParams.append(n,`ilike(any).{${e.join(",")}}`),this}regexMatch(n,e){return this.url.searchParams.append(n,`match.${e}`),this}regexIMatch(n,e){return this.url.searchParams.append(n,`imatch.${e}`),this}is(n,e){return this.url.searchParams.append(n,`is.${e}`),this}isDistinct(n,e){return this.url.searchParams.append(n,`isdistinct.${e}`),this}in(n,e){const t=Array.from(new Set(e)).map(a=>typeof a=="string"&&Ng.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(n,`in.(${t})`),this}notIn(n,e){const t=Array.from(new Set(e)).map(a=>typeof a=="string"&&Ng.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(n,`not.in.(${t})`),this}contains(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cs.{${e.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(e)}`),this}containedBy(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cd.{${e.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(e)}`),this}rangeGt(n,e){return this.url.searchParams.append(n,`sr.${e}`),this}rangeGte(n,e){return this.url.searchParams.append(n,`nxl.${e}`),this}rangeLt(n,e){return this.url.searchParams.append(n,`sl.${e}`),this}rangeLte(n,e){return this.url.searchParams.append(n,`nxr.${e}`),this}rangeAdjacent(n,e){return this.url.searchParams.append(n,`adj.${e}`),this}overlaps(n,e){return typeof e=="string"?this.url.searchParams.append(n,`ov.${e}`):this.url.searchParams.append(n,`ov.{${e.join(",")}}`),this}textSearch(n,e,{config:t,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=t===void 0?"":`(${t})`;return this.url.searchParams.append(n,`${i}fts${o}.${e}`),this}match(n){return Object.entries(n).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(n,e,t){return this.url.searchParams.append(n,`not.${e}.${t}`),this}or(n,{foreignTable:e,referencedTable:t=e}={}){const a=t?`${t}.or`:"or";return this.url.searchParams.append(a,`(${n})`),this}filter(n,e,t){return this.url.searchParams.append(n,`${e}.${t}`),this}},c1=class{constructor(n,{headers:e={},schema:t,fetch:a}){this.url=n,this.headers=new Headers(e),this.schema=t,this.fetch=a}select(n,e){const{head:t=!1,count:a}=e??{},i=t?"HEAD":"GET";let o=!1;const c=(n??"*").split("").map(d=>/\s/.test(d)&&!o?"":(d==='"'&&(o=!o),d)).join("");return this.url.searchParams.set("select",c),a&&this.headers.append("Prefer",`count=${a}`),new Fa({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(n,{count:e,defaultToNull:t=!0}={}){var a;const i="POST";if(e&&this.headers.append("Prefer",`count=${e}`),t||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const o=n.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(o.length>0){const c=[...new Set(o)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Fa({method:i,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(n,{onConflict:e,ignoreDuplicates:t=!1,count:a,defaultToNull:i=!0}={}){var o;const c="POST";if(this.headers.append("Prefer",`resolution=${t?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),a&&this.headers.append("Prefer",`count=${a}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const d=n.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(d.length>0){const h=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new Fa({method:c,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(n,{count:e}={}){var t;const a="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new Fa({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}delete({count:n}={}){var e;const t="DELETE";return n&&this.headers.append("Prefer",`count=${n}`),new Fa({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},u1=class B2{constructor(e,{headers:t={},schema:a,fetch:i}={}){this.url=e,this.headers=new Headers(t),this.schemaName=a,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new c1(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new B2(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:a=!1,get:i=!1,count:o}={}){var c;let d;const h=new URL(`${this.url}/rpc/${e}`);let m;a||i?(d=a?"HEAD":"GET",Object.entries(t).filter(([v,_])=>_!==void 0).map(([v,_])=>[v,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([v,_])=>{h.searchParams.append(v,_)})):(d="POST",m=t);const g=new Headers(this.headers);return o&&g.set("Prefer",`count=${o}`),new Fa({method:d,url:h,headers:g,schema:this.schemaName,body:m,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};class d1{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const a=t.node,i=parseInt(a.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const a=this.getWebSocketConstructor();return new a(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const h1="2.89.0",p1=`realtime-js/${h1}`,$2="1.0.0",f1="2.0.0",jg=$2,Wd=1e4,m1=1e3,g1=100;var kr;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(kr||(kr={}));var ft;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(ft||(ft={}));var _n;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(_n||(_n={}));var Hd;(function(n){n.websocket="websocket"})(Hd||(Hd={}));var ea;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(ea||(ea={}));class v1{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(e));let a=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer((t=e.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,a;const i=(a=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var t,a;const i=(a=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&a!==void 0?a:{},c=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,t,a){var i,o;const c=e.topic,d=(i=e.ref)!==null&&i!==void 0?i:"",h=(o=e.join_ref)!==null&&o!==void 0?o:"",m=e.payload.event,g=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},v=Object.keys(g).length===0?"":JSON.stringify(g);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+d.length+c.length+m.length+v.length,b=new ArrayBuffer(this.HEADER_LENGTH+_);let E=new DataView(b),S=0;E.setUint8(S++,this.KINDS.userBroadcastPush),E.setUint8(S++,h.length),E.setUint8(S++,d.length),E.setUint8(S++,c.length),E.setUint8(S++,m.length),E.setUint8(S++,v.length),E.setUint8(S++,t),Array.from(h,A=>E.setUint8(S++,A.charCodeAt(0))),Array.from(d,A=>E.setUint8(S++,A.charCodeAt(0))),Array.from(c,A=>E.setUint8(S++,A.charCodeAt(0))),Array.from(m,A=>E.setUint8(S++,A.charCodeAt(0))),Array.from(v,A=>E.setUint8(S++,A.charCodeAt(0)));var w=new Uint8Array(b.byteLength+a.byteLength);return w.set(new Uint8Array(b),0),w.set(new Uint8Array(a),b.byteLength),w.buffer}decode(e,t){if(this._isArrayBuffer(e)){let a=this._binaryDecode(e);return t(a)}if(typeof e=="string"){const a=JSON.parse(e),[i,o,c,d,h]=a;return t({join_ref:i,ref:o,topic:c,event:d,payload:h})}return t({})}_binaryDecode(e){const t=new DataView(e),a=t.getUint8(0),i=new TextDecoder;switch(a){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,t,i)}}_decodeUserBroadcast(e,t,a){const i=t.getUint8(1),o=t.getUint8(2),c=t.getUint8(3),d=t.getUint8(4);let h=this.HEADER_LENGTH+4;const m=a.decode(e.slice(h,h+i));h=h+i;const g=a.decode(e.slice(h,h+o));h=h+o;const v=a.decode(e.slice(h,h+c));h=h+c;const _=e.slice(h,e.byteLength),b=d===this.JSON_ENCODING?JSON.parse(a.decode(_)):_,E={type:this.BROADCAST_EVENT,event:g,payload:b};return c>0&&(E.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:E}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||((t=e==null?void 0:e.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}_pick(e,t){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([a])=>t.includes(a)))}}class M2{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ve;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Ve||(Ve={}));const Ig=(n,e,t={})=>{var a;const i=(a=t.skipTypes)!==null&&a!==void 0?a:[];return e?Object.keys(e).reduce((o,c)=>(o[c]=y1(c,n,e,i),o),{}):{}},y1=(n,e,t,a)=>{const i=e.find(d=>d.name===n),o=i==null?void 0:i.type,c=t[n];return o&&!a.includes(o)?U2(o,c):Kd(c)},U2=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return b1(e,t)}switch(n){case Ve.bool:return _1(e);case Ve.float4:case Ve.float8:case Ve.int2:case Ve.int4:case Ve.int8:case Ve.numeric:case Ve.oid:return x1(e);case Ve.json:case Ve.jsonb:return w1(e);case Ve.timestamp:return E1(e);case Ve.abstime:case Ve.date:case Ve.daterange:case Ve.int4range:case Ve.int8range:case Ve.money:case Ve.reltime:case Ve.text:case Ve.time:case Ve.timestamptz:case Ve.timetz:case Ve.tsrange:case Ve.tstzrange:return Kd(e);default:return Kd(e)}},Kd=n=>n,_1=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},x1=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},w1=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},b1=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,a=n[t];if(n[0]==="{"&&a==="}"){let o;const c=n.slice(1,t);try{o=JSON.parse("["+c+"]")}catch{o=c?c.split(","):[]}return o.map(d=>U2(e,d))}return n},E1=n=>typeof n=="string"?n.replace(" ","T"):n,F2=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class td{constructor(e,t,a={},i=Wd){this.channel=e,this.event=t,this.payload=a,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var a;return this._hasReceived(e)&&t((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Dg;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Dg||(Dg={}));class gi{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},i=>{const{onJoin:o,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=gi.syncState(this.state,i,o,c),this.pendingDiffs.forEach(h=>{this.state=gi.syncDiff(this.state,h,o,c)}),this.pendingDiffs=[],d()}),this.channel._on(a.diff,{},i=>{const{onJoin:o,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=gi.syncDiff(this.state,i,o,c),d())}),this.onJoin((i,o,c)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:c})}),this.onLeave((i,o,c)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,a,i){const o=this.cloneDeep(e),c=this.transformState(t),d={},h={};return this.map(o,(m,g)=>{c[m]||(h[m]=g)}),this.map(c,(m,g)=>{const v=o[m];if(v){const _=g.map(w=>w.presence_ref),b=v.map(w=>w.presence_ref),E=g.filter(w=>b.indexOf(w.presence_ref)<0),S=v.filter(w=>_.indexOf(w.presence_ref)<0);E.length>0&&(d[m]=E),S.length>0&&(h[m]=S)}else d[m]=g}),this.syncDiff(o,{joins:d,leaves:h},a,i)}static syncDiff(e,t,a,i){const{joins:o,leaves:c}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return a||(a=()=>{}),i||(i=()=>{}),this.map(o,(d,h)=>{var m;const g=(m=e[d])!==null&&m!==void 0?m:[];if(e[d]=this.cloneDeep(h),g.length>0){const v=e[d].map(b=>b.presence_ref),_=g.filter(b=>v.indexOf(b.presence_ref)<0);e[d].unshift(..._)}a(d,g,h)}),this.map(c,(d,h)=>{let m=e[d];if(!m)return;const g=h.map(v=>v.presence_ref);m=m.filter(v=>g.indexOf(v.presence_ref)<0),e[d]=m,i(d,m,h),m.length===0&&delete e[d]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(a=>t(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,a)=>{const i=e[a];return"metas"in i?t[a]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[a]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Bg;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Bg||(Bg={}));var vi;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(vi||(vi={}));var Hn;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Hn||(Hn={}));class Ha{constructor(e,t={config:{}},a){var i,o;if(this.topic=e,this.params=t,this.socket=a,this.bindings={},this.state=ft.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new td(this,_n.join,this.params,this.timeout),this.rejoinTimer=new M2(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ft.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ft.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this._on(_n.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new gi(this),this.broadcastEndpointURL=F2(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var a,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==ft.closed){const{config:{broadcast:c,presence:d,private:h}}=this.params,m=(i=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(b=>b.filter))!==null&&i!==void 0?i:[],g=!!this.bindings[vi.PRESENCE]&&this.bindings[vi.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,v={},_={broadcast:c,presence:Object.assign(Object.assign({},d),{enabled:g}),postgres_changes:m,private:h};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(b=>e==null?void 0:e(Hn.CHANNEL_ERROR,b)),this._onClose(()=>e==null?void 0:e(Hn.CLOSED)),this.updateJoinPayload(Object.assign({config:_},v)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:b})=>{var E;if(this.socket._isManualToken()||this.socket.setAuth(),b===void 0){e==null||e(Hn.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,w=(E=S==null?void 0:S.length)!==null&&E!==void 0?E:0,A=[];for(let R=0;R<w;R++){const N=S[R],{filter:{event:B,schema:U,table:K,filter:Q}}=N,F=b&&b[R];if(F&&F.event===B&&Ha.isFilterValueEqual(F.schema,U)&&Ha.isFilterValueEqual(F.table,K)&&Ha.isFilterValueEqual(F.filter,Q))A.push(Object.assign(Object.assign({},N),{id:F.id}));else{this.unsubscribe(),this.state=ft.errored,e==null||e(Hn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,e&&e(Hn.SUBSCRIBED);return}}).receive("error",b=>{this.state=ft.errored,e==null||e(Hn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Hn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,a){return this.state===ft.joined&&e===vi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,a)}async httpSend(e,t,a={}){var i;if(t==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=a.timeout)!==null&&i!==void 0?i:this.timeout);if(d.status===202)return{success:!0};let h=d.statusText;try{const m=await d.json();h=m.error||m.message||h}catch{}return Promise.reject(new Error(h))}async send(e,t={}){var a,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:c}=e,d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(a=t.timeout)!==null&&a!==void 0?a:this.timeout);return await((i=m.body)===null||i===void 0?void 0:i.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var c,d,h;const m=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&o("ok"),m.receive("ok",()=>o("ok")),m.receive("error",()=>o("error")),m.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ft.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(_n.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(i=>{a=new td(this,_n.leave,{},e),a.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ft.closed,this.bindings={}}async _fetchWithTimeout(e,t,a){const i=new AbortController,o=setTimeout(()=>i.abort(),a),c=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(o),c}_push(e,t,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new td(this,e,t,a);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>g1){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,a){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,a){var i,o;const c=e.toLocaleLowerCase(),{close:d,error:h,leave:m,join:g}=_n;if(a&&[d,h,m,g].indexOf(c)>=0&&a!==this._joinRef())return;let _=this._onMessage(c,t,a);if(t&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(b=>{var E,S,w;return((E=b.filter)===null||E===void 0?void 0:E.event)==="*"||((w=(S=b.filter)===null||S===void 0?void 0:S.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===c}).map(b=>b.callback(_,a)):(o=this.bindings[c])===null||o===void 0||o.filter(b=>{var E,S,w,A,R,N;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in b){const B=b.id,U=(E=b.filter)===null||E===void 0?void 0:E.event;return B&&((S=t.ids)===null||S===void 0?void 0:S.includes(B))&&(U==="*"||(U==null?void 0:U.toLocaleLowerCase())===((w=t.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const B=(R=(A=b==null?void 0:b.filter)===null||A===void 0?void 0:A.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return B==="*"||B===((N=t==null?void 0:t.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===c}).map(b=>{if(typeof _=="object"&&"ids"in _){const E=_.data,{schema:S,table:w,commit_timestamp:A,type:R,errors:N}=E;_=Object.assign(Object.assign({},{schema:S,table:w,commit_timestamp:A,eventType:R,new:{},old:{},errors:N}),this._getPayloadRecords(E))}b.callback(_,a)})}_isClosed(){return this.state===ft.closed}_isJoined(){return this.state===ft.joined}_isJoining(){return this.state===ft.joining}_isLeaving(){return this.state===ft.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,a){const i=e.toLocaleLowerCase(),o={type:i,filter:t,callback:a};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,t){const a=e.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===a&&Ha.isEqual(i.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const a in e)if(e[a]!==t[a])return!1;return!0}static isFilterValueEqual(e,t){return(e??void 0)===(t??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(_n.close,{},e)}_onError(e){this._on(_n.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ft.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Ig(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Ig(e.columns,e.old_record)),t}}const nd=()=>{},tl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},k1=[1e3,2e3,5e3,1e4],S1=1e4,A1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class C1{constructor(e,t){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Wd,this.transport=null,this.heartbeatIntervalMs=tl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=nd,this.ref=0,this.reconnectTimer=null,this.vsn=jg,this.logger=nd,this.conn=null,this.sendBuffer=[],this.serializer=new v1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((a=t==null?void 0:t.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Hd.websocket}`,this.httpEndpoint=F2(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=d1.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,a){this.logger(e,t,a)}connectionState(){switch(this.conn&&this.conn.readyState){case kr.connecting:return ea.Connecting;case kr.open:return ea.Open;case kr.closing:return ea.Closing;default:return ea.Closed}}isConnected(){return this.connectionState()===ea.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const a=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===a);if(i)return i;{const o=new Ha(`realtime:${e}`,t,this);return this.channels.push(o),o}}push(e){const{topic:t,event:a,payload:i,ref:o}=e,c=()=>{this.encode(e,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${t} ${a} (${o})`,i),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(m1,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},tl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:i,payload:o,ref:c}=t,d=c?`(${c})`:"",h=o.status||"";this.log("receive",`${h} ${a} ${i} ${d}`.trim(),o),this.channels.filter(m=>m._isMember(a)).forEach(m=>m._trigger(i,o,c)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===kr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===kr.open||this.conn.readyState===kr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this._terminateWorker()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(_n.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const a=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${a}${i}`}_workerObjectUrl(e){let t;if(e)t=e;else{const a=new Blob([A1],{type:"application/javascript"});t=URL.createObjectURL(a)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t,a=!1;if(e)t=e,a=!0;else if(this.accessToken)try{t=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),t=this.accessTokenValue}else t=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(i=>{const o={access_token:t,version:p1};t&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(_n.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(t=>{this.log("error",`Error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(a=>{try{a(t)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(a){this.log("error",`error triggering ${e} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new M2(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},tl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,a,i,o,c,d,h,m,g,v,_,b;switch(this.transport=(t=e==null?void 0:e.transport)!==null&&t!==void 0?t:null,this.timeout=(a=e==null?void 0:e.timeout)!==null&&a!==void 0?a:Wd,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:tl.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(c=e==null?void 0:e.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(d=e==null?void 0:e.heartbeatCallback)!==null&&d!==void 0?d:nd,this.vsn=(h=e==null?void 0:e.vsn)!==null&&h!==void 0?h:jg,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e==null?void 0:e.reconnectAfterMs)!==null&&m!==void 0?m:E=>k1[E-1]||S1,this.vsn){case $2:this.encode=(g=e==null?void 0:e.encode)!==null&&g!==void 0?g:(E,S)=>S(JSON.stringify(E)),this.decode=(v=e==null?void 0:e.decode)!==null&&v!==void 0?v:(E,S)=>S(JSON.parse(E));break;case f1:this.encode=(_=e==null?void 0:e.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(b=e==null?void 0:e.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Si=class extends Error{constructor(n,e){var t;super(n),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((t=e.icebergType)==null?void 0:t.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function P1(n,e,t){const a=new URL(e,n);if(t)for(const[i,o]of Object.entries(t))o!==void 0&&a.searchParams.set(i,o);return a.toString()}async function T1(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function R1(n){const e=n.fetchImpl??globalThis.fetch;return{async request({method:t,path:a,query:i,body:o,headers:c}){const d=P1(n.baseUrl,a,i),h=await T1(n.auth),m=await e(d,{method:t,headers:{...o?{"Content-Type":"application/json"}:{},...h,...c},body:o?JSON.stringify(o):void 0}),g=await m.text(),v=(m.headers.get("content-type")||"").includes("application/json"),_=v&&g?JSON.parse(g):g;if(!m.ok){const b=v?_:void 0,E=b==null?void 0:b.error;throw new Si((E==null?void 0:E.message)??`Request failed with status ${m.status}`,{status:m.status,icebergType:E==null?void 0:E.type,icebergCode:E==null?void 0:E.code,details:b})}return{status:m.status,headers:m.headers,data:_}}}}function nl(n){return n.join("")}var L1=class{constructor(n,e=""){this.client=n,this.prefix=e}async listNamespaces(n){const e=n?{parent:nl(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(n,e){const t={namespace:n.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:t})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${nl(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${nl(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${nl(n.namespace)}`}),!0}catch(e){if(e instanceof Si&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(n,e){try{return await this.createNamespace(n,e)}catch(t){if(t instanceof Si&&t.status===409)return;throw t}}};function ja(n){return n.join("")}var O1=class{constructor(n,e="",t){this.client=n,this.prefix=e,this.accessDelegation=t}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ja(n.namespace)}/tables`})).data.identifiers}async createTable(n,e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ja(n.namespace)}/tables`,body:e,headers:t})).data.metadata}async updateTable(n,e){const t=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ja(n.namespace)}/tables/${n.name}`,body:e});return{"metadata-location":t.data["metadata-location"],metadata:t.data.metadata}}async dropTable(n,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ja(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(n){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ja(n.namespace)}/tables/${n.name}`,headers:e})).data.metadata}async tableExists(n){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ja(n.namespace)}/tables/${n.name}`,headers:e}),!0}catch(t){if(t instanceof Si&&t.status===404)return!1;throw t}}async createTableIfNotExists(n,e){try{return await this.createTable(n,e)}catch(t){if(t instanceof Si&&t.status===409)return await this.loadTable({namespace:n.namespace,name:e.name});throw t}}},N1=class{constructor(n){var a;let e="v1";n.catalogName&&(e+=`/${n.catalogName}`);const t=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=R1({baseUrl:t,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=(a=n.accessDelegation)==null?void 0:a.join(","),this.namespaceOps=new L1(this.client,e),this.tableOps=new O1(this.client,e,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,e){return this.namespaceOps.createNamespace(n,e)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,e){return this.tableOps.createTable(n,e)}async updateTable(n,e){return this.tableOps.updateTable(n,e)}async dropTable(n,e){await this.tableOps.dropTable(n,e)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,e){return this.namespaceOps.createNamespaceIfNotExists(n,e)}async createTableIfNotExists(n,e){return this.tableOps.createTableIfNotExists(n,e)}},Ml=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function Ze(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var j1=class extends Ml{constructor(n,e,t){super(n),this.name="StorageApiError",this.status=e,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Gd=class extends Ml{constructor(n,e){super(n),this.name="StorageUnknownError",this.originalError=e}};const vh=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),I1=()=>Response,Jd=n=>{if(Array.isArray(n))return n.map(t=>Jd(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,a])=>{const i=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=Jd(a)}),e},D1=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},B1=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function Ai(n){"@babel/helpers - typeof";return Ai=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ai(n)}function $1(n,e){if(Ai(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var a=t.call(n,e);if(Ai(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function M1(n){var e=$1(n,"string");return Ai(e)=="symbol"?e:e+""}function U1(n,e,t){return(e=M1(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function $g(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,a)}return t}function we(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$g(Object(t),!0).forEach(function(a){U1(n,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):$g(Object(t)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(t,a))})}return n}const rd=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},F1=async(n,e,t)=>{n instanceof await I1()&&!(t!=null&&t.noResolveJson)?n.json().then(a=>{const i=n.status||500,o=(a==null?void 0:a.statusCode)||i+"";e(new j1(rd(a),i,o))}).catch(a=>{e(new Gd(rd(a),a))}):e(new Gd(rd(n),n))},q1=(n,e,t,a)=>{const i={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"||!a?i:(D1(a)?(i.headers=we({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(a)):i.body=a,e!=null&&e.duplex&&(i.duplex=e.duplex),we(we({},i),t))};async function ji(n,e,t,a,i,o){return new Promise((c,d)=>{n(t,q1(e,a,i,o)).then(h=>{if(!h.ok)throw h;return a!=null&&a.noResolveJson?h:h.json()}).then(h=>c(h)).catch(h=>F1(h,d,a))})}async function Ci(n,e,t,a){return ji(n,"GET",e,t,a)}async function yn(n,e,t,a,i){return ji(n,"POST",e,a,i,t)}async function Yd(n,e,t,a,i){return ji(n,"PUT",e,a,i,t)}async function z1(n,e,t,a){return ji(n,"HEAD",e,we(we({},t),{},{noResolveJson:!0}),a)}async function yh(n,e,t,a,i){return ji(n,"DELETE",e,a,i,t)}var V1=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e}then(n,e){return this.execute().then(n,e)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(Ze(e))return{data:null,error:e};throw e}}};let q2;q2=Symbol.toStringTag;var W1=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e,this[q2]="BlobDownloadBuilder",this.promise=null}asStream(){return new V1(this.downloadFn,this.shouldThrowOnError)}then(n,e){return this.getPromise().then(n,e)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(Ze(e))return{data:null,error:e};throw e}}};const H1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Mg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var K1=class{constructor(n,e={},t,a){this.shouldThrowOnError=!1,this.url=n,this.headers=e,this.bucketId=t,this.fetch=vh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(n,e,t,a){var i=this;try{let o;const c=we(we({},Mg),a);let d=we(we({},i.headers),n==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&t instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),h&&o.append("metadata",i.encodeMetadata(h)),o.append("",t)):typeof FormData<"u"&&t instanceof FormData?(o=t,o.has("cacheControl")||o.append("cacheControl",c.cacheControl),h&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(h))):(o=t,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,h&&(d["x-metadata"]=i.toBase64(i.encodeMetadata(h))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!c.duplex&&(c.duplex="half")),a!=null&&a.headers&&(d=we(we({},d),a.headers));const m=i._removeEmptyFolders(e),g=i._getFinalPath(m),v=await(n=="PUT"?Yd:yn)(i.fetch,`${i.url}/object/${g}`,o,we({headers:d},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:v.Id,fullPath:v.Key},error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(Ze(o))return{data:null,error:o};throw o}}async upload(n,e,t){return this.uploadOrUpdate("POST",n,e,t)}async uploadToSignedUrl(n,e,t,a){var i=this;const o=i._removeEmptyFolders(n),c=i._getFinalPath(o),d=new URL(i.url+`/object/upload/sign/${c}`);d.searchParams.set("token",e);try{let h;const m=we({upsert:Mg.upsert},a),g=we(we({},i.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&t instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",t)):typeof FormData<"u"&&t instanceof FormData?(h=t,h.append("cacheControl",m.cacheControl)):(h=t,g["cache-control"]=`max-age=${m.cacheControl}`,g["content-type"]=m.contentType),{data:{path:o,fullPath:(await Yd(i.fetch,d.toString(),h,{headers:g})).Key},error:null}}catch(h){if(i.shouldThrowOnError)throw h;if(Ze(h))return{data:null,error:h};throw h}}async createSignedUploadUrl(n,e){var t=this;try{let a=t._getFinalPath(n);const i=we({},t.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const o=await yn(t.fetch,`${t.url}/object/upload/sign/${a}`,{},{headers:i}),c=new URL(t.url+o.url),d=c.searchParams.get("token");if(!d)throw new Ml("No token returned by API");return{data:{signedUrl:c.toString(),path:n,token:d},error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Ze(a))return{data:null,error:a};throw a}}async update(n,e,t){return this.uploadOrUpdate("PUT",n,e,t)}async move(n,e,t){var a=this;try{return{data:await yn(a.fetch,`${a.url}/object/move`,{bucketId:a.bucketId,sourceKey:n,destinationKey:e,destinationBucket:t==null?void 0:t.destinationBucket},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}}async copy(n,e,t){var a=this;try{return{data:{path:(await yn(a.fetch,`${a.url}/object/copy`,{bucketId:a.bucketId,sourceKey:n,destinationKey:e,destinationBucket:t==null?void 0:t.destinationBucket},{headers:a.headers})).Key},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}}async createSignedUrl(n,e,t){var a=this;try{let i=a._getFinalPath(n),o=await yn(a.fetch,`${a.url}/object/sign/${i}`,we({expiresIn:e},t!=null&&t.transform?{transform:t.transform}:{}),{headers:a.headers});const c=t!=null&&t.download?`&download=${t.download===!0?"":t.download}`:"";return o={signedUrl:encodeURI(`${a.url}${o.signedURL}${c}`)},{data:o,error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}}async createSignedUrls(n,e,t){var a=this;try{const i=await yn(a.fetch,`${a.url}/object/sign/${a.bucketId}`,{expiresIn:e,paths:n},{headers:a.headers}),o=t!=null&&t.download?`&download=${t.download===!0?"":t.download}`:"";return{data:i.map(c=>we(we({},c),{},{signedUrl:c.signedURL?encodeURI(`${a.url}${c.signedURL}${o}`):null})),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}}download(n,e){const t=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=a?`?${a}`:"",o=this._getFinalPath(n),c=()=>Ci(this.fetch,`${this.url}/${t}/${o}${i}`,{headers:this.headers,noResolveJson:!0});return new W1(c,this.shouldThrowOnError)}async info(n){var e=this;const t=e._getFinalPath(n);try{return{data:Jd(await Ci(e.fetch,`${e.url}/object/info/${t}`,{headers:e.headers})),error:null}}catch(a){if(e.shouldThrowOnError)throw a;if(Ze(a))return{data:null,error:a};throw a}}async exists(n){var e=this;const t=e._getFinalPath(n);try{return await z1(e.fetch,`${e.url}/object/${t}`,{headers:e.headers}),{data:!0,error:null}}catch(a){if(e.shouldThrowOnError)throw a;if(Ze(a)&&a instanceof Gd){const i=a.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:a}}throw a}}getPublicUrl(n,e){const t=this._getFinalPath(n),a=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&a.push(i);const o=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${t}${d}`)}}}async remove(n){var e=this;try{return{data:await yh(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:n},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ze(t))return{data:null,error:t};throw t}}async list(n,e,t){var a=this;try{const i=we(we(we({},H1),e),{},{prefix:n||""});return{data:await yn(a.fetch,`${a.url}/object/list/${a.bucketId}`,i,{headers:a.headers},t),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}}async listV2(n,e){var t=this;try{const a=we({},n);return{data:await yn(t.fetch,`${t.url}/object/list-v2/${t.bucketId}`,a,{headers:t.headers},e),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Ze(a))return{data:null,error:a};throw a}}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const e=[];return n.width&&e.push(`width=${n.width}`),n.height&&e.push(`height=${n.height}`),n.resize&&e.push(`resize=${n.resize}`),n.format&&e.push(`format=${n.format}`),n.quality&&e.push(`quality=${n.quality}`),e.join("&")}};const z2="2.89.0",V2={"X-Client-Info":`storage-js/${z2}`};var G1=class{constructor(n,e={},t,a){this.shouldThrowOnError=!1;const i=new URL(n);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=we(we({},V2),e),this.fetch=vh(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(n){var e=this;try{const t=e.listBucketOptionsToQueryString(n);return{data:await Ci(e.fetch,`${e.url}/bucket${t}`,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ze(t))return{data:null,error:t};throw t}}async getBucket(n){var e=this;try{return{data:await Ci(e.fetch,`${e.url}/bucket/${n}`,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ze(t))return{data:null,error:t};throw t}}async createBucket(n,e={public:!1}){var t=this;try{return{data:await yn(t.fetch,`${t.url}/bucket`,{id:n,name:n,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Ze(a))return{data:null,error:a};throw a}}async updateBucket(n,e){var t=this;try{return{data:await Yd(t.fetch,`${t.url}/bucket/${n}`,{id:n,name:n,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Ze(a))return{data:null,error:a};throw a}}async emptyBucket(n){var e=this;try{return{data:await yn(e.fetch,`${e.url}/bucket/${n}/empty`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ze(t))return{data:null,error:t};throw t}}async deleteBucket(n){var e=this;try{return{data:await yh(e.fetch,`${e.url}/bucket/${n}`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ze(t))return{data:null,error:t};throw t}}listBucketOptionsToQueryString(n){const e={};return n&&("limit"in n&&(e.limit=String(n.limit)),"offset"in n&&(e.offset=String(n.offset)),n.search&&(e.search=n.search),n.sortColumn&&(e.sortColumn=n.sortColumn),n.sortOrder&&(e.sortOrder=n.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},J1=class{constructor(n,e={},t){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=we(we({},V2),e),this.fetch=vh(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var e=this;try{return{data:await yn(e.fetch,`${e.url}/bucket`,{name:n},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ze(t))return{data:null,error:t};throw t}}async listBuckets(n){var e=this;try{const t=new URLSearchParams;(n==null?void 0:n.limit)!==void 0&&t.set("limit",n.limit.toString()),(n==null?void 0:n.offset)!==void 0&&t.set("offset",n.offset.toString()),n!=null&&n.sortColumn&&t.set("sortColumn",n.sortColumn),n!=null&&n.sortOrder&&t.set("sortOrder",n.sortOrder),n!=null&&n.search&&t.set("search",n.search);const a=t.toString(),i=a?`${e.url}/bucket?${a}`:`${e.url}/bucket`;return{data:await Ci(e.fetch,i,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ze(t))return{data:null,error:t};throw t}}async deleteBucket(n){var e=this;try{return{data:await yh(e.fetch,`${e.url}/bucket/${n}`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ze(t))return{data:null,error:t};throw t}}from(n){var e=this;if(!B1(n))throw new Ml("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const t=new N1({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(t,{get(i,o){const c=i[o];return typeof c!="function"?c:async(...d)=>{try{return{data:await c.apply(i,d),error:null}}catch(h){if(a)throw h;return{data:null,error:h}}}}})}};const _h={"X-Client-Info":`storage-js/${z2}`,"Content-Type":"application/json"};var W2=class extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Qt(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}var ad=class extends W2{constructor(n,e,t){super(n),this.name="StorageVectorsApiError",this.status=e,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Y1=class extends W2{constructor(n,e){super(n),this.name="StorageVectorsUnknownError",this.originalError=e}};const xh=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),Q1=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Ug=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),X1=async(n,e,t)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!(t!=null&&t.noResolveJson)){const a=n.status||500,i=n;if(typeof i.json=="function")i.json().then(o=>{const c=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||a+"";e(new ad(Ug(o),a,c))}).catch(()=>{const o=a+"";e(new ad(i.statusText||`HTTP ${a} error`,a,o))});else{const o=a+"";e(new ad(i.statusText||`HTTP ${a} error`,a,o))}}else e(new Y1(Ug(n),n))},Z1=(n,e,t,a)=>{const i={method:n,headers:(e==null?void 0:e.headers)||{}};return a?(Q1(a)?(i.headers=we({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(a)):i.body=a,we(we({},i),t)):i};async function eE(n,e,t,a,i,o){return new Promise((c,d)=>{n(t,Z1(e,a,i,o)).then(h=>{if(!h.ok)throw h;if(a!=null&&a.noResolveJson)return h;const m=h.headers.get("content-type");return!m||!m.includes("application/json")?{}:h.json()}).then(h=>c(h)).catch(h=>X1(h,d,a))})}async function Xt(n,e,t,a,i){return eE(n,"POST",e,a,i,t)}var tE=class{constructor(n,e={},t){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=we(we({},_h),e),this.fetch=xh(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(n){var e=this;try{return{data:await Xt(e.fetch,`${e.url}/CreateIndex`,n,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Qt(t))return{data:null,error:t};throw t}}async getIndex(n,e){var t=this;try{return{data:await Xt(t.fetch,`${t.url}/GetIndex`,{vectorBucketName:n,indexName:e},{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Qt(a))return{data:null,error:a};throw a}}async listIndexes(n){var e=this;try{return{data:await Xt(e.fetch,`${e.url}/ListIndexes`,n,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Qt(t))return{data:null,error:t};throw t}}async deleteIndex(n,e){var t=this;try{return{data:await Xt(t.fetch,`${t.url}/DeleteIndex`,{vectorBucketName:n,indexName:e},{headers:t.headers})||{},error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Qt(a))return{data:null,error:a};throw a}}},nE=class{constructor(n,e={},t){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=we(we({},_h),e),this.fetch=xh(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(n){var e=this;try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Xt(e.fetch,`${e.url}/PutVectors`,n,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Qt(t))return{data:null,error:t};throw t}}async getVectors(n){var e=this;try{return{data:await Xt(e.fetch,`${e.url}/GetVectors`,n,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Qt(t))return{data:null,error:t};throw t}}async listVectors(n){var e=this;try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:await Xt(e.fetch,`${e.url}/ListVectors`,n,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Qt(t))return{data:null,error:t};throw t}}async queryVectors(n){var e=this;try{return{data:await Xt(e.fetch,`${e.url}/QueryVectors`,n,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Qt(t))return{data:null,error:t};throw t}}async deleteVectors(n){var e=this;try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Xt(e.fetch,`${e.url}/DeleteVectors`,n,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Qt(t))return{data:null,error:t};throw t}}},rE=class{constructor(n,e={},t){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=we(we({},_h),e),this.fetch=xh(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var e=this;try{return{data:await Xt(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Qt(t))return{data:null,error:t};throw t}}async getBucket(n){var e=this;try{return{data:await Xt(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:n},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Qt(t))return{data:null,error:t};throw t}}async listBuckets(n={}){var e=this;try{return{data:await Xt(e.fetch,`${e.url}/ListVectorBuckets`,n,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Qt(t))return{data:null,error:t};throw t}}async deleteBucket(n){var e=this;try{return{data:await Xt(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Qt(t))return{data:null,error:t};throw t}}},aE=class extends rE{constructor(n,e={}){super(n,e.headers||{},e.fetch)}from(n){return new sE(this.url,this.headers,n,this.fetch)}async createBucket(n){var e=()=>super.createBucket,t=this;return e().call(t,n)}async getBucket(n){var e=()=>super.getBucket,t=this;return e().call(t,n)}async listBuckets(n={}){var e=()=>super.listBuckets,t=this;return e().call(t,n)}async deleteBucket(n){var e=()=>super.deleteBucket,t=this;return e().call(t,n)}},sE=class extends tE{constructor(n,e,t,a){super(n,e,a),this.vectorBucketName=t}async createIndex(n){var e=()=>super.createIndex,t=this;return e().call(t,we(we({},n),{},{vectorBucketName:t.vectorBucketName}))}async listIndexes(n={}){var e=()=>super.listIndexes,t=this;return e().call(t,we(we({},n),{},{vectorBucketName:t.vectorBucketName}))}async getIndex(n){var e=()=>super.getIndex,t=this;return e().call(t,t.vectorBucketName,n)}async deleteIndex(n){var e=()=>super.deleteIndex,t=this;return e().call(t,t.vectorBucketName,n)}index(n){return new iE(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},iE=class extends nE{constructor(n,e,t,a,i){super(n,e,i),this.vectorBucketName=t,this.indexName=a}async putVectors(n){var e=()=>super.putVectors,t=this;return e().call(t,we(we({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async getVectors(n){var e=()=>super.getVectors,t=this;return e().call(t,we(we({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async listVectors(n={}){var e=()=>super.listVectors,t=this;return e().call(t,we(we({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async queryVectors(n){var e=()=>super.queryVectors,t=this;return e().call(t,we(we({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async deleteVectors(n){var e=()=>super.deleteVectors,t=this;return e().call(t,we(we({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}},oE=class extends G1{constructor(n,e={},t,a){super(n,e,t,a)}from(n){return new K1(this.url,this.headers,n,this.fetch)}get vectors(){return new aE(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new J1(this.url+"/iceberg",this.headers,this.fetch)}};const H2="2.89.0",qa=30*1e3,Qd=3,sd=Qd*qa,lE="http://localhost:9999",cE="supabase.auth.token",uE={"X-Client-Info":`gotrue-js/${H2}`},Xd="X-Supabase-Api-Version",K2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},dE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,hE=10*60*1e3;class Pi extends Error{constructor(e,t,a){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=a}}function pe(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class pE extends Pi{constructor(e,t,a){super(e,t,a),this.name="AuthApiError",this.status=t,this.code=a}}function fE(n){return pe(n)&&n.name==="AuthApiError"}class ta extends Pi{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Qn extends Pi{constructor(e,t,a,i){super(e,a,i),this.name=t,this.status=a}}class Yt extends Qn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function mE(n){return pe(n)&&n.name==="AuthSessionMissingError"}class Ia extends Qn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class rl extends Qn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class al extends Qn{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function gE(n){return pe(n)&&n.name==="AuthImplicitGrantRedirectError"}class Fg extends Qn{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vE extends Qn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Zd extends Qn{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function id(n){return pe(n)&&n.name==="AuthRetryableFetchError"}class qg extends Qn{constructor(e,t,a){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=a}}class eh extends Qn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Al="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),zg=` 	
\r=`.split(""),yE=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<zg.length;e+=1)n[zg[e].charCodeAt(0)]=-2;for(let e=0;e<Al.length;e+=1)n[Al[e].charCodeAt(0)]=e;return n})();function Vg(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;t(Al[a]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;t(Al[a]),e.queuedBits-=6}}function G2(n,e,t){const a=yE[n];if(a>-1)for(e.queue=e.queue<<6|a,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Wg(n){const e=[],t=c=>{e.push(String.fromCodePoint(c))},a={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=c=>{wE(c,a,t)};for(let c=0;c<n.length;c+=1)G2(n.charCodeAt(c),i,o);return e.join("")}function _E(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function xE(n,e){for(let t=0;t<n.length;t+=1){let a=n.charCodeAt(t);if(a>55295&&a<=56319){const i=(a-55296)*1024&65535;a=(n.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}_E(a,e)}}function wE(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let a=1;a<6;a+=1)if((n>>7-a&1)===0){e.utf8seq=a;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function Ja(n){const e=[],t={queue:0,queuedBits:0},a=i=>{e.push(i)};for(let i=0;i<n.length;i+=1)G2(n.charCodeAt(i),t,a);return new Uint8Array(e)}function bE(n){const e=[];return xE(n,t=>e.push(t)),new Uint8Array(e)}function na(n){const e=[],t={queue:0,queuedBits:0},a=i=>{e.push(i)};return n.forEach(i=>Vg(i,t,a)),Vg(null,t,a),e.join("")}function EE(n){return Math.round(Date.now()/1e3)+n}function kE(){return Symbol("auth-callback")}const kt=()=>typeof window<"u"&&typeof document<"u",Jr={tested:!1,writable:!1},J2=()=>{if(!kt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Jr.tested)return Jr.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Jr.tested=!0,Jr.writable=!0}catch{Jr.tested=!0,Jr.writable=!1}return Jr.writable};function SE(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return t.searchParams.forEach((a,i)=>{e[i]=a}),e}const Y2=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),AE=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",za=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},Yr=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},bt=async(n,e)=>{await n.removeItem(e)};class Ul{constructor(){this.promise=new Ul.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Ul.promiseConstructor=Promise;function od(n){const e=n.split(".");if(e.length!==3)throw new eh("Invalid JWT structure");for(let a=0;a<e.length;a++)if(!dE.test(e[a]))throw new eh("JWT not in base64url format");return{header:JSON.parse(Wg(e[0])),payload:JSON.parse(Wg(e[1])),signature:Ja(e[2]),raw:{header:e[0],payload:e[1]}}}async function CE(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function PE(n,e){return new Promise((a,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const c=await n(o);if(!e(o,null,c)){a(c);return}}catch(c){if(!e(o,c)){i(c);return}}})()})}function TE(n){return("0"+n.toString(16)).substr(-2)}function RE(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=t.length;let i="";for(let o=0;o<56;o++)i+=t.charAt(Math.floor(Math.random()*a));return i}return crypto.getRandomValues(e),Array.from(e,TE).join("")}async function LE(n){const t=new TextEncoder().encode(n),a=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(a);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function OE(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await LE(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Da(n,e,t=!1){const a=RE();let i=a;t&&(i+="/PASSWORD_RECOVERY"),await za(n,`${e}-code-verifier`,i);const o=await OE(a);return[o,a===o?"plain":"s256"]}const NE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function jE(n){const e=n.headers.get(Xd);if(!e||!e.match(NE))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function IE(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function DE(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const BE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ba(n){if(!BE.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ld(){const n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const a=t.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function $E(n,e){return new Proxy(n,{get:(t,a,i)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const o=a.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,a,i)}return!e.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,a,i)}})}function Hg(n){return JSON.parse(JSON.stringify(n))}const Zr=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),ME=[502,503,504];async function Kg(n){var e;if(!AE(n))throw new Zd(Zr(n),0);if(ME.includes(n.status))throw new Zd(Zr(n),n.status);let t;try{t=await n.json()}catch(o){throw new ta(Zr(o),o)}let a;const i=jE(n);if(i&&i.getTime()>=K2["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?a=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(a=t.error_code),a){if(a==="weak_password")throw new qg(Zr(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(a==="session_not_found")throw new Yt}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,c)=>o&&typeof c=="string",!0))throw new qg(Zr(t),n.status,t.weak_password.reasons);throw new pE(Zr(t),n.status||500,a)}const UE=(n,e,t,a)=>{const i={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(a),Object.assign(Object.assign({},i),t))};async function xe(n,e,t,a){var i;const o=Object.assign({},a==null?void 0:a.headers);o[Xd]||(o[Xd]=K2["2024-01-01"].name),a!=null&&a.jwt&&(o.Authorization=`Bearer ${a.jwt}`);const c=(i=a==null?void 0:a.query)!==null&&i!==void 0?i:{};a!=null&&a.redirectTo&&(c.redirect_to=a.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await FE(n,e,t+d,{headers:o,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(h):{data:Object.assign({},h),error:null}}async function FE(n,e,t,a,i,o){const c=UE(e,a,i,o);let d;try{d=await n(t,Object.assign({},c))}catch(h){throw console.error(h),new Zd(Zr(h),0)}if(d.ok||await Kg(d),a!=null&&a.noResolveJson)return d;try{return await d.json()}catch(h){await Kg(h)}}function vn(n){var e;let t=null;VE(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=EE(n.expires_in)));const a=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:a},error:null}}function Gg(n){const e=vn(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,a)=>t&&typeof a=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Sr(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function qE(n){return{data:n,error:null}}function zE(n){const{action_link:e,email_otp:t,hashed_token:a,redirect_to:i,verification_type:o}=n,c=$l(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:t,hashed_token:a,redirect_to:i,verification_type:o},h=Object.assign({},c);return{data:{properties:d,user:h},error:null}}function Jg(n){return n}function VE(n){return n.access_token&&n.refresh_token&&n.expires_in}const cd=["global","local","others"];class WE{constructor({url:e="",headers:t={},fetch:a}){this.url=e,this.headers=t,this.fetch=Y2(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=cd[0]){if(cd.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${cd.join(", ")}`);try{return await xe(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(pe(a))return{data:null,error:a};throw a}}async inviteUserByEmail(e,t={}){try{return await xe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Sr})}catch(a){if(pe(a))return{data:{user:null},error:a};throw a}}async generateLink(e){try{const{options:t}=e,a=$l(e,["options"]),i=Object.assign(Object.assign({},a),t);return"newEmail"in a&&(i.new_email=a==null?void 0:a.newEmail,delete i.newEmail),await xe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:zE,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(pe(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await xe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Sr})}catch(t){if(pe(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,a,i,o,c,d,h;try{const m={nextPage:null,lastPage:0,total:0},g=await xe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&a!==void 0?a:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Jg});if(g.error)throw g.error;const v=await g.json(),_=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,b=(h=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return b.length>0&&(b.forEach(E=>{const S=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(E.split(";")[1].split("=")[1]);m[`${w}Page`]=S}),m.total=parseInt(_)),{data:Object.assign(Object.assign({},v),m),error:null}}catch(m){if(pe(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){Ba(e);try{return await xe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Sr})}catch(t){if(pe(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Ba(e);try{return await xe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Sr})}catch(a){if(pe(a))return{data:{user:null},error:a};throw a}}async deleteUser(e,t=!1){Ba(e);try{return await xe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Sr})}catch(a){if(pe(a))return{data:{user:null},error:a};throw a}}async _listFactors(e){Ba(e.userId);try{const{data:t,error:a}=await xe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:a}}catch(t){if(pe(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Ba(e.userId),Ba(e.id);try{return{data:await xe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(pe(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,a,i,o,c,d,h;try{const m={nextPage:null,lastPage:0,total:0},g=await xe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&a!==void 0?a:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Jg});if(g.error)throw g.error;const v=await g.json(),_=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,b=(h=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return b.length>0&&(b.forEach(E=>{const S=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(E.split(";")[1].split("=")[1]);m[`${w}Page`]=S}),m.total=parseInt(_)),{data:Object.assign(Object.assign({},v),m),error:null}}catch(m){if(pe(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await xe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(pe(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await xe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(pe(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await xe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(pe(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(e){try{return await xe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(pe(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await xe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(pe(t))return{data:null,error:t};throw t}}}function Yg(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}const $a={debug:!!(globalThis&&J2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Q2 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class HE extends Q2{}async function KE(n,e,t){$a.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const a=new globalThis.AbortController;return e>0&&setTimeout(()=>{a.abort(),$a.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async i=>{if(i){$a.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,i.name);try{return await t()}finally{$a.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,i.name)}}else{if(e===0)throw $a.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new HE(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if($a.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function GE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function X2(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function JE(n){return parseInt(n,16)}function YE(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,a=>a.toString(16).padStart(2,"0")).join("")}function QE(n){var e;const{chainId:t,domain:a,expirationTime:i,issuedAt:o=new Date,nonce:c,notBefore:d,requestId:h,resources:m,scheme:g,uri:v,version:_}=n;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const b=X2(n.address),E=g?`${g}://${a}`:a,S=n.statement?`${n.statement}
`:"",w=`${E} wants you to sign in with your Ethereum account:
${b}

${S}`;let A=`URI: ${v}
Version: ${_}
Chain ID: ${t}${c?`
Nonce: ${c}`:""}
Issued At: ${o.toISOString()}`;if(i&&(A+=`
Expiration Time: ${i.toISOString()}`),d&&(A+=`
Not Before: ${d.toISOString()}`),h&&(A+=`
Request ID: ${h}`),m){let R=`
Resources:`;for(const N of m){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);R+=`
- ${N}`}A+=R}return`${w}
${A}`}class ut extends Error{constructor({message:e,code:t,cause:a,name:i}){var o;super(e,{cause:a}),this.__isWebAuthnError=!0,this.name=(o=i??(a instanceof Error?a.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=t}}class Cl extends ut{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function XE({error:n,options:e}){var t,a,i;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ut({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((t=o.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new ut({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((a=o.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new ut({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ut({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new ut({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new ut({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return o.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new ut({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new ut({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const c=window.location.hostname;if(Z2(c)){if(o.rp.id!==c)return new ut({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new ut({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new ut({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function ZE({error:n,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ut({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new ut({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const a=window.location.hostname;if(Z2(a)){if(t.rpId!==a)return new ut({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new ut({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class ek{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const tk=new ek;function nk(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:t,excludeCredentials:a}=n,i=$l(n,["challenge","user","excludeCredentials"]),o=Ja(e).buffer,c=Object.assign(Object.assign({},t),{id:Ja(t.id).buffer}),d=Object.assign(Object.assign({},i),{challenge:o,user:c});if(a&&a.length>0){d.excludeCredentials=new Array(a.length);for(let h=0;h<a.length;h++){const m=a[h];d.excludeCredentials[h]=Object.assign(Object.assign({},m),{id:Ja(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function rk(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:t}=n,a=$l(n,["challenge","allowCredentials"]),i=Ja(e).buffer,o=Object.assign(Object.assign({},a),{challenge:i});if(t&&t.length>0){o.allowCredentials=new Array(t.length);for(let c=0;c<t.length;c++){const d=t[c];o.allowCredentials[c]=Object.assign(Object.assign({},d),{id:Ja(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return o}function ak(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n;return{id:n.id,rawId:n.id,response:{attestationObject:na(new Uint8Array(n.response.attestationObject)),clientDataJSON:na(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function sk(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n,a=n.getClientExtensionResults(),i=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:na(new Uint8Array(i.authenticatorData)),clientDataJSON:na(new Uint8Array(i.clientDataJSON)),signature:na(new Uint8Array(i.signature)),userHandle:i.userHandle?na(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Z2(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function Qg(){var n,e;return!!(kt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function ik(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Cl("Browser returned unexpected credential type",e)}:{data:null,error:new Cl("Empty credential response",e)}}catch(e){return{data:null,error:XE({error:e,options:n})}}}async function ok(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Cl("Browser returned unexpected credential type",e)}:{data:null,error:new Cl("Empty credential response",e)}}catch(e){return{data:null,error:ZE({error:e,options:n})}}}const lk={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},ck={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Pl(...n){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),t=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),a={};for(const i of n)if(i)for(const o in i){const c=i[o];if(c!==void 0)if(Array.isArray(c))a[o]=c;else if(t(c))a[o]=c;else if(e(c)){const d=a[o];e(d)?a[o]=Pl(d,c):a[o]=Pl(c)}else a[o]=c}return a}function uk(n,e){return Pl(lk,n,e||{})}function dk(n,e){return Pl(ck,n,e||{})}class hk{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:a,signal:i},o){try{const{data:c,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!c)return{data:null,error:d};const h=i??tk.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:m}=c.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${a}`),m.displayName||(m.displayName=m.name)}switch(c.webauthn.type){case"create":{const m=uk(c.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:g,error:v}=await ik({publicKey:m,signal:h});return g?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}case"request":{const m=dk(c.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:g,error:v}=await ok(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:m,signal:h}));return g?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}}}catch(c){return pe(c)?{data:null,error:c}:{data:null,error:new ta("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:t,webauthn:a}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:a})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!t)return{data:null,error:new Pi("rpId is required for WebAuthn authentication")};try{if(!Qg())return{data:null,error:new ta("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:a},signal:i},{request:o});if(!c)return{data:null,error:d};const{webauthn:h}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:h.type,rpId:t,rpOrigins:a,credential_response:h.credential_response}})}catch(c){return pe(c)?{data:null,error:c}:{data:null,error:new ta("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!t)return{data:null,error:new Pi("rpId is required for WebAuthn registration")};try{if(!Qg())return{data:null,error:new ta("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(g=>{var v;return(v=g.data)===null||v===void 0?void 0:v.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===e&&_.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g==null?void 0:g.id}):void 0),{data:null,error:d};const{data:h,error:m}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:t,rpOrigins:a},signal:i},{create:o});return h?this._verify({factorId:c.id,challengeId:h.challengeId,webauthn:{rpId:t,rpOrigins:a,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:m}}catch(c){return pe(c)?{data:null,error:c}:{data:null,error:new ta("Unexpected error in register",c)}}}}GE();const pk={url:lE,storageKey:cE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:uE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Xg(n,e,t){return await t()}const Ma={};class Ti{get jwks(){var e,t;return(t=(e=Ma[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){Ma[this.storageKey]=Object.assign(Object.assign({},Ma[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=Ma[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ma[this.storageKey]=Object.assign(Object.assign({},Ma[this.storageKey]),{cachedAt:e})}constructor(e){var t,a,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},pk),e);if(this.storageKey=o.storageKey,this.instanceID=(t=Ti.nextInstanceID[this.storageKey])!==null&&t!==void 0?t:0,Ti.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&kt()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new WE({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Y2(o.fetch),this.lock=o.lock||Xg,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:this.persistSession&&kt()&&(!((a=globalThis==null?void 0:globalThis.navigator)===null||a===void 0)&&a.locks)?this.lock=KE:this.lock=Xg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new hk(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:J2()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Yg(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Yg(this.memoryStorage)),kt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${H2}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let t={},a="none";if(kt()&&(t=SE(window.location.href),this._isImplicitGrantCallback(t)?a="implicit":await this._isPKCECallback(t)&&(a="pkce")),kt()&&this.detectSessionInUrl&&a!=="none"){const{data:i,error:o}=await this._getSessionFromURL(t,a);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),gE(o)){const h=(e=o.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:c,redirectType:d}=i;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return pe(t)?this._returnResult({error:t}):this._returnResult({error:new ta("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,a,i;try{const o=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:vn}),{data:c,error:d}=o;if(d||!c)return this._returnResult({data:{user:null,session:null},error:d});const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(o){if(pe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var t,a,i;try{let o;if("email"in e){const{email:g,password:v,options:_}=e;let b=null,E=null;this.flowType==="pkce"&&([b,E]=await Da(this.storage,this.storageKey)),o=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:{email:g,password:v,data:(t=_==null?void 0:_.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:b,code_challenge_method:E},xform:vn})}else if("phone"in e){const{phone:g,password:v,options:_}=e;o=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:v,data:(a=_==null?void 0:_.data)!==null&&a!==void 0?a:{},channel:(i=_==null?void 0:_.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:vn})}else throw new rl("You must provide either an email or phone number and a password");const{data:c,error:d}=o;if(d||!c)return await bt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(o){if(await bt(this.storage,`${this.storageKey}-code-verifier`),pe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let t;if("email"in e){const{email:o,password:c,options:d}=e;t=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Gg})}else if("phone"in e){const{phone:o,password:c,options:d}=e;t=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Gg})}else throw new rl("You must provide either an email or phone number and a password");const{data:a,error:i}=t;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!a||!a.session||!a.user){const o=new Ia;return this._returnResult({data:{user:null,session:null},error:o})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:i})}catch(t){if(pe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,a,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,a,i,o,c,d,h,m,g,v,_;let b,E;if("message"in e)b=e.message,E=e.signature;else{const{chain:S,wallet:w,statement:A,options:R}=e;let N;if(kt())if(typeof w=="object")N=w;else{const X=window;if("ethereum"in X&&typeof X.ethereum=="object"&&"request"in X.ethereum&&typeof X.ethereum.request=="function")N=X.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(R!=null&&R.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=w}const B=new URL((t=R==null?void 0:R.url)!==null&&t!==void 0?t:window.location.href),U=await N.request({method:"eth_requestAccounts"}).then(X=>X).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!U||U.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const K=X2(U[0]);let Q=(a=R==null?void 0:R.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!Q){const X=await N.request({method:"eth_chainId"});Q=JE(X)}const F={domain:B.host,address:K,statement:A,uri:B.href,version:"1",chainId:Q,nonce:(i=R==null?void 0:R.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(c=(o=R==null?void 0:R.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(d=R==null?void 0:R.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(h=R==null?void 0:R.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(m=R==null?void 0:R.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(g=R==null?void 0:R.signInWithEthereum)===null||g===void 0?void 0:g.resources};b=QE(F),E=await N.request({method:"personal_sign",params:[YE(b),K]})}try{const{data:S,error:w}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:E},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:vn});if(w)throw w;if(!S||!S.session||!S.user){const A=new Ia;return this._returnResult({data:{user:null,session:null},error:A})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:w})}catch(S){if(pe(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(e){var t,a,i,o,c,d,h,m,g,v,_,b;let E,S;if("message"in e)E=e.message,S=e.signature;else{const{chain:w,wallet:A,statement:R,options:N}=e;let B;if(kt())if(typeof A=="object")B=A;else{const K=window;if("solana"in K&&typeof K.solana=="object"&&("signIn"in K.solana&&typeof K.solana.signIn=="function"||"signMessage"in K.solana&&typeof K.solana.signMessage=="function"))B=K.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=A}const U=new URL((t=N==null?void 0:N.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in B&&B.signIn){const K=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N==null?void 0:N.signInWithSolana),{version:"1",domain:U.host,uri:U.href}),R?{statement:R}:null));let Q;if(Array.isArray(K)&&K[0]&&typeof K[0]=="object")Q=K[0];else if(K&&typeof K=="object"&&"signedMessage"in K&&"signature"in K)Q=K;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Q&&"signature"in Q&&(typeof Q.signedMessage=="string"||Q.signedMessage instanceof Uint8Array)&&Q.signature instanceof Uint8Array)E=typeof Q.signedMessage=="string"?Q.signedMessage:new TextDecoder().decode(Q.signedMessage),S=Q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${U.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...R?["",R,""]:[""],"Version: 1",`URI: ${U.href}`,`Issued At: ${(i=(a=N==null?void 0:N.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=N==null?void 0:N.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((c=N==null?void 0:N.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((d=N==null?void 0:N.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((h=N==null?void 0:N.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((m=N==null?void 0:N.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((v=(g=N==null?void 0:N.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||v===void 0)&&v.length?["Resources",...N.signInWithSolana.resources.map(Q=>`- ${Q}`)]:[]].join(`
`);const K=await B.signMessage(new TextEncoder().encode(E),"utf8");if(!K||!(K instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=K}}try{const{data:w,error:A}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:na(S)},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:vn});if(A)throw A;if(!w||!w.session||!w.user){const R=new Ia;return this._returnResult({data:{user:null,session:null},error:R})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:A})}catch(w){if(pe(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(e){const t=await Yr(this.storage,`${this.storageKey}-code-verifier`),[a,i]=(t??"").split("/");try{if(!a&&this.flowType==="pkce")throw new vE;const{data:o,error:c}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:vn});if(await bt(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!o||!o.session||!o.user){const d=new Ia;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:c})}catch(o){if(await bt(this.storage,`${this.storageKey}-code-verifier`),pe(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:t,provider:a,token:i,access_token:o,nonce:c}=e,d=await xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:i,access_token:o,nonce:c,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:vn}),{data:h,error:m}=d;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!h||!h.session||!h.user){const g=new Ia;return this._returnResult({data:{user:null,session:null},error:g})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:m})}catch(t){if(pe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,a,i,o,c;try{if("email"in e){const{email:d,options:h}=e;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Da(this.storage,this.storageKey));const{error:v}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(t=h==null?void 0:h.data)!==null&&t!==void 0?t:{},create_user:(a=h==null?void 0:h.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},redirectTo:h==null?void 0:h.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in e){const{phone:d,options:h}=e,{data:m,error:g}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(i=h==null?void 0:h.data)!==null&&i!==void 0?i:{},create_user:(o=h==null?void 0:h.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(c=h==null?void 0:h.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:g})}throw new rl("You must provide either an email or phone number.")}catch(d){if(await bt(this.storage,`${this.storageKey}-code-verifier`),pe(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(e){var t,a;try{let i,o;"options"in e&&(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo,o=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:c,error:d}=await xe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:vn});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,m=c.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(i){if(pe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var t,a,i,o,c;try{let d=null,h=null;this.flowType==="pkce"&&([d,h]=await Da(this.storage,this.storageKey));const m=await xe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&a!==void 0?a:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:h}),headers:this.headers,xform:qE});return!((o=m.data)===null||o===void 0)&&o.url&&kt()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(d){if(await bt(this.storage,`${this.storageKey}-code-verifier`),pe(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:a}=e;if(a)throw a;if(!t)throw new Yt;const{error:i}=await xe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(pe(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:a,type:i,options:o}=e,{error:c}=await xe(this.fetch,"POST",t,{headers:this.headers,body:{email:a,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:a,type:i,options:o}=e,{data:c,error:d}=await xe(this.fetch,"POST",t,{headers:this.headers,body:{phone:a,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new rl("You must provide either an email or phone number and a type")}catch(t){if(pe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await a,await t()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=t();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Yr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at*1e3-Date.now()<sd:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a){if(this.userStorage){const c=await Yr(this.userStorage,this.storageKey+"-user");c!=null&&c.user?e.user=c.user:e.user=ld()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=$E(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(-1,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Sr}):await this._useSession(async t=>{var a,i,o;const{data:c,error:d}=t;if(d)throw d;return!(!((a=c.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Yt}:await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Sr})})}catch(t){if(pe(t))return mE(t)&&(await this._removeSession(),await bt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async a=>{const{data:i,error:o}=a;if(o)throw o;if(!i.session)throw new Yt;const c=i.session;let d=null,h=null;this.flowType==="pkce"&&e.email!=null&&([d,h]=await Da(this.storage,this.storageKey));const{data:m,error:g}=await xe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:h}),jwt:c.access_token,xform:Sr});if(g)throw g;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(a){if(await bt(this.storage,`${this.storageKey}-code-verifier`),pe(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Yt;const t=Date.now()/1e3;let a=t,i=!0,o=null;const{payload:c}=od(e.access_token);if(c.exp&&(a=c.exp,i=a<=t),i){const{data:d,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d)return{data:{user:null,session:null},error:null};o=d}else{const{data:d,error:h}=await this._getUser(e.access_token);if(h)throw h;o={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:a-t,expires_at:a},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(t){if(pe(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var a;if(!e){const{data:c,error:d}=t;if(d)throw d;e=(a=c.session)!==null&&a!==void 0?a:void 0}if(!(e!=null&&e.refresh_token))throw new Yt;const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(pe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!kt())throw new al("No browser detected.");if(e.error||e.error_description||e.error_code)throw new al(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new Fg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new al("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Fg("No code detected.");const{data:R,error:N}=await this._exchangeCodeForSession(e.code);if(N)throw N;const B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:R.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:i,access_token:o,refresh_token:c,expires_in:d,expires_at:h,token_type:m}=e;if(!o||!d||!c||!m)throw new al("No session defined in URL");const g=Math.round(Date.now()/1e3),v=parseInt(d);let _=g+v;h&&(_=parseInt(h));const b=_-g;b*1e3<=qa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${v}s`);const E=_-v;g-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,_,g):g-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,_,g);const{data:S,error:w}=await this._getUser(o);if(w)throw w;const A={provider_token:a,provider_refresh_token:i,access_token:o,expires_in:v,expires_at:_,refresh_token:c,token_type:m,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:A,redirectType:e.type},error:null})}catch(a){if(pe(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Yr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var a;const{data:i,error:o}=t;if(o)return this._returnResult({error:o});const c=(a=i.session)===null||a===void 0?void 0:a.access_token;if(c){const{error:d}=await this.admin.signOut(c,e);if(d&&!(fE(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return e!=="others"&&(await this._removeSession(),await bt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=kE(),a={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:a}}}async _emitInitialSession(e){return await this._useSession(async t=>{var a,i;try{const{data:{session:o},error:c}=t;if(c)throw c;await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,t={}){let a=null,i=null;this.flowType==="pkce"&&([a,i]=await Da(this.storage,this.storageKey,!0));try{return await xe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(o){if(await bt(this.storage,`${this.storageKey}-code-verifier`),pe(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:t,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(t){if(pe(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:a,error:i}=await this._useSession(async o=>{var c,d,h,m,g;const{data:v,error:_}=o;if(_)throw _;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await xe(this.fetch,"GET",b,{headers:this.headers,jwt:(g=(m=v.session)===null||m===void 0?void 0:m.access_token)!==null&&g!==void 0?g:void 0})});if(i)throw i;return kt()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),this._returnResult({data:{provider:e.provider,url:a==null?void 0:a.url},error:null})}catch(a){if(pe(a))return this._returnResult({data:{provider:e.provider,url:null},error:a});throw a}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var a;try{const{error:i,data:{session:o}}=t;if(i)throw i;const{options:c,provider:d,token:h,access_token:m,nonce:g}=e,v=await xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=o==null?void 0:o.access_token)!==null&&a!==void 0?a:void 0,body:{provider:d,id_token:h,access_token:m,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:vn}),{data:_,error:b}=v;return b?this._returnResult({data:{user:null,session:null},error:b}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new Ia}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:b}))}catch(i){if(await bt(this.storage,`${this.storageKey}-code-verifier`),pe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var a,i;const{data:o,error:c}=t;if(c)throw c;return await xe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0})})}catch(t){if(pe(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const a=Date.now();return await PE(async i=>(i>0&&await CE(200*Math.pow(2,i-1)),this._debug(t,"refreshing attempt",i),await xe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:vn})),(i,o)=>{const c=200*Math.pow(2,i);return o&&id(o)&&Date.now()+c-a<qa})}catch(a){if(this._debug(t,"error",a),pe(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const a=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",a),kt()&&!t.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}}async _recoverAndRefresh(){var e,t;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const i=await Yr(this.storage,this.storageKey);if(i&&this.userStorage){let c=await Yr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:i.user},await za(this.userStorage,this.storageKey+"-user",c)),i.user=(e=c==null?void 0:c.user)!==null&&e!==void 0?e:ld()}else if(i&&!i.user&&!i.user){const c=await Yr(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(i.user=c.user,await bt(this.storage,this.storageKey+"-user"),await za(this.storage,this.storageKey,i)):i.user=ld()}if(this._debug(a,"session from storage",i),!this._isValidSession(i)){this._debug(a,"session is not valid"),i!==null&&await this._removeSession();return}const o=((t=i.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<sd;if(this._debug(a,`session has${o?"":" not"} expired with margin of ${sd}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:c}=await this._callRefreshToken(i.refresh_token);c&&(console.error(c),id(c)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(i.access_token);!d&&(c!=null&&c.user)?(i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(a,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(a,"error",i),console.error(i);return}finally{this._debug(a,"end")}}async _callRefreshToken(e){var t,a;if(!e)throw new Yt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ul;const{data:o,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!o.session)throw new Yt;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const d={data:o.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(o){if(this._debug(i,"error",o),pe(o)){const c={data:null,error:o};return id(o)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(c),c}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,t,a=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",t,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:t});const o=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,t)}catch(h){o.push(h)}});if(await Promise.all(c),o.length>0){for(let d=0;d<o.length;d+=1)console.error(o[d]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await bt(this.storage,`${this.storageKey}-code-verifier`);const t=Object.assign({},e),a=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&t.user&&await za(this.userStorage,this.storageKey+"-user",{user:t.user});const i=Object.assign({},t);delete i.user;const o=Hg(i);await za(this.storage,this.storageKey,o)}else{const i=Hg(t);await za(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await bt(this.storage,this.storageKey),await bt(this.storage,this.storageKey+"-code-verifier"),await bt(this.storage,this.storageKey+"-user"),this.userStorage&&await bt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&kt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),qa);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:a}}=t;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((a.expires_at*1e3-e)/qa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${qa}ms, refresh threshold is ${Qd} ticks`),i<=Qd&&await this._callRefreshToken(a.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Q2)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!kt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,a){const i=[`provider=${encodeURIComponent(t)}`];if(a!=null&&a.redirectTo&&i.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&i.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[o,c]=await Da(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(c)}`});i.push(d.toString())}if(a!=null&&a.queryParams){const o=new URLSearchParams(a.queryParams);i.push(o.toString())}return a!=null&&a.skipBrowserRedirect&&i.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var a;const{data:i,error:o}=t;return o?this._returnResult({data:null,error:o}):await xe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token})})}catch(t){if(pe(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var a,i;const{data:o,error:c}=t;if(c)return this._returnResult({data:null,error:c});const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:m}=await xe(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(a=o==null?void 0:o.session)===null||a===void 0?void 0:a.access_token});return m?this._returnResult({data:null,error:m}):(e.factorType==="totp"&&h.type==="totp"&&(!((i=h==null?void 0:h.totp)===null||i===void 0)&&i.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(t){if(pe(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var a;const{data:i,error:o}=t;if(o)return this._returnResult({data:null,error:o});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?ak(e.webauthn.credential_response):sk(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:h}=await xe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:h}))})}catch(t){if(pe(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var a;const{data:i,error:o}=t;if(o)return this._returnResult({data:null,error:o});const c=await xe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});if(c.error)return c;const{data:d}=c;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:nk(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:rk(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(pe(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:a}=await this._challenge({factorId:e.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:a}=await this.getUser();if(a)return{data:null,error:a};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=t==null?void 0:t.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:a},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=od(a.access_token);let c=null;o.aal&&(c=o.aal);let d=c;((t=(e=a.user.factors)===null||e===void 0?void 0:e.filter(g=>g.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(d="aal2");const m=o.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:a},error:i}=t;return i?this._returnResult({data:null,error:i}):a?await xe(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:a.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Yt})})}catch(t){if(pe(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async a=>{const{data:{session:i},error:o}=a;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new Yt});const c=await xe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&kt()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(a){if(pe(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(e,t){try{return await this._useSession(async a=>{const{data:{session:i},error:o}=a;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new Yt});const c=await xe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&kt()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(a){if(pe(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:a}=e;return a?this._returnResult({data:null,error:a}):t?await xe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Yt})})}catch(e){if(pe(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:a},error:i}=t;return i?this._returnResult({data:null,error:i}):a?(await xe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Yt})})}catch(t){if(pe(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e,t={keys:[]}){let a=t.keys.find(d=>d.kid===e);if(a)return a;const i=Date.now();if(a=this.jwks.keys.find(d=>d.kid===e),a&&this.jwks_cached_at+hE>i)return a;const{data:o,error:c}=await xe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,a=o.keys.find(d=>d.kid===e),!a)?null:a}async getClaims(e,t={}){try{let a=e;if(!a){const{data:b,error:E}=await this.getSession();if(E||!b.session)return this._returnResult({data:null,error:E});a=b.session.access_token}const{header:i,payload:o,signature:c,raw:{header:d,payload:h}}=od(a);t!=null&&t.allowExpired||IE(o.exp);const m=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!m){const{error:b}=await this.getUser(a);if(b)throw b;return{data:{claims:o,header:i,signature:c},error:null}}const g=DE(i.alg),v=await crypto.subtle.importKey("jwk",m,g,!0,["verify"]);if(!await crypto.subtle.verify(g,v,c,bE(`${d}.${h}`)))throw new eh("Invalid JWT signature");return{data:{claims:o,header:i,signature:c},error:null}}catch(a){if(pe(a))return this._returnResult({data:null,error:a});throw a}}}Ti.nextInstanceID={};const fk=Ti,mk="2.89.0";let pi="";typeof Deno<"u"?pi="deno":typeof document<"u"?pi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?pi="react-native":pi="node";const gk={"X-Client-Info":`supabase-js-${pi}/${mk}`},vk={headers:gk},yk={schema:"public"},_k={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},xk={};function Ri(n){"@babel/helpers - typeof";return Ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ri(n)}function wk(n,e){if(Ri(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var a=t.call(n,e);if(Ri(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function bk(n){var e=wk(n,"string");return Ri(e)=="symbol"?e:e+""}function Ek(n,e,t){return(e=bk(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Zg(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,a)}return t}function rt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Zg(Object(t),!0).forEach(function(a){Ek(n,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Zg(Object(t)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(t,a))})}return n}const kk=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),Sk=()=>Headers,Ak=(n,e,t)=>{const a=kk(t),i=Sk();return async(o,c)=>{var d;const h=(d=await e())!==null&&d!==void 0?d:n;let m=new i(c==null?void 0:c.headers);return m.has("apikey")||m.set("apikey",n),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),a(o,rt(rt({},c),{},{headers:m}))}};function Ck(n){return n.endsWith("/")?n:n+"/"}function Pk(n,e){var t,a;const{db:i,auth:o,realtime:c,global:d}=n,{db:h,auth:m,realtime:g,global:v}=e,_={db:rt(rt({},h),i),auth:rt(rt({},m),o),realtime:rt(rt({},g),c),storage:{},global:rt(rt(rt({},v),d),{},{headers:rt(rt({},(t=v==null?void 0:v.headers)!==null&&t!==void 0?t:{}),(a=d==null?void 0:d.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return n.accessToken?_.accessToken=n.accessToken:delete _.accessToken,_}function Tk(n){const e=n==null?void 0:n.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ck(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Rk=class extends fk{constructor(n){super(n)}},Lk=class{constructor(n,e,t){var a,i;this.supabaseUrl=n,this.supabaseKey=e;const o=Tk(n);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const c=`sb-${o.hostname.split(".")[0]}-auth-token`,d={db:yk,realtime:xk,auth:rt(rt({},_k),{},{storageKey:c}),global:vk},h=Pk(t??{},d);if(this.storageKey=(a=h.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken)this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=h.auth)!==null&&m!==void 0?m:{},this.headers,h.global.fetch)}this.fetch=Ak(e,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(rt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&this.accessToken().then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new u1(new URL("rest/v1",o).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new oE(this.storageUrl.href,this.headers,this.fetch,t==null?void 0:t.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new s1(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,e={},t={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,e,t)}channel(n,e={config:{}}){return this.realtime.channel(n,e)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,e,t;if(n.accessToken)return await n.accessToken();const{data:a}=await n.auth.getSession();return(e=(t=a.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:e,detectSessionInUrl:t,storage:a,userStorage:i,storageKey:o,flowType:c,lock:d,debug:h,throwOnError:m},g,v){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Rk({url:this.authUrl.href,headers:rt(rt({},_),g),storageKey:o,autoRefreshToken:n,persistSession:e,detectSessionInUrl:t,storage:a,userStorage:i,flowType:c,lock:d,debug:h,throwOnError:m,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new C1(this.realtimeUrl.href,rt(rt({},n),{},{params:rt(rt({},{apikey:this.supabaseKey}),n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,e)=>{this._handleTokenChanged(n,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(n,e,t){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==t?(this.changedAccessToken=t,this.realtime.setAuth(t)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Ok=(n,e,t)=>new Lk(n,e,t);function Nk(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Nk()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const jk="https://bqxnagmmegdbqrzhheip.supabase.co",Ik="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJxeG5hZ21tZWdkYnFyemhoZWlwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2OTM5NTgsImV4cCI6MjA2ODI2OTk1OH0.LBb7KaCSs7LpsD9NZCOcartkcDIIALBIrpnYcv5Y0yY",C=Ok(jk,Ik,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}});/*! Capacitor: https://capacitorjs.com/ - MIT License */var es;(function(n){n.Unimplemented="UNIMPLEMENTED",n.Unavailable="UNAVAILABLE"})(es||(es={}));class ud extends Error{constructor(e,t,a){super(e),this.message=e,this.code=t,this.data=a}}const Dk=n=>{var e,t;return n!=null&&n.androidBridge?"android":!((t=(e=n==null?void 0:n.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||t===void 0)&&t.bridge?"ios":"web"},Bk=n=>{const e=n.CapacitorCustomPlatform||null,t=n.Capacitor||{},a=t.Plugins=t.Plugins||{},i=()=>e!==null?e.name:Dk(n),o=()=>i()!=="web",c=v=>{const _=m.get(v);return!!(_!=null&&_.platforms.has(i())||d(v))},d=v=>{var _;return(_=t.PluginHeaders)===null||_===void 0?void 0:_.find(b=>b.name===v)},h=v=>n.console.error(v),m=new Map,g=(v,_={})=>{const b=m.get(v);if(b)return console.warn(`Capacitor plugin "${v}" already registered. Cannot register plugins twice.`),b.proxy;const E=i(),S=d(v);let w;const A=async()=>(!w&&E in _?w=typeof _[E]=="function"?w=await _[E]():w=_[E]:e!==null&&!w&&"web"in _&&(w=typeof _.web=="function"?w=await _.web():w=_.web),w),R=(F,X)=>{var ne,fe;if(S){const te=S==null?void 0:S.methods.find(de=>X===de.name);if(te)return te.rtype==="promise"?de=>t.nativePromise(v,X.toString(),de):(de,ce)=>t.nativeCallback(v,X.toString(),de,ce);if(F)return(ne=F[X])===null||ne===void 0?void 0:ne.bind(F)}else{if(F)return(fe=F[X])===null||fe===void 0?void 0:fe.bind(F);throw new ud(`"${v}" plugin is not implemented on ${E}`,es.Unimplemented)}},N=F=>{let X;const ne=(...fe)=>{const te=A().then(de=>{const ce=R(de,F);if(ce){const ue=ce(...fe);return X=ue==null?void 0:ue.remove,ue}else throw new ud(`"${v}.${F}()" is not implemented on ${E}`,es.Unimplemented)});return F==="addListener"&&(te.remove=async()=>X()),te};return ne.toString=()=>`${F.toString()}() { [capacitor code] }`,Object.defineProperty(ne,"name",{value:F,writable:!1,configurable:!1}),ne},B=N("addListener"),U=N("removeListener"),K=(F,X)=>{const ne=B({eventName:F},X),fe=async()=>{const de=await ne;U({eventName:F,callbackId:de},X)},te=new Promise(de=>ne.then(()=>de({remove:fe})));return te.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await fe()},te},Q=new Proxy({},{get(F,X){switch(X){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return S?K:B;case"removeListener":return U;default:return N(X)}}});return a[v]=Q,m.set(v,{name:v,proxy:Q,platforms:new Set([...Object.keys(_),...S?[E]:[]])}),Q};return t.convertFileSrc||(t.convertFileSrc=v=>v),t.getPlatform=i,t.handleError=h,t.isNativePlatform=o,t.isPluginAvailable=c,t.registerPlugin=g,t.Exception=ud,t.DEBUG=!!t.DEBUG,t.isLoggingEnabled=!!t.isLoggingEnabled,t},$k=n=>n.Capacitor=Bk(n),Tl=$k(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),wh=Tl.registerPlugin;class bh{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,t){let a=!1;this.listeners[e]||(this.listeners[e]=[],a=!0),this.listeners[e].push(t);const o=this.windowListeners[e];o&&!o.registered&&this.addWindowListener(o),a&&this.sendRetainedArgumentsForEvent(e);const c=async()=>this.removeListener(e,t);return Promise.resolve({remove:c})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t,a){const i=this.listeners[e];if(!i){if(a){let o=this.retainedEventArguments[e];o||(o=[]),o.push(t),this.retainedEventArguments[e]=o}return}i.forEach(o=>o(t))}hasListeners(e){var t;return!!(!((t=this.listeners[e])===null||t===void 0)&&t.length)}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:a=>{this.notifyListeners(t,a)}}}unimplemented(e="not implemented"){return new Tl.Exception(e,es.Unimplemented)}unavailable(e="not available"){return new Tl.Exception(e,es.Unavailable)}async removeListener(e,t){const a=this.listeners[e];if(!a)return;const i=a.indexOf(t);this.listeners[e].splice(i,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach(a=>{this.notifyListeners(e,a)}))}}const ev=n=>encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),tv=n=>n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Mk extends bh{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach(a=>{if(a.length<=0)return;let[i,o]=a.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=tv(i).trim(),o=tv(o).trim(),t[i]=o}),t}async setCookie(e){try{const t=ev(e.key),a=ev(e.value),i=`; expires=${(e.expires||"").replace("expires=","")}`,o=(e.path||"/").replace("path=",""),c=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${a||""}${i}; path=${o}; ${c};`}catch(t){return Promise.reject(t)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}wh("CapacitorCookies",{web:()=>new Mk});const Uk=async n=>new Promise((e,t)=>{const a=new FileReader;a.onload=()=>{const i=a.result;e(i.indexOf(",")>=0?i.split(",")[1]:i)},a.onerror=i=>t(i),a.readAsDataURL(n)}),Fk=(n={})=>{const e=Object.keys(n);return Object.keys(n).map(i=>i.toLocaleLowerCase()).reduce((i,o,c)=>(i[o]=n[e[c]],i),{})},qk=(n,e=!0)=>n?Object.entries(n).reduce((a,i)=>{const[o,c]=i;let d,h;return Array.isArray(c)?(h="",c.forEach(m=>{d=e?encodeURIComponent(m):m,h+=`${o}=${d}&`}),h.slice(0,-1)):(d=e?encodeURIComponent(c):c,h=`${o}=${d}`),`${a}&${h}`},"").substr(1):null,zk=(n,e={})=>{const t=Object.assign({method:n.method||"GET",headers:n.headers},e),i=Fk(n.headers)["content-type"]||"";if(typeof n.data=="string")t.body=n.data;else if(i.includes("application/x-www-form-urlencoded")){const o=new URLSearchParams;for(const[c,d]of Object.entries(n.data||{}))o.set(c,d);t.body=o.toString()}else if(i.includes("multipart/form-data")||n.data instanceof FormData){const o=new FormData;if(n.data instanceof FormData)n.data.forEach((d,h)=>{o.append(h,d)});else for(const d of Object.keys(n.data))o.append(d,n.data[d]);t.body=o;const c=new Headers(t.headers);c.delete("content-type"),t.headers=c}else(i.includes("application/json")||typeof n.data=="object")&&(t.body=JSON.stringify(n.data));return t};class Vk extends bh{async request(e){const t=zk(e,e.webFetchExtra),a=qk(e.params,e.shouldEncodeUrlParams),i=a?`${e.url}?${a}`:e.url,o=await fetch(i,t),c=o.headers.get("content-type")||"";let{responseType:d="text"}=o.ok?e:{};c.includes("application/json")&&(d="json");let h,m;switch(d){case"arraybuffer":case"blob":m=await o.blob(),h=await Uk(m);break;case"json":h=await o.json();break;case"document":case"text":default:h=await o.text()}const g={};return o.headers.forEach((v,_)=>{g[_]=v}),{data:h,headers:g,status:o.status,url:o.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}wh("CapacitorHttp",{web:()=>new Vk});var nv;(function(n){n.Dark="DARK",n.Light="LIGHT",n.Default="DEFAULT"})(nv||(nv={}));var rv;(function(n){n.StatusBar="StatusBar",n.NavigationBar="NavigationBar"})(rv||(rv={}));class Wk extends bh{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}wh("SystemBars",{web:()=>new Wk});const ey=L.createContext(void 0);let sl=!1;async function Hk(n,e,t,a){try{(await fetch("https://bqxnagmmegdbqrzhheip.supabase.co/rest/v1/device_tokens",{method:"POST",headers:{"Content-Type":"application/json",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJxeG5hZ21tZWdkYnFyemhoZWlwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2OTM5NTgsImV4cCI6MjA2ODI2OTk1OH0.LBb7KaCSs7LpsD9NZCOcartkcDIIALBIrpnYcv5Y0yY",Authorization:`Bearer ${a}`,Prefer:"resolution=merge-duplicates"},body:JSON.stringify({device_token:n,user_id:e,company_id:t,platform:"ios"})})).ok&&console.log("Device token registered for push notifications")}catch(i){console.error("Failed to register device token:",i)}}function Kk({children:n}){const[e,t]=L.useState(null),[a,i]=L.useState(null),[o,c]=L.useState(!sl),d=L.useRef(sl);L.useEffect(()=>{let w=!0,A=d.current;d.current&&c(!1);const R=setTimeout(()=>{w&&!d.current&&(console.warn("Auth check timed out after 5 seconds"),c(!1),A=!0,d.current=!0,sl=!0)},5e3);async function N(){try{const F=localStorage.getItem("sb-bqxnagmmegdbqrzhheip-auth-token"),{data:{user:X},error:ne}=await C.auth.getUser();if(!w)return;if(ne||!X){localStorage.removeItem("sb-bqxnagmmegdbqrzhheip-auth-token"),sessionStorage.removeItem("sb-bqxnagmmegdbqrzhheip-auth-token"),t(null),i(null),c(!1),A=!0;return}const fe=X;if(fe)try{const{data:te,error:de}=await C.from("profiles").select("*").eq("id",fe.id).maybeSingle();if(!w)return;de||!te?(console.warn("Session mismatch detected - clearing invalid session"),localStorage.removeItem("sb-bqxnagmmegdbqrzhheip-auth-token"),sessionStorage.removeItem("sb-bqxnagmmegdbqrzhheip-auth-token"),await C.auth.signOut(),t(null),i(null)):(t(fe),i(te))}catch(te){console.error("Profile validation error:",te),t(fe)}else t(null),i(null)}catch(F){console.error("Auth load error:",F),localStorage.removeItem("sb-bqxnagmmegdbqrzhheip-auth-token"),sessionStorage.removeItem("sb-bqxnagmmegdbqrzhheip-auth-token"),t(null),i(null)}finally{clearTimeout(R),w&&(c(!1),A=!0,d.current=!0,sl=!0)}}N();const{data:{subscription:B}}=C.auth.onAuthStateChange(async(F,X)=>{if(w&&F!=="INITIAL_SESSION"&&A)if(t((X==null?void 0:X.user)||null),X!=null&&X.user){const{data:ne}=await C.from("profiles").select("*").eq("id",X.user.id).maybeSingle();w&&i(ne)}else i(null)}),U=setInterval(async()=>{if(w)try{await C.auth.refreshSession()}catch(F){console.warn("Session refresh failed:",F)}},10*60*1e3),K=async()=>{var F;if(document.visibilityState==="visible"&&w)try{const{data:{session:X}}=await C.auth.getSession();if(X){const{data:ne,error:fe}=await C.auth.refreshSession();fe&&(fe.message.includes("Invalid")||fe.message.includes("expired"))?(console.warn("Session invalid, clearing auth state"),t(null),i(null)):(F=ne==null?void 0:ne.session)!=null&&F.user&&t(ne.session.user)}}catch(X){console.warn("Session refresh on visibility failed (keeping state):",X)}};document.addEventListener("visibilitychange",K);let Q=null;return Tl.isNativePlatform()&&Fe(async()=>{const{App:F}=await import("./index-D_nvtiXs.js");return{App:F}},[]).then(({App:F})=>{Q=F.addListener("appStateChange",async({isActive:X})=>{var ne;if(X&&w){console.log("App resumed from background");try{const{data:fe}=await C.auth.refreshSession();(ne=fe==null?void 0:fe.session)!=null&&ne.user&&t(fe.session.user)}catch(fe){console.warn("App resume session refresh failed (keeping state):",fe)}}})}).catch(console.error),()=>{w=!1,clearTimeout(R),clearInterval(U),document.removeEventListener("visibilitychange",K),Q&&Q.remove(),B.unsubscribe()}},[]);async function h(w,A){var B,U;const{data:R,error:N}=await C.auth.signInWithPassword({email:w,password:A});if((B=N==null?void 0:N.message)!=null&&B.toLowerCase().includes("email not confirmed"))return{error:new Error("Please verify your email address before logging in. Check your inbox for the verification link.")};if(!N&&R.user){if(!R.user.email_confirmed_at)return await C.auth.signOut(),{error:new Error("Please verify your email address before logging in. Check your inbox for the verification link.")};t(R.user);const{data:K}=await C.from("profiles").select("*").eq("id",R.user.id).maybeSingle();if(i(K),K!=null&&K.company_id&&((U=R.session)!=null&&U.access_token)){localStorage.setItem("userId",R.user.id),localStorage.setItem("companyId",K.company_id),localStorage.setItem("authToken",R.session.access_token);const Q=localStorage.getItem("apnsDeviceToken");Q&&Hk(Q,R.user.id,K.company_id,R.session.access_token)}}return{error:N}}async function m(w,A,R,N,B,U){var F;const{data:K,error:Q}=await C.auth.signUp({email:w,password:A,options:{emailRedirectTo:`${window.location.origin}/login`}});if(Q)return{error:Q};if(K.user){const X=!K.user.email_confirmed_at;let ne=null;try{const{data:ce}=await C.from("company_invitations").select("*, role:roles(id, name)").eq("email",w.toLowerCase()).eq("status","pending").gt("expires_at",new Date().toISOString()).maybeSingle();ne=ce}catch(ce){console.error("Failed to check invitation:",ce)}let fe=null,te="admin",de=null;if(ne){fe=ne.company_id,de=ne.role_id,te=((F=ne.role)==null?void 0:F.name)||"staff";try{await C.from("company_invitations").update({status:"accepted"}).eq("id",ne.id)}catch(ce){console.error("Failed to update invitation status:",ce)}}else try{const ce=(B==null?void 0:B.trim())||`${R}'s Company`,{data:ue,error:Pe}=await C.rpc("create_company_for_user",{p_user_id:K.user.id,p_company_name:ce,p_full_name:R,p_phone:N});!Pe&&ue&&(fe=ue)}catch(ce){console.error("Company creation failed:",ce)}try{const{data:ce}=await C.from("profiles").select("*").eq("id",K.user.id).maybeSingle();if(ce){const ue={company_id:fe,full_name:R,role:te,phone:N,company_name:B||null};de&&(ue.role_id=de),U&&(U.dateOfBirth&&(ue.date_of_birth=U.dateOfBirth),U.address&&(ue.address=U.address),U.city&&(ue.city=U.city),U.state&&(ue.state=U.state),U.zipCode&&(ue.zip_code=U.zipCode),U.emergencyContactName&&(ue.emergency_contact_name=U.emergencyContactName),U.emergencyContactPhone&&(ue.emergency_contact_phone=U.emergencyContactPhone),U.dateOfHire&&(ue.hire_date=U.dateOfHire));const{data:Pe}=await C.from("profiles").update(ue).eq("id",K.user.id).select().single();i(Pe)}else{const ue={id:K.user.id,email:w,full_name:R,company_id:fe,role:te,is_active:!0,is_billable:!0,phone:N,company_name:B||null};de&&(ue.role_id=de),U&&(U.dateOfBirth&&(ue.date_of_birth=U.dateOfBirth),U.address&&(ue.address=U.address),U.city&&(ue.city=U.city),U.state&&(ue.state=U.state),U.zipCode&&(ue.zip_code=U.zipCode),U.emergencyContactName&&(ue.emergency_contact_name=U.emergencyContactName),U.emergencyContactPhone&&(ue.emergency_contact_phone=U.emergencyContactPhone),U.dateOfHire&&(ue.hire_date=U.dateOfHire));const{data:Pe}=await C.from("profiles").insert(ue).select().single();i(Pe)}}catch(ce){console.error("Profile setup failed:",ce)}try{fetch("https://bqxnagmmegdbqrzhheip.supabase.co/functions/v1/hubspot-sync",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:w,full_name:R,phone_number:N,company_name:B})}).catch(console.error)}catch(ce){console.error("HubSpot sync failed:",ce)}return X||t(K.user),{error:null,emailConfirmationRequired:X}}return{error:null}}async function g(w){const{error:A}=await C.auth.resend({type:"signup",email:w,options:{emailRedirectTo:`${window.location.origin}/login`}});return{error:A}}async function v(){t(null),i(null),localStorage.removeItem("sb-bqxnagmmegdbqrzhheip-auth-token"),sessionStorage.removeItem("sb-bqxnagmmegdbqrzhheip-auth-token"),localStorage.removeItem("userId"),localStorage.removeItem("companyId"),localStorage.removeItem("authToken"),await C.auth.signOut()}async function _(){const{error:w}=await C.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/dashboard`}});return{error:w}}async function b(){const{error:w}=await C.auth.signInWithOAuth({provider:"apple",options:{redirectTo:`${window.location.origin}/dashboard`}});return{error:w}}async function E(){const{error:w}=await C.auth.signInWithOAuth({provider:"facebook",options:{redirectTo:`${window.location.origin}/dashboard`}});return{error:w}}async function S(){if(e){const{data:w}=await C.from("profiles").select("*").eq("id",e.id).maybeSingle();i(w)}}return x.jsx(ey.Provider,{value:{user:e,profile:a,loading:o,signIn:h,signUp:m,signInWithGoogle:_,signInWithApple:b,signInWithFacebook:E,signOut:v,refreshProfile:S,resendVerificationEmail:g},"data-matrix-id":"src/contexts/AuthContext.tsx:529:4","data-matrix-name":"AuthContext.Provider","data-component-path":"src/contexts/AuthContext.tsx","data-component-line":"529","data-component-file":"AuthContext.tsx","data-component-name":"AuthContext.Provider","data-component-content":"%7B%22value%22%3A%7B%22user%22%3A%22%5Bvar%3Auser%5D%22%2C%22profile%22%3A%22%5Bvar%3Aprofile%5D%22%2C%22loading%22%3A%22%5Bvar%3Aloading%5D%22%2C%22signIn%22%3A%22%5Bvar%3AsignIn%5D%22%2C%22signUp%22%3A%22%5Bvar%3AsignUp%5D%22%2C%22signInWithGoogle%22%3A%22%5Bvar%3AsignInWithGoogle%5D%22%2C%22signInWithApple%22%3A%22%5Bvar%3AsignInWithApple%5D%22%2C%22signInWithFacebook%22%3A%22%5Bvar%3AsignInWithFacebook%5D%22%2C%22signOut%22%3A%22%5Bvar%3AsignOut%5D%22%2C%22refreshProfile%22%3A%22%5Bvar%3ArefreshProfile%5D%22%2C%22resendVerificationEmail%22%3A%22%5Bvar%3AresendVerificationEmail%5D%22%7D%7D",children:n})}function ss(){const n=L.useContext(ey);if(!n)throw new Error("useAuth must be used within AuthProvider");return n}const ti={projects:{view:!1,create:!1,edit:!1,delete:!1},time:{view:!1,create:!1,edit:!1,delete:!1},invoicing:{view:!1,create:!1,edit:!1,delete:!1},quotes:{view:!1,create:!1,edit:!1,delete:!1},settings:{view:!1,create:!1,edit:!1,delete:!1},approvals:{view:!1,approve:!1},canViewFinancials:!1},av={projects:{view:!0,create:!0,edit:!0,delete:!0},time:{view:!0,create:!0,edit:!0,delete:!0},invoicing:{view:!0,create:!0,edit:!0,delete:!0},quotes:{view:!0,create:!0,edit:!0,delete:!0},settings:{view:!0,create:!0,edit:!0,delete:!0},approvals:{view:!0,approve:!0},canViewFinancials:!0},ty=L.createContext(void 0);function Gk({children:n}){var S;const{profile:e}=ss(),[t,a]=L.useState(ti),[i,o]=L.useState(!0),[c,d]=L.useState(!1),h=async()=>{if(!(e!=null&&e.company_id)||!(e!=null&&e.id)){a(ti),o(!1);return}try{if(e.role==="admin"){a(av),d(!0),o(!1);return}if(e.role_id){const{data:A,error:R}=await C.from("roles").select("*").eq("id",e.role_id).single();if(!R&&A){const N=A.permissions||ti;a(N),d(A.name==="Admin"),o(!1);return}}const{count:w}=await C.from("profiles").select("*",{count:"exact",head:!0}).eq("company_id",e.company_id);w===1?(a(av),d(!0)):(a(ti),d(!1))}catch(w){console.error("Failed to load permissions:",w),a(ti)}o(!1)};L.useEffect(()=>{h()},[e==null?void 0:e.id,e==null?void 0:e.role_id,e==null?void 0:e.company_id]);const m=w=>{var A;return c||((A=t[w])==null?void 0:A.view)===!0},g=w=>{var A;return c||((A=t[w])==null?void 0:A.create)===!0},v=w=>{var A;return c||((A=t[w])==null?void 0:A.edit)===!0},_=w=>{var A;return c||((A=t[w])==null?void 0:A.delete)===!0},b=c||t.canViewFinancials===!0,E=c||((S=t.approvals)==null?void 0:S.approve)===!0;return x.jsx(ty.Provider,{value:{permissions:t,loading:i,isAdmin:c,canViewFinancials:b,canApprove:E,canView:m,canCreate:g,canEdit:v,canDelete:_,refreshPermissions:h},"data-matrix-id":"src/contexts/PermissionsContext.tsx:129:4","data-matrix-name":"PermissionsContext.Provider","data-component-path":"src/contexts/PermissionsContext.tsx","data-component-line":"129","data-component-file":"PermissionsContext.tsx","data-component-name":"PermissionsContext.Provider","data-component-content":"%7B%22value%22%3A%7B%22permissions%22%3A%22%5Bvar%3Apermissions%5D%22%2C%22loading%22%3A%22%5Bvar%3Aloading%5D%22%2C%22isAdmin%22%3A%22%5Bvar%3AisAdmin%5D%22%2C%22canViewFinancials%22%3A%22%5Bvar%3AcanViewFinancialsValue%5D%22%2C%22canApprove%22%3A%22%5Bvar%3AcanApproveValue%5D%22%2C%22canView%22%3A%22%5Bvar%3AcanView%5D%22%2C%22canCreate%22%3A%22%5Bvar%3AcanCreate%5D%22%2C%22canEdit%22%3A%22%5Bvar%3AcanEdit%5D%22%2C%22canDelete%22%3A%22%5Bvar%3AcanDelete%5D%22%2C%22refreshPermissions%22%3A%22%5Bvar%3AloadPermissions%5D%22%7D%7D",children:n})}function Jk(){const n=L.useContext(ty);if(n===void 0)throw new Error("usePermissions must be used within a PermissionsProvider");return n}const ny=L.createContext(void 0);function Yk({children:n}){var ne,fe;const{user:e,profile:t}=ss(),[a,i]=L.useState(null),[o,c]=L.useState(null),[d,h]=L.useState([]),[m,g]=L.useState(!0),[v,_]=L.useState(null),[b,E]=L.useState({isOpen:!1}),S=L.useCallback(async()=>{try{const{data:te,error:de}=await C.from("billdora_plans").select("*").eq("is_active",!0).order("amount",{ascending:!0});if(de)throw de;return h(te||[]),te||[]}catch(te){return console.error("Failed to load plans:",te),_(te.message),[]}},[]),w=L.useCallback(async()=>{if(!(e!=null&&e.id)){i(null),c(null),g(!1);return}try{const{data:te,error:de}=await C.from("billdora_subscriptions").select("*, plan:billdora_plans(*)").eq("user_id",e.id).in("status",["active","trialing"]).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(de)throw de;if(te)i(te),c(te.plan);else{const ue=(d.length>0?d:await S()).find(Pe=>Pe.name==="Free"||Pe.amount===0);i(null),c(ue||null)}}catch(te){console.error("Failed to load subscription:",te),_(te.message)}finally{g(!1)}},[e==null?void 0:e.id,d,S]);L.useEffect(()=>{S()},[S]),L.useEffect(()=>{(d.length>0||e!=null&&e.id)&&w()},[e==null?void 0:e.id,d.length,w]);const A=L.useCallback(async()=>{g(!0),await w()},[w]),R=L.useCallback(te=>o?(o.features||[]).some(ce=>ce.toLowerCase().includes(te.toLowerCase())):!1,[o]),N=L.useCallback((te,de)=>{if(!(o!=null&&o.limits))return{allowed:!1,limit:null,remaining:null};let ce=null;switch(te){case"projects":ce=o.limits.projects;break;case"team_members":ce=o.limits.team_members;break;case"clients":ce=o.limits.clients;break;case"invoices":ce=o.limits.invoices_per_month;break}if(ce===null||ce===-1)return{allowed:!0,limit:null,remaining:null};const ue=ce-de;return{allowed:de<ce,limit:ce,remaining:ue>0?ue:0}},[o]),B=((ne=o==null?void 0:o.name)==null?void 0:ne.toLowerCase().includes("professional"))||!1,U=((fe=o==null?void 0:o.name)==null?void 0:fe.toLowerCase().includes("starter"))||!1,K=!B&&!U&&((o==null?void 0:o.name)==="Free"||(o==null?void 0:o.amount)===0||!a),Q=L.useCallback((te,de)=>{E({isOpen:!0,limitType:te,currentCount:de})},[]),F=L.useCallback(()=>{E({isOpen:!1})},[]),X=L.useCallback((te,de)=>N(te,de).allowed?!0:(E({isOpen:!0,limitType:te,currentCount:de}),!1),[N]);return x.jsx(ny.Provider,{value:{subscription:a,currentPlan:o,plans:d,loading:m,error:v,refreshSubscription:A,canUseFeature:R,checkLimit:N,checkLimitAndPrompt:X,showUpgradeModal:Q,hideUpgradeModal:F,upgradeModalState:b,isPro:B,isStarter:U,isFree:K},"data-matrix-id":"src/contexts/SubscriptionContext.tsx:219:4","data-matrix-name":"SubscriptionContext.Provider","data-component-path":"src/contexts/SubscriptionContext.tsx","data-component-line":"219","data-component-file":"SubscriptionContext.tsx","data-component-name":"SubscriptionContext.Provider","data-component-content":"%7B%22value%22%3A%7B%22subscription%22%3A%22%5Bvar%3Asubscription%5D%22%2C%22currentPlan%22%3A%22%5Bvar%3AcurrentPlan%5D%22%2C%22plans%22%3A%22%5Bvar%3Aplans%5D%22%2C%22loading%22%3A%22%5Bvar%3Aloading%5D%22%2C%22error%22%3A%22%5Bvar%3Aerror%5D%22%2C%22refreshSubscription%22%3A%22%5Bvar%3ArefreshSubscription%5D%22%2C%22canUseFeature%22%3A%22%5Bvar%3AcanUseFeature%5D%22%2C%22checkLimit%22%3A%22%5Bvar%3AcheckLimit%5D%22%2C%22checkLimitAndPrompt%22%3A%22%5Bvar%3AcheckLimitAndPrompt%5D%22%2C%22showUpgradeModal%22%3A%22%5Bvar%3AshowUpgradeModal%5D%22%2C%22hideUpgradeModal%22%3A%22%5Bvar%3AhideUpgradeModal%5D%22%2C%22upgradeModalState%22%3A%22%5Bvar%3AupgradeModalState%5D%22%2C%22isPro%22%3A%22%5Bvar%3AisPro%5D%22%2C%22isStarter%22%3A%22%5Bvar%3AisStarter%5D%22%2C%22isFree%22%3A%22%5Bvar%3AisFree%5D%22%7D%7D",children:n})}function ry(){const n=L.useContext(ny);if(!n)throw new Error("useSubscription must be used within SubscriptionProvider");return n}function Qk({message:n,type:e="success",duration:t=4e3,onClose:a}){const[i,o]=L.useState(!0);L.useEffect(()=>{const h=setTimeout(()=>{o(!1),setTimeout(a,300)},t);return()=>clearTimeout(h)},[t,a]);const c={success:x.jsx(di,{className:"w-5 h-5","data-matrix-id":"src/components/Toast.tsx:25:13","data-matrix-name":"Check","data-component-path":"src/components/Toast.tsx","data-component-line":"25","data-component-file":"Toast.tsx","data-component-name":"Check","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%22%7D"}),error:x.jsx(ra,{className:"w-5 h-5","data-matrix-id":"src/components/Toast.tsx:26:11","data-matrix-name":"X","data-component-path":"src/components/Toast.tsx","data-component-line":"26","data-component-file":"Toast.tsx","data-component-name":"X","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%22%7D"}),warning:x.jsx(Nw,{className:"w-5 h-5","data-matrix-id":"src/components/Toast.tsx:27:13","data-matrix-name":"AlertCircle","data-component-path":"src/components/Toast.tsx","data-component-line":"27","data-component-file":"Toast.tsx","data-component-name":"AlertCircle","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%22%7D"}),info:x.jsx(Bw,{className:"w-5 h-5","data-matrix-id":"src/components/Toast.tsx:28:10","data-matrix-name":"Info","data-component-path":"src/components/Toast.tsx","data-component-line":"28","data-component-file":"Toast.tsx","data-component-name":"Info","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%22%7D"})},d={success:"bg-emerald-600 text-white",error:"bg-red-600 text-white",warning:"bg-neutral-1000 text-white",info:"bg-blue-600 text-white"};return x.jsxs("div",{className:`fixed bottom-6 right-6 z-[100] flex items-center gap-3 px-5 py-3 rounded-xl shadow-lg transition-all duration-300 ${d[e]} ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-2"}`,"data-matrix-id":"src/components/Toast.tsx:39:4","data-matrix-name":"div","data-component-path":"src/components/Toast.tsx","data-component-line":"39","data-component-file":"Toast.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:[c[e],x.jsx("span",{className:"font-medium","data-matrix-id":"src/components/Toast.tsx:45:6","data-matrix-name":"span","data-component-path":"src/components/Toast.tsx","data-component-line":"45","data-component-file":"Toast.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-medium%22%7D",children:n}),x.jsx("button",{onClick:()=>{o(!1),setTimeout(a,300)},className:"ml-2 hover:opacity-70","data-matrix-id":"src/components/Toast.tsx:46:6","data-matrix-name":"button","data-component-path":"src/components/Toast.tsx","data-component-line":"46","data-component-file":"Toast.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22ml-2%20hover%3Aopacity-70%22%7D",children:x.jsx(ra,{className:"w-4 h-4","data-matrix-id":"src/components/Toast.tsx:47:8","data-matrix-name":"X","data-component-path":"src/components/Toast.tsx","data-component-line":"47","data-component-file":"Toast.tsx","data-component-name":"X","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"})})]})}const ay=L.createContext(null);function Xk({children:n}){const[e,t]=L.useState([]),a=L.useCallback((o,c="success")=>{const d=Date.now();t(h=>[...h,{id:d,message:o,type:c}])},[]),i=L.useCallback(o=>{t(c=>c.filter(d=>d.id!==o))},[]);return x.jsxs(ay.Provider,{value:{showToast:a},"data-matrix-id":"src/components/Toast.tsx:75:4","data-matrix-name":"ToastContext.Provider","data-component-path":"src/components/Toast.tsx","data-component-line":"75","data-component-file":"Toast.tsx","data-component-name":"ToastContext.Provider","data-component-content":"%7B%22value%22%3A%7B%22showToast%22%3A%22%5Bvar%3AshowToast%5D%22%7D%7D",children:[n,x.jsx("div",{className:"fixed bottom-6 right-6 z-[100] flex flex-col gap-2","data-matrix-id":"src/components/Toast.tsx:77:6","data-matrix-name":"div","data-component-path":"src/components/Toast.tsx","data-component-line":"77","data-component-file":"Toast.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22fixed%20bottom-6%20right-6%20z-%5B100%5D%20flex%20flex-col%20gap-2%22%7D",children:e.map(o=>x.jsx(Qk,{message:o.message,type:o.type,onClose:()=>i(o.id),"data-matrix-id":"src/components/Toast.tsx:79:10","data-matrix-name":"Toast","data-component-path":"src/components/Toast.tsx","data-component-line":"79","data-component-file":"Toast.tsx","data-component-name":"Toast","data-component-content":"%7B%22message%22%3A%22%5BMemberExpression%5D%22%2C%22type%22%3A%22%5BMemberExpression%5D%22%2C%22onClose%22%3A%22%5BArrowFunctionExpression%5D%22%7D"},o.id))})]})}function VS(){const n=L.useContext(ay);if(!n)throw new Error("useToast must be used within ToastProvider");return n}function Zk({isOpen:n,onClose:e,limitType:t,currentCount:a}){var S;const{plans:i,currentPlan:o,isFree:c}=ry(),{user:d}=ss(),[h,m]=L.useState(null),[g,v]=L.useState(null);if(!n)return null;const _={projects:"projects",team_members:"team members",clients:"clients",invoices:"invoices per month"},b=i.filter(w=>w.amount>((o==null?void 0:o.amount)||0)&&w.is_active),E=async w=>{if(!(d!=null&&d.id)||!w.stripe_price_id){v("Unable to process upgrade. Please try again.");return}m(w.id),v(null);try{const R=await(await fetch("undefined/functions/v1/stripe-subscription-checkout",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer undefined"},body:JSON.stringify({price_id:w.stripe_price_id,user_id:d.id,success_url:`${window.location.origin}/settings?subscription=success`,cancel_url:`${window.location.origin}/settings?subscription=canceled`})})).json();if(R.error)throw new Error(R.error.message||"Failed to start checkout");R.url&&(window.location.href=R.url)}catch(A){console.error("Upgrade error:",A),v(A.message||"Failed to process upgrade")}finally{m(null)}};return x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm","data-matrix-id":"src/components/UpgradeModal.tsx:76:4","data-matrix-name":"div","data-component-path":"src/components/UpgradeModal.tsx","data-component-line":"76","data-component-file":"UpgradeModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22fixed%20inset-0%20z-50%20flex%20items-center%20justify-center%20p-4%20bg-black%2F50%20backdrop-blur-sm%22%7D",children:x.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl","data-matrix-id":"src/components/UpgradeModal.tsx:77:6","data-matrix-name":"div","data-component-path":"src/components/UpgradeModal.tsx","data-component-line":"77","data-component-file":"UpgradeModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-white%20rounded-2xl%20w-full%20max-w-md%20max-h-%5B90vh%5D%20overflow-y-auto%20shadow-2xl%22%7D",children:[x.jsxs("div",{className:"relative p-6 pb-4 border-b border-neutral-100","data-matrix-id":"src/components/UpgradeModal.tsx:79:8","data-matrix-name":"div","data-component-path":"src/components/UpgradeModal.tsx","data-component-line":"79","data-component-file":"UpgradeModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22relative%20p-6%20pb-4%20border-b%20border-neutral-100%22%7D",children:[x.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 text-neutral-400 hover:text-neutral-600 hover:bg-neutral-100 rounded-full transition-colors","data-matrix-id":"src/components/UpgradeModal.tsx:80:10","data-matrix-name":"button","data-component-path":"src/components/UpgradeModal.tsx","data-component-line":"80","data-component-file":"UpgradeModal.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22absolute%20top-4%20right-4%20p-2%20text-neutral-400%20hover%3Atext-neutral-600%20hover%3Abg-neutral-100%20rounded-full%20transition-colors%22%7D",children:x.jsx(ra,{className:"w-5 h-5","data-matrix-id":"src/components/UpgradeModal.tsx:84:12","data-matrix-name":"X","data-component-path":"src/components/UpgradeModal.tsx","data-component-line":"84","data-component-file":"UpgradeModal.tsx","data-component-name":"X","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%22%7D"})}),x.jsxs("div",{className:"flex items-center gap-3","data-matrix-id":"src/components/UpgradeModal.tsx:87:10","data-matrix-name":"div","data-component-path":"src/components/UpgradeModal.tsx","data-component-line":"87","data-component-file":"UpgradeModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-3%22%7D",children:[x.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#476E66] to-[#3a5d56] rounded-xl flex items-center justify-center","data-matrix-id":"src/components/UpgradeModal.tsx:88:12","data-matrix-name":"div","data-component-path":"src/components/UpgradeModal.tsx","data-component-line":"88","data-component-file":"UpgradeModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-12%20h-12%20bg-gradient-to-br%20from-%5B%23476E66%5D%20to-%5B%233a5d56%5D%20rounded-xl%20flex%20items-center%20justify-center%22%7D",children:x.jsx(Iw,{className:"w-6 h-6 text-white","data-matrix-id":"src/components/UpgradeModal.tsx:89:14","data-matrix-name":"Crown","data-component-path":"src/components/UpgradeModal.tsx","data-component-line":"89","data-component-file":"UpgradeModal.tsx","data-component-name":"Crown","data-component-content":"%7B%22className%22%3A%22w-6%20h-6%20text-white%22%7D"})}),x.jsxs("div",{"data-matrix-id":"src/components/UpgradeModal.tsx:91:12","data-matrix-name":"div","data-component-path":"src/components/UpgradeModal.tsx","data-component-line":"91","data-component-file":"UpgradeModal.tsx","data-component-name":"div",children:[x.jsx("h2",{className:"text-lg font-semibold text-neutral-900","data-matrix-id":"src/components/UpgradeModal.tsx:92:14","data-matrix-name":"h2","data-component-path":"src/components/UpgradeModal.tsx","data-component-line":"92","data-component-file":"UpgradeModal.tsx","data-component-name":"h2","data-component-content":"%7B%22className%22%3A%22text-lg%20font-semibold%20text-neutral-900%22%7D",children:"Upgrade Your Plan"}),x.jsx("p",{className:"text-sm text-neutral-500","data-matrix-id":"src/components/UpgradeModal.tsx:93:14","data-matrix-name":"p","data-component-path":"src/components/UpgradeModal.tsx","data-component-line":"93","data-component-file":"UpgradeModal.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-neutral-500%22%7D",children:"Unlock more features"})]})]})]}),t&&a!==void 0&&x.jsx("div",{className:"mx-6 mt-4 p-4 bg-amber-50 border border-amber-200 rounded-xl","data-matrix-id":"src/components/UpgradeModal.tsx:100:10","data-matrix-name":"div","data-component-path":"src/components/UpgradeModal.tsx","data-component-line":"100","data-component-file":"UpgradeModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mx-6%20mt-4%20p-4%20bg-amber-50%20border%20border-amber-200%20rounded-xl%22%7D",children:x.jsxs("div",{className:"flex items-start gap-3","data-matrix-id":"src/components/UpgradeModal.tsx:101:12","data-matrix-name":"div","data-component-path":"src/components/UpgradeModal.tsx","data-component-line":"101","data-component-file":"UpgradeModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-start%20gap-3%22%7D",children:[x.jsx(Kw,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5","data-matrix-id":"src/components/UpgradeModal.tsx:102:14","data-matrix-name":"Zap","data-component-path":"src/components/UpgradeModal.tsx","data-component-line":"102","data-component-file":"UpgradeModal.tsx","data-component-name":"Zap","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-amber-600%20flex-shrink-0%20mt-0.5%22%7D"}),x.jsxs("div",{"data-matrix-id":"src/components/UpgradeModal.tsx:103:14","data-matrix-name":"div","data-component-path":"src/components/UpgradeModal.tsx","data-component-line":"103","data-component-file":"UpgradeModal.tsx","data-component-name":"div",children:[x.jsx("p",{className:"text-sm font-medium text-amber-800","data-matrix-id":"src/components/UpgradeModal.tsx:104:16","data-matrix-name":"p","data-component-path":"src/components/UpgradeModal.tsx","data-component-line":"104","data-component-file":"UpgradeModal.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20font-medium%20text-amber-800%22%7D",children:"You've reached your limit"}),x.jsxs("p",{className:"text-sm text-amber-700 mt-1","data-matrix-id":"src/components/UpgradeModal.tsx:107:16","data-matrix-name":"p","data-component-path":"src/components/UpgradeModal.tsx","data-component-line":"107","data-component-file":"UpgradeModal.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-amber-700%20mt-1%22%7D",children:["Your current plan allows ",((S=o==null?void 0:o.limits)==null?void 0:S[t==="invoices"?"invoices_per_month":t])||0," ",_[t],". Upgrade to add more."]})]})]})}),x.jsxs("div",{className:"p-6 space-y-4","data-matrix-id":"src/components/UpgradeModal.tsx:117:8","data-matrix-name":"div","data-component-path":"src/components/UpgradeModal.tsx","data-component-line":"117","data-component-file":"UpgradeModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-6%20space-y-4%22%7D",children:[g&&x.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-sm text-red-700","data-matrix-id":"src/components/UpgradeModal.tsx:119:12","data-matrix-name":"div","data-component-path":"src/components/UpgradeModal.tsx","data-component-line":"119","data-component-file":"UpgradeModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-3%20bg-red-50%20border%20border-red-200%20rounded-lg%20text-sm%20text-red-700%22%7D",children:g}),b.length===0?x.jsxs("div",{className:"text-center py-8","data-matrix-id":"src/components/UpgradeModal.tsx:125:12","data-matrix-name":"div","data-component-path":"src/components/UpgradeModal.tsx","data-component-line":"125","data-component-file":"UpgradeModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%20py-8%22%7D",children:[x.jsx(Vw,{className:"w-12 h-12 text-[#476E66] mx-auto mb-3","data-matrix-id":"src/components/UpgradeModal.tsx:126:14","data-matrix-name":"Sparkles","data-component-path":"src/components/UpgradeModal.tsx","data-component-line":"126","data-component-file":"UpgradeModal.tsx","data-component-name":"Sparkles","data-component-content":"%7B%22className%22%3A%22w-12%20h-12%20text-%5B%23476E66%5D%20mx-auto%20mb-3%22%7D"}),x.jsx("p",{className:"text-neutral-600","data-matrix-id":"src/components/UpgradeModal.tsx:127:14","data-matrix-name":"p","data-component-path":"src/components/UpgradeModal.tsx","data-component-line":"127","data-component-file":"UpgradeModal.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-neutral-600%22%7D",children:"You're on the highest plan!"})]}):b.map(w=>{var A,R,N,B,U,K,Q,F;return x.jsxs("div",{className:"border border-neutral-200 rounded-xl p-4 hover:border-[#476E66]/50 transition-colors","data-matrix-id":"src/components/UpgradeModal.tsx:131:14","data-matrix-name":"div","data-component-path":"src/components/UpgradeModal.tsx","data-component-line":"131","data-component-file":"UpgradeModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22border%20border-neutral-200%20rounded-xl%20p-4%20hover%3Aborder-%5B%23476E66%5D%2F50%20transition-colors%22%7D",children:[x.jsxs("div",{className:"flex items-center justify-between mb-3","data-matrix-id":"src/components/UpgradeModal.tsx:135:16","data-matrix-name":"div","data-component-path":"src/components/UpgradeModal.tsx","data-component-line":"135","data-component-file":"UpgradeModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20mb-3%22%7D",children:[x.jsxs("div",{"data-matrix-id":"src/components/UpgradeModal.tsx:136:18","data-matrix-name":"div","data-component-path":"src/components/UpgradeModal.tsx","data-component-line":"136","data-component-file":"UpgradeModal.tsx","data-component-name":"div",children:[x.jsx("h3",{className:"font-semibold text-neutral-900","data-matrix-id":"src/components/UpgradeModal.tsx:137:20","data-matrix-name":"h3","data-component-path":"src/components/UpgradeModal.tsx","data-component-line":"137","data-component-file":"UpgradeModal.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-neutral-900%22%7D",children:w.name}),x.jsxs("p",{className:"text-2xl font-bold text-[#476E66]","data-matrix-id":"src/components/UpgradeModal.tsx:138:20","data-matrix-name":"p","data-component-path":"src/components/UpgradeModal.tsx","data-component-line":"138","data-component-file":"UpgradeModal.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-2xl%20font-bold%20text-%5B%23476E66%5D%22%7D",children:["$",w.amount,x.jsxs("span",{className:"text-sm font-normal text-neutral-500","data-matrix-id":"src/components/UpgradeModal.tsx:139:36","data-matrix-name":"span","data-component-path":"src/components/UpgradeModal.tsx","data-component-line":"139","data-component-file":"UpgradeModal.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-sm%20font-normal%20text-neutral-500%22%7D",children:["/",w.interval]})]})]}),x.jsx("button",{onClick:()=>E(w),disabled:h===w.id,className:"px-4 py-2 bg-[#476E66] text-white text-sm font-medium rounded-lg hover:bg-[#3a5d56] disabled:opacity-50 transition-colors flex items-center gap-2","data-matrix-id":"src/components/UpgradeModal.tsx:142:18","data-matrix-name":"button","data-component-path":"src/components/UpgradeModal.tsx","data-component-line":"142","data-component-file":"UpgradeModal.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22disabled%22%3A%22%5BBinaryExpression%5D%22%2C%22className%22%3A%22px-4%20py-2%20bg-%5B%23476E66%5D%20text-white%20text-sm%20font-medium%20rounded-lg%20hover%3Abg-%5B%233a5d56%5D%20disabled%3Aopacity-50%20transition-colors%20flex%20items-center%20gap-2%22%7D",children:h===w.id?x.jsxs(x.Fragment,{children:[x.jsx(Mw,{className:"w-4 h-4 animate-spin","data-matrix-id":"src/components/UpgradeModal.tsx:149:24","data-matrix-name":"Loader2","data-component-path":"src/components/UpgradeModal.tsx","data-component-line":"149","data-component-file":"UpgradeModal.tsx","data-component-name":"Loader2","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20animate-spin%22%7D"}),"Processing..."]}):"Upgrade"})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs","data-matrix-id":"src/components/UpgradeModal.tsx:159:16","data-matrix-name":"div","data-component-path":"src/components/UpgradeModal.tsx","data-component-line":"159","data-component-file":"UpgradeModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-2%20gap-2%20text-xs%22%7D",children:[x.jsxs("div",{className:"flex items-center gap-1.5 text-neutral-600","data-matrix-id":"src/components/UpgradeModal.tsx:160:18","data-matrix-name":"div","data-component-path":"src/components/UpgradeModal.tsx","data-component-line":"160","data-component-file":"UpgradeModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-1.5%20text-neutral-600%22%7D",children:[x.jsx(di,{className:"w-3.5 h-3.5 text-[#476E66]","data-matrix-id":"src/components/UpgradeModal.tsx:161:20","data-matrix-name":"Check","data-component-path":"src/components/UpgradeModal.tsx","data-component-line":"161","data-component-file":"UpgradeModal.tsx","data-component-name":"Check","data-component-content":"%7B%22className%22%3A%22w-3.5%20h-3.5%20text-%5B%23476E66%5D%22%7D"}),((A=w.limits)==null?void 0:A.projects)===-1?"Unlimited":(R=w.limits)==null?void 0:R.projects," projects"]}),x.jsxs("div",{className:"flex items-center gap-1.5 text-neutral-600","data-matrix-id":"src/components/UpgradeModal.tsx:164:18","data-matrix-name":"div","data-component-path":"src/components/UpgradeModal.tsx","data-component-line":"164","data-component-file":"UpgradeModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-1.5%20text-neutral-600%22%7D",children:[x.jsx(di,{className:"w-3.5 h-3.5 text-[#476E66]","data-matrix-id":"src/components/UpgradeModal.tsx:165:20","data-matrix-name":"Check","data-component-path":"src/components/UpgradeModal.tsx","data-component-line":"165","data-component-file":"UpgradeModal.tsx","data-component-name":"Check","data-component-content":"%7B%22className%22%3A%22w-3.5%20h-3.5%20text-%5B%23476E66%5D%22%7D"}),((N=w.limits)==null?void 0:N.team_members)===-1?"Unlimited":(B=w.limits)==null?void 0:B.team_members," team members"]}),x.jsxs("div",{className:"flex items-center gap-1.5 text-neutral-600","data-matrix-id":"src/components/UpgradeModal.tsx:168:18","data-matrix-name":"div","data-component-path":"src/components/UpgradeModal.tsx","data-component-line":"168","data-component-file":"UpgradeModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-1.5%20text-neutral-600%22%7D",children:[x.jsx(di,{className:"w-3.5 h-3.5 text-[#476E66]","data-matrix-id":"src/components/UpgradeModal.tsx:169:20","data-matrix-name":"Check","data-component-path":"src/components/UpgradeModal.tsx","data-component-line":"169","data-component-file":"UpgradeModal.tsx","data-component-name":"Check","data-component-content":"%7B%22className%22%3A%22w-3.5%20h-3.5%20text-%5B%23476E66%5D%22%7D"}),((U=w.limits)==null?void 0:U.clients)===-1?"Unlimited":(K=w.limits)==null?void 0:K.clients," clients"]}),x.jsxs("div",{className:"flex items-center gap-1.5 text-neutral-600","data-matrix-id":"src/components/UpgradeModal.tsx:172:18","data-matrix-name":"div","data-component-path":"src/components/UpgradeModal.tsx","data-component-line":"172","data-component-file":"UpgradeModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-1.5%20text-neutral-600%22%7D",children:[x.jsx(di,{className:"w-3.5 h-3.5 text-[#476E66]","data-matrix-id":"src/components/UpgradeModal.tsx:173:20","data-matrix-name":"Check","data-component-path":"src/components/UpgradeModal.tsx","data-component-line":"173","data-component-file":"UpgradeModal.tsx","data-component-name":"Check","data-component-content":"%7B%22className%22%3A%22w-3.5%20h-3.5%20text-%5B%23476E66%5D%22%7D"}),((Q=w.limits)==null?void 0:Q.invoices_per_month)===-1?"Unlimited":(F=w.limits)==null?void 0:F.invoices_per_month," invoices/mo"]})]}),w.features&&w.features.length>0&&x.jsx("div",{className:"mt-3 pt-3 border-t border-neutral-100","data-matrix-id":"src/components/UpgradeModal.tsx:180:18","data-matrix-name":"div","data-component-path":"src/components/UpgradeModal.tsx","data-component-line":"180","data-component-file":"UpgradeModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mt-3%20pt-3%20border-t%20border-neutral-100%22%7D",children:x.jsx("div",{className:"flex flex-wrap gap-1.5","data-matrix-id":"src/components/UpgradeModal.tsx:181:20","data-matrix-name":"div","data-component-path":"src/components/UpgradeModal.tsx","data-component-line":"181","data-component-file":"UpgradeModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20flex-wrap%20gap-1.5%22%7D",children:w.features.slice(0,4).map((X,ne)=>x.jsx("span",{className:"px-2 py-0.5 bg-[#476E66]/10 text-[#476E66] text-xs rounded-full","data-matrix-id":"src/components/UpgradeModal.tsx:183:24","data-matrix-name":"span","data-component-path":"src/components/UpgradeModal.tsx","data-component-line":"183","data-component-file":"UpgradeModal.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22px-2%20py-0.5%20bg-%5B%23476E66%5D%2F10%20text-%5B%23476E66%5D%20text-xs%20rounded-full%22%7D",children:X},ne))})})]},w.id)})]}),x.jsx("div",{className:"p-6 pt-0","data-matrix-id":"src/components/UpgradeModal.tsx:196:8","data-matrix-name":"div","data-component-path":"src/components/UpgradeModal.tsx","data-component-line":"196","data-component-file":"UpgradeModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-6%20pt-0%22%7D",children:x.jsx("p",{className:"text-xs text-center text-neutral-500","data-matrix-id":"src/components/UpgradeModal.tsx:197:10","data-matrix-name":"p","data-component-path":"src/components/UpgradeModal.tsx","data-component-line":"197","data-component-file":"UpgradeModal.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-center%20text-neutral-500%22%7D",children:"Secure payment powered by Stripe. Cancel anytime."})})]})})}class eS extends Error{constructor(e,t,a,i=!1){super(e),this.code=t,this.status=a,this.retryable=i,this.name="ApiError"}}const tS={maxRetries:3,baseDelay:1e3,maxDelay:1e4};function nS(n){if(n instanceof Error){const e=n.message.toLowerCase();return e.includes("jwt")||e.includes("token")||e.includes("unauthorized")||e.includes("401")||e.includes("session")}return!1}function rS(n){if(n instanceof eS)return n.retryable;if(n instanceof Error){const e=n.message.toLowerCase();return e.includes("network")||e.includes("timeout")||e.includes("fetch failed")||e.includes("503")||e.includes("429")}return!1}function aS(n,e){const t=e.baseDelay*Math.pow(2,n),a=Math.random()*.3*t;return Math.min(t+a,e.maxDelay)}let dd=!1,ni=null;async function sS(){return dd&&ni||(dd=!0,ni=(async()=>{try{const{data:n,error:e}=await C.auth.refreshSession();return!e&&!!n.session}catch{return!1}finally{dd=!1,ni=null}})()),ni}async function iS(n,e={}){const t={...tS,...e};let a,i=!1;for(let o=0;o<=t.maxRetries;o++)try{return await n()}catch(c){if(a=c,!i&&nS(c)){if(i=!0,await sS())continue;throw window.location.href="/login",c}if(o<t.maxRetries&&rS(c)){const d=aS(o,t);await new Promise(h=>setTimeout(h,d));continue}throw c}throw a}async function Ot(n){return iS(n,{maxRetries:3,baseDelay:500})}const Qr={async getClients(n){return Ot(async()=>{const{data:e,error:t}=await C.from("clients").select("*").eq("company_id",n).eq("is_archived",!1).order("name");if(t)throw t;return e})},async createClient(n){return Ot(async()=>{const{data:e,error:t}=await C.from("clients").insert(n).select().single();if(t)throw t;return e})},async updateClient(n,e){return Ot(async()=>{const{data:t,error:a}=await C.from("clients").update(e).eq("id",n).select().single();if(a)throw a;return t})},async deleteClient(n){return Ot(async()=>{const{error:e}=await C.from("clients").update({is_archived:!0}).eq("id",n);if(e)throw e})},async getProjects(n){return Ot(async()=>{const{data:e,error:t}=await C.from("projects").select("*, client:clients(id, name, display_name)").eq("company_id",n).order("created_at",{ascending:!1});if(t)throw t;return e})},async getProject(n){return Ot(async()=>{const{data:e,error:t}=await C.from("projects").select("*, client:clients(*)").eq("id",n).single();if(t)throw t;return e})},async createProject(n){return Ot(async()=>{const{data:e,error:t}=await C.from("projects").insert(n).select().single();if(t)throw t;return e})},async updateProject(n,e){return Ot(async()=>{const{data:t,error:a}=await C.from("projects").update(e).eq("id",n).select().single();if(a)throw a;return t})},async deleteProject(n){return Ot(async()=>{const{error:e}=await C.from("projects").delete().eq("id",n);if(e)throw e})},async getTasks(n){const{data:e,error:t}=await C.from("tasks").select("*").eq("project_id",n).order("created_at");if(t)throw t;return e},async getTasksWithBilling(n){const{data:e,error:t}=await C.from("tasks").select("*").eq("project_id",n).order("created_at");if(t)throw t;return e.map(a=>({...a,billed_percentage:a.billed_percentage||0,billed_amount:a.billed_amount||0,total_budget:a.total_budget||a.estimated_fees||0}))},async updateTaskBilling(n,e,t){const{data:a,error:i}=await C.from("tasks").update({billed_percentage:e,billed_amount:t}).eq("id",n).select().single();if(i)throw i;return a},async createTask(n){const{data:e,error:t}=await C.from("tasks").insert(n).select().single();if(t)throw t;return e},async updateTask(n,e){const{data:t,error:a}=await C.from("tasks").update(e).eq("id",n).select().single();if(a)throw a;return t},async deleteTask(n){const{error:e}=await C.from("tasks").delete().eq("id",n);if(e)throw e},async getProjectTeamMembers(n){const{data:e,error:t}=await C.from("project_team_members").select("*, profile:profiles!project_team_members_staff_member_id_fkey(id, full_name, avatar_url, email, role)").eq("project_id",n).eq("is_active",!0).order("is_lead",{ascending:!1});if(t)throw t;return e},async addProjectTeamMember(n,e,t,a,i){const{data:o,error:c}=await C.from("project_team_members").insert({project_id:n,staff_member_id:e,company_id:t,role:a||"Team Member",is_lead:i||!1,is_active:!0}).select("*, profile:profiles!project_team_members_staff_member_id_fkey(id, full_name, avatar_url, email, role)").single();if(c)throw c;return o},async removeProjectTeamMember(n){const{error:e}=await C.from("project_team_members").update({is_active:!1}).eq("id",n);if(e)throw e},async getStaffProjects(n){const{data:e,error:t}=await C.from("project_team_members").select("*, project:projects(id, name, status, client:clients(name))").eq("staff_member_id",n).eq("is_active",!0);if(t)throw t;return e},async getStaffTasks(n,e){const{data:t,error:a}=await C.from("tasks").select("*, project:projects(id, name)").eq("company_id",n).eq("assigned_to",e).order("due_date",{ascending:!0});if(a)throw a;return t},async getCompanyProfiles(n){const{data:e,error:t}=await C.from("profiles").select("id, full_name, avatar_url, email, role").eq("company_id",n).eq("is_active",!0).order("full_name");if(t)throw t;return e},async getTimeEntries(n,e,t,a){return Ot(async()=>{let i=C.from("time_entries").select("*, project:projects(id, name, client:clients(id, name)), task:tasks(id, name)").eq("company_id",n);e&&(i=i.eq("user_id",e)),t&&(i=i.gte("date",t)),a&&(i=i.lte("date",a));const{data:o,error:c}=await i.order("date",{ascending:!1});if(c)throw c;return o})},async createTimeEntry(n){return Ot(async()=>{if(n.task_id){const{data:a}=await C.from("tasks").select("billing_mode").eq("id",n.task_id).single();if(a){if(a.billing_mode&&a.billing_mode!=="unset"&&a.billing_mode!=="time")throw new Error(`Cannot add time entry: Task is set to ${a.billing_mode} billing mode`);(!a.billing_mode||a.billing_mode==="unset")&&await C.from("tasks").update({billing_mode:"time"}).eq("id",n.task_id)}}const{data:e,error:t}=await C.from("time_entries").insert(n).select().single();if(t)throw t;return e})},async updateTimeEntry(n,e){return Ot(async()=>{const{data:t,error:a}=await C.from("time_entries").update(e).eq("id",n).select().single();if(a)throw a;return t})},async deleteTimeEntry(n){return Ot(async()=>{const{error:e}=await C.from("time_entries").delete().eq("id",n);if(e)throw e})},async getExpenses(n,e){let t=C.from("expenses").select("*, project:projects(id, name)").eq("company_id",n);e&&(t=t.eq("user_id",e));const{data:a,error:i}=await t.order("date",{ascending:!1});if(i)throw i;return a},async createExpense(n){const{data:e,error:t}=await C.from("expenses").insert(n).select().single();if(t)throw t;return e},async updateExpense(n,e){const{data:t,error:a}=await C.from("expenses").update(e).eq("id",n).select().single();if(a)throw a;return t},async deleteExpense(n){const{error:e}=await C.from("expenses").delete().eq("id",n);if(e)throw e},async uploadReceipt(n,e){const t=n.name.split(".").pop(),a=`${e}/${Date.now()}-${Math.random().toString(36).substring(7)}.${t}`,{error:i}=await C.storage.from("receipts").upload(a,n);if(i)throw i;const{data:o}=C.storage.from("receipts").getPublicUrl(a);return o.publicUrl},async getApprovedTimeEntries(n,e,t){let a=C.from("time_entries").select("*, project:projects(id, name), task:tasks(id, name)").eq("company_id",n).eq("approval_status","approved");e&&(a=a.gte("date",e)),t&&(a=a.lte("date",t));const{data:i,error:o}=await a.order("date",{ascending:!1});if(o)throw o;const c=[...new Set(i==null?void 0:i.map(d=>d.user_id).filter(Boolean))];if(c.length>0){const{data:d}=await C.from("profiles").select("id, full_name, email").in("id",c),h=new Map((d==null?void 0:d.map(m=>[m.id,m]))||[]);return i==null?void 0:i.map(m=>({...m,user:h.get(m.user_id)||null}))}return i},async getApprovedExpenses(n,e,t){let a=C.from("expenses").select("*, project:projects(id, name)").eq("company_id",n).eq("approval_status","approved");e&&(a=a.gte("date",e)),t&&(a=a.lte("date",t));const{data:i,error:o}=await a.order("date",{ascending:!1});if(o)throw o;const c=[...new Set(i==null?void 0:i.map(d=>d.user_id).filter(Boolean))];if(c.length>0){const{data:d}=await C.from("profiles").select("id, full_name, email").in("id",c),h=new Map((d==null?void 0:d.map(m=>[m.id,m]))||[]);return i==null?void 0:i.map(m=>({...m,user:h.get(m.user_id)||null}))}return i},async getPendingTimeEntries(n){const{data:e,error:t}=await C.from("time_entries").select("*, project:projects(id, name), task:tasks(id, name)").eq("company_id",n).eq("approval_status","pending").order("date",{ascending:!1});if(t)throw t;const a=[...new Set(e==null?void 0:e.map(i=>i.user_id).filter(Boolean))];if(a.length>0){const{data:i}=await C.from("profiles").select("id, full_name, email").in("id",a),o=new Map((i==null?void 0:i.map(c=>[c.id,c]))||[]);return e==null?void 0:e.map(c=>({...c,user:o.get(c.user_id)||null}))}return e},async getPendingExpenses(n){const{data:e,error:t}=await C.from("expenses").select("*, project:projects(id, name)").eq("company_id",n).eq("approval_status","pending").order("date",{ascending:!1});if(t)throw t;const a=[...new Set(e==null?void 0:e.map(i=>i.user_id).filter(Boolean))];if(a.length>0){const{data:i}=await C.from("profiles").select("id, full_name, email").in("id",a),o=new Map((i==null?void 0:i.map(c=>[c.id,c]))||[]);return e==null?void 0:e.map(c=>({...c,user:o.get(c.user_id)||null}))}return e},async approveTimeEntry(n,e){const{data:t,error:a}=await C.from("time_entries").update({approval_status:"approved",approved_by:e,approved_at:new Date().toISOString()}).eq("id",n).select().single();if(a)throw a;return t},async rejectTimeEntry(n,e){const{data:t,error:a}=await C.from("time_entries").update({approval_status:"rejected",approved_by:e,approved_at:new Date().toISOString()}).eq("id",n).select().single();if(a)throw a;return t},async approveExpense(n,e){const{data:t,error:a}=await C.from("expenses").update({approval_status:"approved",approved_by:e,approved_at:new Date().toISOString()}).eq("id",n).select().single();if(a)throw a;return t},async rejectExpense(n,e){const{data:t,error:a}=await C.from("expenses").update({approval_status:"rejected",approved_by:e,approved_at:new Date().toISOString()}).eq("id",n).select().single();if(a)throw a;return t},async getApprovedTimeEntriesForInvoice(n,e){let t=C.from("time_entries").select("*, project:projects(id, name), task:tasks(id, name)").eq("company_id",n).eq("approval_status","approved").is("invoice_id",null);e&&(t=t.eq("project_id",e));const{data:a,error:i}=await t.order("date",{ascending:!1});if(i)throw i;return a},async getApprovedExpensesForInvoice(n,e){let t=C.from("expenses").select("*, project:projects(id, name)").eq("company_id",n).eq("approval_status","approved").eq("billable",!0);e&&(t=t.eq("project_id",e));const{data:a,error:i}=await t.order("date",{ascending:!1});if(i)throw i;return a},async getInvoices(n){return Ot(async()=>{const{data:e,error:t}=await C.from("invoices").select("*, client:clients(id, name, display_name, email, address, city, state, zip, phone, website), project:projects(id, name)").eq("company_id",n).order("created_at",{ascending:!1});if(t)throw t;return e})},async createInvoice(n){return Ot(async()=>{const{data:e,error:t}=await C.from("invoices").insert(n).select().single();if(t)throw t;return e})},async createInvoiceWithTaskBilling(n,e){const{data:t,error:a}=await C.from("invoices").insert(n).select().single();if(a)throw a;for(const i of e){const{data:o}=await C.from("tasks").select("name, estimated_hours, estimated_fees, billing_unit").eq("id",i.taskId).single(),c=(o==null?void 0:o.billing_unit)!=="unit",d=(o==null?void 0:o.estimated_hours)||1,m=((o==null?void 0:o.estimated_fees)||i.totalBudget)/d,g=d*i.percentageToBill/100;await C.from("invoice_line_items").insert({invoice_id:t.id,task_id:i.taskId,description:(o==null?void 0:o.name)||"Task",quantity:g,unit_price:m,amount:i.amountToBill,billing_type:i.billingType,billed_percentage:i.percentageToBill,task_total_budget:i.totalBudget,unit:c?"hr":"unit"});const v=i.previousBilledPercentage+i.percentageToBill,_=i.previousBilledAmount+i.amountToBill,{error:b}=await C.from("tasks").update({billed_percentage:v,billed_amount:_,total_budget:i.totalBudget,billing_mode:i.billingType}).eq("id",i.taskId);b&&console.error("Failed to update task billing:",b)}return t},async updateInvoice(n,e){return Ot(async()=>{const{data:t,error:a}=await C.from("invoices").update(e).eq("id",n).select().single();if(a)throw a;return t})},async deleteInvoice(n){await C.from("time_entries").update({invoice_id:null}).eq("invoice_id",n),await C.from("invoice_line_items").delete().eq("invoice_id",n);const{error:e}=await C.from("invoices").delete().eq("id",n);if(e)throw e},async deleteInvoices(n){await C.from("time_entries").update({invoice_id:null}).in("invoice_id",n),await C.from("invoice_line_items").delete().in("invoice_id",n);const{error:e}=await C.from("invoices").delete().in("id",n);if(e)throw e},async getProposalResponses(n){const{data:e,error:t}=await C.from("proposal_responses").select("*").eq("company_id",n).order("responded_at",{ascending:!1});if(t)throw t;return e||[]},async getQuotes(n){const{data:e,error:t}=await C.from("quotes").select("*").eq("company_id",n).order("created_at",{ascending:!1});if(t)throw t;return e},async createQuote(n){const{data:e,error:t}=await C.from("quotes").insert(n).select().single();if(t)throw t;return e},async updateQuote(n,e){const{data:t,error:a}=await C.from("quotes").update(e).eq("id",n).select().single();if(a)throw a;return t},async deleteQuote(n){await C.from("quote_line_items").delete().eq("quote_id",n);const{error:e}=await C.from("quotes").delete().eq("id",n);if(e)throw e},async convertQuoteToProject(n,e){const{data:t,error:a}=await C.rpc("convert_quote_to_project",{p_quote_id:n,p_company_id:e});if(a)throw a;return{projectId:t.project_id,projectName:t.project_name,tasksCreated:t.tasks_created}},async getDashboardStats(n,e){const t=new Date().toISOString().split("T")[0],a=new Date;a.setDate(a.getDate()-a.getDay());const i=a.toISOString().split("T")[0],{data:o}=await C.from("time_entries").select("hours, billable").eq("company_id",n).eq("user_id",e).eq("date",t),c=(o==null?void 0:o.reduce((A,R)=>A+Number(R.hours),0))||0,{data:d}=await C.from("time_entries").select("hours, billable").eq("company_id",n).eq("user_id",e).gte("date",i),h=(d==null?void 0:d.reduce((A,R)=>A+Number(R.hours),0))||0,m=(d==null?void 0:d.filter(A=>A.billable).reduce((A,R)=>A+Number(R.hours),0))||0,g=h>0?Math.round(m/h*100):0,{count:v}=await C.from("tasks").select("*",{count:"exact",head:!0}).eq("company_id",n).in("status",["not_started","in_progress"]),{data:_}=await C.from("time_entries").select("hours, hourly_rate").eq("company_id",n).eq("billable",!0),b=(_==null?void 0:_.reduce((A,R)=>A+Number(R.hours)*Number(R.hourly_rate||150),0))||0,{data:E}=await C.from("invoices").select("status, total").eq("company_id",n),S=(E==null?void 0:E.filter(A=>A.status==="draft").length)||0,w=(E==null?void 0:E.filter(A=>A.status==="sent"||A.status==="paid").length)||0;return{hoursToday:c,pendingTasks:v||0,unbilledWIP:b,utilization:g,billableHours:m,nonBillableHours:h-m,draftInvoices:S,sentInvoices:w}},async getProjectTeam(n){const{data:e,error:t}=await C.from("project_team").select("*, user:profiles(id, full_name, email)").eq("project_id",n);if(t)throw t;return e},async getProjectRates(n){const{data:e,error:t}=await C.from("project_rates").select("*").eq("project_id",n);if(t)throw t;return e},async getQuoteLineItems(n){const{data:e,error:t}=await C.from("quote_line_items").select("*").eq("quote_id",n).order("sort_order");if(t)throw t;return e},async createQuoteLineItem(n){const{data:e,error:t}=await C.from("quote_line_items").insert(n).select().single();if(t)throw t;return e},async updateQuoteLineItem(n,e){const{data:t,error:a}=await C.from("quote_line_items").update(e).eq("id",n).select().single();if(a)throw a;return t},async deleteQuoteLineItem(n){const{error:e}=await C.from("quote_line_items").delete().eq("id",n);if(e)throw e},async saveQuoteLineItems(n,e){const{data:t}=await C.from("quote_line_items").select("id").eq("quote_id",n),a=new Set((t||[]).map(d=>d.id)),i=d=>/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(d),o=new Set(e.filter(d=>d.id&&i(d.id)).map(d=>d.id)),c=[...a].filter(d=>!o.has(d));if(c.length>0&&await C.from("quote_line_items").delete().in("id",c),e.length>0){const d=e.map((m,g)=>({...m,id:m.id&&i(m.id)?m.id:crypto.randomUUID(),quote_id:n,sort_order:g})),{error:h}=await C.from("quote_line_items").upsert(d,{onConflict:"id"});if(h)throw h}},async getCompanySettings(n){const{data:e,error:t}=await C.from("company_settings").select("*").eq("company_id",n).single();if(t&&t.code!=="PGRST116")throw t;return e},async upsertCompanySettings(n){const{data:e,error:t}=await C.from("company_settings").upsert(n,{onConflict:"company_id"}).select().single();if(t)throw t;return e},async getTasksWithChildren(n){const{data:e,error:t}=await C.from("tasks").select("*").eq("project_id",n).order("created_at");if(t)throw t;const a=new Map,i=[];return e.forEach(o=>{o.children=[],a.set(o.id,o)}),e.forEach(o=>{o.parent_task_id&&a.has(o.parent_task_id)?a.get(o.parent_task_id).children.push(o):i.push(o)}),i},async getServices(n){const{data:e,error:t}=await C.from("services").select("*").eq("company_id",n).order("category",{ascending:!0}).order("name",{ascending:!0});if(t)throw t;return e},async createService(n){const{data:e,error:t}=await C.from("services").insert(n).select().single();if(t)throw t;return e},async updateService(n,e){const{data:t,error:a}=await C.from("services").update({...e,updated_at:new Date().toISOString()}).eq("id",n).select().single();if(a)throw a;return t},async deleteService(n){const{error:e}=await C.from("services").delete().eq("id",n);if(e)throw e},async sendEmail(n){const e=await fetch("undefined/functions/v1/send-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer undefined"},body:JSON.stringify(n)});if(!e.ok){const t=await e.json();throw new Error(t.error||"Failed to send email")}return e.json()},async getProposalTemplates(n){const{data:e,error:t}=await C.from("proposal_templates").select("*").eq("company_id",n).order("use_count",{ascending:!1});if(t)throw t;return e||[]},async getProposalTemplate(n){const{data:e,error:t}=await C.from("proposal_templates").select("*").eq("id",n).single();if(t)throw t;return e},async createProposalTemplate(n){const{data:e,error:t}=await C.from("proposal_templates").insert({...n,use_count:0}).select().single();if(t)throw t;return e},async updateProposalTemplate(n,e){const{data:t,error:a}=await C.from("proposal_templates").update({...e,updated_at:new Date().toISOString()}).eq("id",n).select().single();if(a)throw a;return t},async deleteProposalTemplate(n){const{error:e}=await C.from("proposal_templates").delete().eq("id",n);if(e)throw e},async incrementTemplateUseCount(n){const{error:e}=await C.rpc("increment_template_use_count",{template_id:n});if(e){const{data:t}=await C.from("proposal_templates").select("use_count").eq("id",n).single();t&&await C.from("proposal_templates").update({use_count:(t.use_count||0)+1}).eq("id",n)}},async getTemplateCategories(n){const{data:e,error:t}=await C.from("proposal_templates").select("category, client_type").eq("company_id",n);if(t)throw t;const a=[...new Set((e||[]).map(o=>o.category).filter(Boolean))],i=[...new Set((e||[]).map(o=>o.client_type).filter(Boolean))];return{categories:a,clientTypes:i}}},WS={async getRoles(n){const{data:e,error:t}=await C.from("roles").select("*").eq("company_id",n).order("name");if(t)throw t;return e},async getDepartments(n){const{data:e,error:t}=await C.from("departments").select("id, name, description").eq("company_id",n).eq("is_active",!0).order("sort_order").order("name");return t?(console.warn("departments table error:",t.message),[]):e||[]},async getStaffTeams(n){const{data:e,error:t}=await C.from("staff_teams").select("id, value, description").eq("company_id",n).eq("is_inactive",!1).order("sort_order").order("value");return t?(console.warn("staff_teams table error:",t.message),[]):(e==null?void 0:e.map(a=>({id:a.id,name:a.value})))||[]},async createRole(n){const{data:e,error:t}=await C.from("roles").insert(n).select().single();if(t)throw t;return e},async updateRole(n,e){const{data:t,error:a}=await C.from("roles").update({...e,updated_at:new Date().toISOString()}).eq("id",n).select().single();if(a)throw a;return t},async deleteRole(n){const{error:e}=await C.from("roles").delete().eq("id",n);if(e)throw e},async getCompanyUsers(n){const{data:e,error:t}=await C.from("profiles").select("*").eq("company_id",n).order("full_name");if(t)throw t;return e},async createStaffProfile(n){const{data:e,error:t}=await C.from("profiles").insert({...n,is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select().single();if(t)throw t;return e},async updateUserProfile(n,e){const{data:t,error:a}=await C.from("profiles").update({...e,updated_at:new Date().toISOString()}).eq("id",n).select().single();if(a)throw a;return t},async deactivateUser(n){return this.updateUserProfile(n,{is_active:!1})},async activateUser(n){return this.updateUserProfile(n,{is_active:!0})},async getInvitations(n){const{data:e,error:t}=await C.from("company_invitations").select("*, role:roles(id, name)").eq("company_id",n).order("created_at",{ascending:!1});if(t)throw t;return e},async createInvitation(n){const e=crypto.randomUUID(),t=new Date;t.setDate(t.getDate()+7);const{data:a,error:i}=await C.from("company_invitations").insert({...n,token:e,expires_at:t.toISOString(),status:"pending"}).select().single();if(i)throw i;return a},async cancelInvitation(n){const{error:e}=await C.from("company_invitations").update({status:"cancelled"}).eq("id",n);if(e)throw e},async resendInvitation(n){const e=new Date;e.setDate(e.getDate()+7);const{data:t,error:a}=await C.from("company_invitations").update({status:"pending",expires_at:e.toISOString()}).eq("id",n).select().single();if(a)throw a;return t}},HS={async getItems(n,e,t=!1){let a=C.from(n).select("*").eq("company_id",e);t||(a=a.eq("is_inactive",!1));const{data:i,error:o}=await a.order("sort_order").order("name",{ascending:!0});if(o)throw o;return i},async createItem(n,e){const{data:t,error:a}=await C.from(n).insert(e).select().single();if(a)throw a;return t},async updateItem(n,e,t){const{data:a,error:i}=await C.from(n).update(t).eq("id",e).select().single();if(i)throw i;return a},async deleteItem(n,e){const{error:t}=await C.from(n).delete().eq("id",e);if(t)throw t},async getCategories(n,e=!1){let t=C.from("categories").select("*").eq("company_id",n);e||(t=t.eq("is_inactive",!1));const{data:a,error:i}=await t.order("sort_order").order("name");if(i)throw i;return a||[]},async createCategory(n){const{data:e,error:t}=await C.from("categories").insert(n).select().single();if(t)throw t;return e},async updateCategory(n,e){const{data:t,error:a}=await C.from("categories").update(e).eq("id",n).select().single();if(a)throw a;return t},async deleteCategory(n){const{error:e}=await C.from("categories").delete().eq("id",n);if(e)throw e},async getExpenseCodes(n,e=!1){let t=C.from("expense_codes").select("*").eq("company_id",n);e||(t=t.eq("is_inactive",!1));const{data:a,error:i}=await t.order("sort_order").order("name");if(i)throw i;return a||[]},async createExpenseCode(n){const{data:e,error:t}=await C.from("expense_codes").insert(n).select().single();if(t)throw t;return e},async updateExpenseCode(n,e){const{data:t,error:a}=await C.from("expense_codes").update(e).eq("id",n).select().single();if(a)throw a;return t},async deleteExpenseCode(n){const{error:e}=await C.from("expense_codes").delete().eq("id",n);if(e)throw e},async getInvoiceTerms(n,e=!1){let t=C.from("invoice_terms").select("*").eq("company_id",n);e||(t=t.eq("is_inactive",!1));const{data:a,error:i}=await t.order("sort_order").order("name");if(i)throw i;return a||[]},async createInvoiceTerm(n){const{data:e,error:t}=await C.from("invoice_terms").insert(n).select().single();if(t)throw t;return e},async updateInvoiceTerm(n,e){const{data:t,error:a}=await C.from("invoice_terms").update(e).eq("id",n).select().single();if(a)throw a;return t},async deleteInvoiceTerm(n){const{error:e}=await C.from("invoice_terms").delete().eq("id",n);if(e)throw e},async getFieldValues(n,e,t=!1){let a=C.from(n).select("*").eq("company_id",e);t||(a=a.eq("is_inactive",!1));const{data:i,error:o}=await a.order("sort_order").order("value");if(o)throw o;return i||[]},async createFieldValue(n,e){const{data:t,error:a}=await C.from(n).insert(e).select().single();if(a)throw a;return t},async updateFieldValue(n,e,t){const{data:a,error:i}=await C.from(n).update(t).eq("id",e).select().single();if(i)throw i;return a},async deleteFieldValue(n,e){const{error:t}=await C.from(n).delete().eq("id",e);if(t)throw t},async getStatusCodes(n,e,t=!1){let a=C.from(n).select("*").eq("company_id",e);t||(a=a.eq("is_inactive",!1));const{data:i,error:o}=await a.order("sort_order").order("value");if(o)throw o;return i||[]},async createStatusCode(n,e){const{data:t,error:a}=await C.from(n).insert(e).select().single();if(a)throw a;return t},async updateStatusCode(n,e,t){const{data:a,error:i}=await C.from(n).update(t).eq("id",e).select().single();if(i)throw i;return a},async deleteStatusCode(n,e){const{error:t}=await C.from(n).delete().eq("id",e);if(t)throw t},async getCostCenters(n,e,t=!1){let a=C.from(n).select("*").eq("company_id",e);t||(a=a.eq("is_inactive",!1));const{data:i,error:o}=await a.order("sort_order").order("name");if(o)throw o;return i||[]},async createCostCenter(n,e){const{data:t,error:a}=await C.from(n).insert(e).select().single();if(a)throw a;return t},async updateCostCenter(n,e,t){const{data:a,error:i}=await C.from(n).update(t).eq("id",e).select().single();if(i)throw i;return a},async deleteCostCenter(n,e){const{error:t}=await C.from(n).delete().eq("id",e);if(t)throw t},async reorderItems(n,e){for(const t of e)await C.from(n).update({sort_order:t.sort_order}).eq("id",t.id)}},KS={async getTemplates(n){const{data:e,error:t}=await C.from("email_templates").select("*").eq("company_id",n).order("template_type");if(t)throw t;return e||[]},async getTemplate(n,e){const{data:t,error:a}=await C.from("email_templates").select("*").eq("company_id",n).eq("template_type",e).eq("is_active",!0).maybeSingle();if(a)throw a;return t},async upsertTemplate(n){const{data:e,error:t}=await C.from("email_templates").upsert(n,{onConflict:"company_id,template_type"}).select().single();if(t)throw t;return e},async createTemplate(n){const{data:e,error:t}=await C.from("email_templates").insert(n).select().single();if(t)throw t;return e},async updateTemplate(n,e){const{data:t,error:a}=await C.from("email_templates").update({...e,updated_at:new Date().toISOString()}).eq("id",n).select().single();if(a)throw a;return t}},GS={async getHistory(n,e){let t=C.from("reminder_history").select("*").eq("company_id",n);e&&(t=t.eq("invoice_id",e));const{data:a,error:i}=await t.order("sent_at",{ascending:!1});if(i)throw i;return a||[]},async logReminder(n){const{data:e,error:t}=await C.from("reminder_history").insert(n).select().single();if(t)throw t;return e}},il={async getNotifications(n,e,t=20){let a=C.from("notifications").select("*").eq("company_id",n);e&&(a=a.eq("user_id",e));const{data:i,error:o}=await a.order("created_at",{ascending:!1}).limit(t);if(o)throw o;return i||[]},async getUnreadCount(n,e){let t=C.from("notifications").select("id",{count:"exact",head:!0}).eq("company_id",n).eq("is_read",!1);e&&(t=t.eq("user_id",e));const{count:a,error:i}=await t;if(i)throw i;return a||0},async markAsRead(n){const{error:e}=await C.from("notifications").update({is_read:!0}).eq("id",n);if(e)throw e},async markAllAsRead(n,e){let t=C.from("notifications").update({is_read:!0}).eq("company_id",n).eq("is_read",!1);e&&(t=t.eq("user_id",e));const{error:a}=await t;if(a)throw a},async createNotification(n){const{data:e,error:t}=await C.from("notifications").insert(n).select().single();if(t)throw t;return e}},JS={async getAll(n){const{data:e,error:t}=await C.from("recurring_invoices").select("*, client:clients(*), template_invoice:invoices(*)").eq("company_id",n).order("next_run_date",{ascending:!0});if(t)throw t;return e||[]},async getById(n){const{data:e,error:t}=await C.from("recurring_invoices").select("*, client:clients(*), template_invoice:invoices(*)").eq("id",n).single();if(t)throw t;return e},async create(n){const{data:e,error:t}=await C.from("recurring_invoices").insert(n).select().single();if(t)throw t;return e},async update(n,e){const{data:t,error:a}=await C.from("recurring_invoices").update({...e,updated_at:new Date().toISOString()}).eq("id",n).select().single();if(a)throw a;return t},async delete(n){const{error:e}=await C.from("recurring_invoices").delete().eq("id",n);if(e)throw e},async toggleActive(n,e){return this.update(n,{is_active:e})}},YS={async getExpenses(n){const{data:e,error:t}=await C.from("company_expenses").select("*").eq("company_id",n).order("category",{ascending:!0}).order("name",{ascending:!0});if(t)throw t;return e},async createExpense(n){const{data:e,error:t}=await C.from("company_expenses").insert(n).select().single();if(t)throw t;return e},async updateExpense(n,e){const{data:t,error:a}=await C.from("company_expenses").update({...e,updated_at:new Date().toISOString()}).eq("id",n).select().single();if(a)throw a;return t},async deleteExpense(n){const{error:e}=await C.from("company_expenses").delete().eq("id",n);if(e)throw e},getMonthlyAmount(n){switch(n.frequency){case"daily":return n.amount*30;case"weekly":return n.amount*4;case"monthly":return n.amount;case"quarterly":return n.amount/3;case"yearly":return n.amount/12;case"one-time":return 0;default:return n.amount}}},QS={async getTokenByClient(n){const{data:e,error:t}=await C.from("client_portal_tokens").select("*").eq("client_id",n).maybeSingle();if(t)throw t;return e},async createToken(n,e){const t=Array.from(crypto.getRandomValues(new Uint8Array(32))).map(o=>o.toString(16).padStart(2,"0")).join(""),{data:a,error:i}=await C.from("client_portal_tokens").insert({client_id:n,company_id:e,token:t}).select().single();if(i)throw i;return a},async regenerateToken(n,e){return await C.from("client_portal_tokens").delete().eq("client_id",n),this.createToken(n,e)},async deleteToken(n){const{error:e}=await C.from("client_portal_tokens").delete().eq("client_id",n);if(e)throw e},getPortalUrl(n){return`${window.location.origin}/portal/${n}`}},XS={async getStatements(n){const{data:e,error:t}=await C.from("bank_statements").select("*").eq("company_id",n).order("created_at",{ascending:!1});if(t)throw t;return e},async getStatement(n){const{data:e,error:t}=await C.from("bank_statements").select("*").eq("id",n).maybeSingle();if(t)throw t;return e},async createStatement(n){const{data:e,error:t}=await C.from("bank_statements").insert(n).select().single();if(t)throw t;return e},async updateStatement(n,e){const{data:t,error:a}=await C.from("bank_statements").update({...e,updated_at:new Date().toISOString()}).eq("id",n).select().single();if(a)throw a;return t},async deleteStatement(n){await C.from("bank_transactions").delete().eq("statement_id",n);const{error:e}=await C.from("bank_statements").delete().eq("id",n);if(e)throw e},async getTransactions(n){const{data:e,error:t}=await C.from("bank_transactions").select("*").eq("statement_id",n).order("transaction_date",{ascending:!0});if(t)throw t;return e},async updateTransaction(n,e){const{data:t,error:a}=await C.from("bank_transactions").update(e).eq("id",n).select().single();if(a)throw a;return t},async uploadStatement(n,e){const t=`${n}/${Date.now()}-${e.name}`,{error:a}=await C.storage.from("bank-statements").upload(t,e);if(a)throw a;return await this.createStatement({company_id:n,file_name:e.name,file_path:t,original_filename:e.name,status:"pending"})},async parseStatement(n,e,t){const a=new FormData;a.append("file",t),a.append("company_id",e),a.append("statement_id",n);const{data:i,error:o}=await C.functions.invoke("parse-bank-statement",{body:a});if(o)throw o;return i},async reconcileStatement(n,e){const{data:t,error:a}=await C.functions.invoke("reconcile-statement",{body:{statement_id:n,company_id:e}});if(a)throw a;return t},getReconciliationSummary(n){const e=n.filter(c=>c.match_status==="matched"),t=n.filter(c=>c.match_status==="unmatched"),a=n.filter(c=>c.match_status==="discrepancy"),i=n.filter(c=>c.amount>0),o=n.filter(c=>c.amount<0);return{totalTransactions:n.length,matchedCount:e.length,unmatchedCount:t.length,discrepancyCount:a.length,depositsTotal:i.reduce((c,d)=>c+d.amount,0),withdrawalsTotal:Math.abs(o.reduce((c,d)=>c+d.amount,0)),matched:e,unmatched:t,discrepancies:a,deposits:i,withdrawals:o}}},ZS={async getLeads(n){const{data:e,error:t}=await C.from("leads").select("*").eq("company_id",n).order("created_at",{ascending:!1});if(t)throw t;return e||[]},async createLead(n){const{data:e,error:t}=await C.from("leads").insert(n).select().single();if(t)throw t;return e},async updateLead(n,e){const{data:t,error:a}=await C.from("leads").update({...e,updated_at:new Date().toISOString()}).eq("id",n).select().single();if(a)throw a;return t},async deleteLead(n){const{error:e}=await C.from("leads").delete().eq("id",n);if(e)throw e},async convertLeadToClient(n,e){const{data:t,error:a}=await C.from("clients").insert({company_id:e,name:n.company_name||n.name,display_name:n.name,email:n.email,phone:n.phone,lifecycle_stage:"client"}).select().single();if(a)throw a;await C.from("leads").update({status:"won",updated_at:new Date().toISOString()}).eq("id",n.id);const{data:i}=await C.from("quotes").select("id").eq("lead_id",n.id);if(i&&i.length>0){const o=i.map(c=>c.id);await C.from("projects").update({client_id:t.id}).in("quote_id",o)}return t}},sv=150,eA=.25,tA=24,hd=60,oS=40,lS=4,nA=oS*lS,rA=5,cS=10,aA=10,pd=3,uS=300,sA=6;function dS(n,e=300){const[t,a]=L.useState(n);return L.useEffect(()=>{const i=setTimeout(()=>{a(n)},e);return()=>{clearTimeout(i)}},[n,e]),t}const hS=[{path:"/dashboard",icon:$w,label:"Dashboard"},{path:"/sales",icon:$d,label:"Sales"},{path:"/projects",icon:E2,label:"Projects"},{path:"/time-expense",icon:w2,label:"Time"},{path:"/invoicing",icon:b2,label:"Invoicing"},{path:"/resourcing",icon:Rw,label:"Team"},{path:"/company-expenses",icon:Hw,label:"Expenses"}],pS=[{path:"/financials",icon:x2,label:"Overview"},{path:"/reports",icon:Fw,label:"Reports"},{path:"/receipts",icon:Lw,label:"Receipts"}];function fS(){var oa;const{profile:n,signOut:e}=ss(),{canViewFinancials:t,isAdmin:a}=Jk(),{upgradeModalState:i,hideUpgradeModal:o}=ry(),c=Dl(),d=Or(),[h,m]=L.useState(!1),[g,v]=L.useState(!0),[_,b]=L.useState(!1),E=!1,[S,w]=L.useState(!1),[A,R]=L.useState(!1),[N,B]=L.useState(""),U=dS(N,uS),K=L.useRef(null),Q=L.useRef(null),[F,X]=L.useState(!1),[ne,fe]=L.useState(0),[te,de]=L.useState(""),[ce,ue]=L.useState(""),[Pe,Ce]=L.useState(""),[G,oe]=L.useState(""),[Y,O]=L.useState(!1),[M,me]=L.useState([]),[ge,ke]=L.useState([]),be=L.useRef(null),[je,Re]=L.useState([]),[Ie,Je]=L.useState(0),[Ln,Xn]=L.useState(!1),wn=L.useRef(null),[Ct,Zn]=L.useState(null);L.useEffect(()=>{m(!1),["/financials","/reports","/receipts"].includes(d.pathname)&&b(!0)},[d.pathname]),L.useEffect(()=>{n!=null&&n.company_id&&(Qr.getProjects(n.company_id).then(me).catch(console.error),On())},[n==null?void 0:n.company_id]);async function On(){if(n!=null&&n.company_id)try{const[W,Te]=await Promise.all([il.getNotifications(n.company_id,n==null?void 0:n.id,cS),il.getUnreadCount(n.company_id,n==null?void 0:n.id)]);Re(W),Je(Te)}catch(W){console.error("Failed to load notifications:",W)}}async function Nn(W){try{await il.markAsRead(W),On()}catch(Te){console.error("Failed to mark as read:",Te)}}async function Ii(){if(n!=null&&n.company_id)try{await il.markAllAsRead(n.company_id,n==null?void 0:n.id),On()}catch(W){console.error("Failed to mark all as read:",W)}}L.useEffect(()=>(F?be.current=setInterval(()=>fe(W=>W+1),1e3):be.current&&(clearInterval(be.current),be.current=null),()=>{be.current&&(clearInterval(be.current),be.current=null)}),[F]),L.useEffect(()=>{te&&(n!=null&&n.company_id)?Qr.getTasks(te).then(ke).catch(console.error):ke([]),ue("")},[te,n==null?void 0:n.company_id]),L.useEffect(()=>{const W=Te=>{K.current&&!K.current.contains(Te.target)&&R(!1),Q.current&&!Q.current.contains(Te.target)&&w(!1)};return document.addEventListener("mousedown",W),()=>document.removeEventListener("mousedown",W)},[]),L.useEffect(()=>{const W=Te=>{(Te.metaKey||Te.ctrlKey)&&Te.key==="k"&&(Te.preventDefault(),R(!0)),Te.key==="Escape"&&R(!1)};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[]),L.useEffect(()=>{(async()=>{if(!(!A||Ct||!(n!=null&&n.company_id)))try{const[Te,De,at]=await Promise.all([Qr.getProjects(n.company_id),Qr.getClients(n.company_id),Qr.getInvoices(n.company_id)]);Zn({projects:Te,clients:De,invoices:at})}catch(Te){console.error("Failed to load search data:",Te)}})()},[A,n==null?void 0:n.company_id,Ct]),L.useEffect(()=>{Zn(null)},[n==null?void 0:n.company_id,d.pathname]);const ia=L.useMemo(()=>{if(!U.trim()||!Ct)return[];const W=U.toLowerCase(),Te=[];return Ct.projects.filter(De=>De.name.toLowerCase().includes(W)).slice(0,pd).forEach(De=>{var at;Te.push({id:De.id,type:"project",title:De.name,subtitle:(at=De.client)==null?void 0:at.name,path:`/projects/${De.id}`})}),Ct.clients.filter(De=>{var at;return De.name.toLowerCase().includes(W)||((at=De.display_name)==null?void 0:at.toLowerCase().includes(W))}).slice(0,pd).forEach(De=>{Te.push({id:De.id,type:"client",title:De.name,subtitle:De.email,path:"/sales"})}),Ct.invoices.filter(De=>{var at,Ui,os;return((at=De.invoice_number)==null?void 0:at.toLowerCase().includes(W))||((os=(Ui=De.client)==null?void 0:Ui.name)==null?void 0:os.toLowerCase().includes(W))}).slice(0,pd).forEach(De=>{var at;Te.push({id:De.id,type:"invoice",title:De.invoice_number||"Invoice",subtitle:(at=De.client)==null?void 0:at.name,path:"/invoicing"})}),Te},[U,Ct]),er=W=>{const Te=Math.floor(W/3600),De=Math.floor(W%3600/60),at=W%60;return`${Te.toString().padStart(2,"0")}:${De.toString().padStart(2,"0")}:${at.toString().padStart(2,"0")}`},tr=()=>{X(!0),O(!0)},is=()=>X(!1),Di=async()=>{if(X(!1),ne>=hd&&(n!=null&&n.company_id)){const W=Math.round(ne/3600*4)/4;try{await Qr.createTimeEntry({company_id:n.company_id,user_id:n.id,project_id:te||void 0,task_id:ce||void 0,hours:Math.max(.25,W),description:Pe,date:new Date().toISOString().split("T")[0],billable:!0,hourly_rate:n.hourly_rate||sv,approval_status:"draft"})}catch(Te){console.error("Failed to save timer:",Te)}}fe(0),Ce(""),ue(""),O(!1)},Bi=async()=>{const W=parseFloat(G);if(!(!W||W<=0||!(n!=null&&n.company_id)))try{await Qr.createTimeEntry({company_id:n.company_id,user_id:n.id,project_id:te||void 0,task_id:ce||void 0,hours:W,description:Pe,date:new Date().toISOString().split("T")[0],billable:!0,hourly_rate:n.hourly_rate||sv,approval_status:"draft"}),oe(""),Ce(""),ue(""),O(!1)}catch(Te){console.error("Failed to save time entry:",Te)}},$i=W=>{c(W.path),R(!1),B("")},Mi=W=>{switch(W){case"project":return x.jsx(E2,{className:"w-4 h-4 text-neutral-500","data-matrix-id":"src/components/Layout.tsx:299:29","data-matrix-name":"FolderKanban","data-component-path":"src/components/Layout.tsx","data-component-line":"299","data-component-file":"Layout.tsx","data-component-name":"FolderKanban","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20text-neutral-500%22%7D"});case"client":return x.jsx($d,{className:"w-4 h-4 text-neutral-700","data-matrix-id":"src/components/Layout.tsx:300:28","data-matrix-name":"Users","data-component-path":"src/components/Layout.tsx","data-component-line":"300","data-component-file":"Layout.tsx","data-component-name":"Users","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20text-neutral-700%22%7D"});case"invoice":return x.jsx(b2,{className:"w-4 h-4 text-neutral-700","data-matrix-id":"src/components/Layout.tsx:301:29","data-matrix-name":"FileText","data-component-path":"src/components/Layout.tsx","data-component-line":"301","data-component-file":"Layout.tsx","data-component-name":"FileText","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20text-neutral-700%22%7D"});default:return null}};return x.jsxs("div",{className:"min-h-screen flex",style:{backgroundColor:"var(--bg-page)"},"data-matrix-id":"src/components/Layout.tsx:307:4","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"307","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-h-screen%20flex%22%2C%22style%22%3A%7B%22backgroundColor%22%3A%22var(--bg-page)%22%7D%7D",children:[h&&x.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-40 lg:hidden",onClick:()=>m(!1),"data-matrix-id":"src/components/Layout.tsx:310:8","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"310","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22fixed%20inset-0%20bg-black%2F40%20backdrop-blur-sm%20z-40%20lg%3Ahidden%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%7D"}),x.jsxs("aside",{className:`
          ${g?"lg:w-64":"lg:w-20"} 
          ${h?"translate-x-0":"-translate-x-full"} 
          lg:translate-x-0
          w-64 text-white transition-all duration-300 flex flex-col fixed h-full z-50
        `,style:{backgroundColor:"#476E66"},"data-matrix-id":"src/components/Layout.tsx:318:8","data-matrix-name":"aside","data-component-path":"src/components/Layout.tsx","data-component-line":"318","data-component-file":"Layout.tsx","data-component-name":"aside","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%2C%22style%22%3A%7B%22backgroundColor%22%3A%22%23476E66%22%7D%7D",children:[x.jsxs("div",{className:"p-4 flex items-center justify-between",style:{borderBottom:"1px solid rgba(255,255,255,0.2)"},"data-matrix-id":"src/components/Layout.tsx:324:10","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"324","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-4%20flex%20items-center%20justify-between%22%2C%22style%22%3A%7B%22borderBottom%22%3A%221px%20solid%20rgba(255%2C255%2C255%2C0.2)%22%7D%7D",children:[(g||h)&&x.jsx("img",{src:"/billdora-logo.png",alt:"Billdora",className:"h-8","data-matrix-id":"src/components/Layout.tsx:325:49","data-matrix-name":"img","data-component-path":"src/components/Layout.tsx","data-component-line":"325","data-component-file":"Layout.tsx","data-component-name":"img","data-component-content":"%7B%22src%22%3A%22%2Fbilldora-logo.png%22%2C%22alt%22%3A%22Billdora%22%2C%22className%22%3A%22h-8%22%7D"}),x.jsx("button",{onClick:()=>{window.innerWidth>=1024?v(!g):m(!1)},className:"p-2 hover:bg-white/20 rounded-lg lg:block hidden","data-matrix-id":"src/components/Layout.tsx:327:12","data-matrix-name":"button","data-component-path":"src/components/Layout.tsx","data-component-line":"327","data-component-file":"Layout.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22p-2%20hover%3Abg-white%2F20%20rounded-lg%20lg%3Ablock%20hidden%22%7D",children:x.jsx(xg,{className:"w-5 h-5","data-matrix-id":"src/components/Layout.tsx:337:14","data-matrix-name":"Menu","data-component-path":"src/components/Layout.tsx","data-component-line":"337","data-component-file":"Layout.tsx","data-component-name":"Menu","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%22%7D"})}),x.jsx("button",{onClick:()=>m(!1),className:"p-2 hover:bg-white/20 rounded-lg lg:hidden","data-matrix-id":"src/components/Layout.tsx:340:12","data-matrix-name":"button","data-component-path":"src/components/Layout.tsx","data-component-line":"340","data-component-file":"Layout.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22p-2%20hover%3Abg-white%2F20%20rounded-lg%20lg%3Ahidden%22%7D",children:x.jsx(ra,{className:"w-5 h-5","data-matrix-id":"src/components/Layout.tsx:344:14","data-matrix-name":"X","data-component-path":"src/components/Layout.tsx","data-component-line":"344","data-component-file":"Layout.tsx","data-component-name":"X","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%22%7D"})})]}),x.jsxs("nav",{className:"flex-1 py-4 overflow-y-auto","data-matrix-id":"src/components/Layout.tsx:348:10","data-matrix-name":"nav","data-component-path":"src/components/Layout.tsx","data-component-line":"348","data-component-file":"Layout.tsx","data-component-name":"nav","data-component-content":"%7B%22className%22%3A%22flex-1%20py-4%20overflow-y-auto%22%7D",children:[hS.filter(W=>!(!t&&(W.path==="/invoicing"||W.path==="/sales")||!a&&W.path==="/resourcing")).map(W=>x.jsxs(ed,{to:W.path,className:({isActive:Te})=>`flex items-center gap-3 px-4 py-3 mx-2 rounded-xl transition-colors ${Te?"bg-white/20 text-white":"text-white/70 hover:text-white hover:bg-white/10"}`,"data-matrix-id":"src/components/Layout.tsx:355:14","data-matrix-name":"NavLink","data-component-path":"src/components/Layout.tsx","data-component-line":"355","data-component-file":"Layout.tsx","data-component-name":"NavLink","data-component-content":"%7B%22to%22%3A%22%5BMemberExpression%5D%22%2C%22className%22%3A%22%5BArrowFunctionExpression%5D%22%7D",children:[x.jsx(W.icon,{className:"w-5 h-5 flex-shrink-0"}),(g||h)&&x.jsx("span",{className:"text-sm font-medium","data-matrix-id":"src/components/Layout.tsx:365:53","data-matrix-name":"span","data-component-path":"src/components/Layout.tsx","data-component-line":"365","data-component-file":"Layout.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-sm%20font-medium%22%7D",children:W.label})]},W.path)),a&&x.jsxs("div",{className:"mt-2","data-matrix-id":"src/components/Layout.tsx:371:14","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"371","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mt-2%22%7D",children:[x.jsxs("button",{onClick:()=>b(!_),className:`flex items-center gap-3 px-4 py-3 mx-2 rounded-xl transition-colors w-[calc(100%-1rem)] ${["/financials","/reports","/receipts"].includes(d.pathname)?"bg-white/20 text-white":"text-white/70 hover:text-white hover:bg-white/10"}`,"data-matrix-id":"src/components/Layout.tsx:372:16","data-matrix-name":"button","data-component-path":"src/components/Layout.tsx","data-component-line":"372","data-component-file":"Layout.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:[x.jsx(x2,{className:"w-5 h-5 flex-shrink-0","data-matrix-id":"src/components/Layout.tsx:380:18","data-matrix-name":"BarChart3","data-component-path":"src/components/Layout.tsx","data-component-line":"380","data-component-file":"Layout.tsx","data-component-name":"BarChart3","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20flex-shrink-0%22%7D"}),(g||h)&&x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"text-sm font-medium flex-1 text-left","data-matrix-id":"src/components/Layout.tsx:383:22","data-matrix-name":"span","data-component-path":"src/components/Layout.tsx","data-component-line":"383","data-component-file":"Layout.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-sm%20font-medium%20flex-1%20text-left%22%7D",children:"Financials"}),_?x.jsx(yg,{className:"w-4 h-4","data-matrix-id":"src/components/Layout.tsx:385:24","data-matrix-name":"ChevronDown","data-component-path":"src/components/Layout.tsx","data-component-line":"385","data-component-file":"Layout.tsx","data-component-name":"ChevronDown","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"}):x.jsx(Ow,{className:"w-4 h-4","data-matrix-id":"src/components/Layout.tsx:387:24","data-matrix-name":"ChevronRight","data-component-path":"src/components/Layout.tsx","data-component-line":"387","data-component-file":"Layout.tsx","data-component-name":"ChevronRight","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"})]})]}),_&&(g||h)&&x.jsx("div",{className:"ml-4 mt-1","data-matrix-id":"src/components/Layout.tsx:393:18","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"393","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22ml-4%20mt-1%22%7D",children:pS.map(W=>x.jsxs(ed,{to:W.path,className:({isActive:Te})=>`flex items-center gap-3 px-4 py-2.5 mx-2 rounded-xl transition-colors ${Te?"bg-white/15 text-white":"text-white/60 hover:text-white hover:bg-white/10"}`,"data-matrix-id":"src/components/Layout.tsx:395:22","data-matrix-name":"NavLink","data-component-path":"src/components/Layout.tsx","data-component-line":"395","data-component-file":"Layout.tsx","data-component-name":"NavLink","data-component-content":"%7B%22to%22%3A%22%5BMemberExpression%5D%22%2C%22className%22%3A%22%5BArrowFunctionExpression%5D%22%7D",children:[x.jsx(W.icon,{className:"w-4 h-4 flex-shrink-0"}),x.jsx("span",{className:"text-sm","data-matrix-id":"src/components/Layout.tsx:405:24","data-matrix-name":"span","data-component-path":"src/components/Layout.tsx","data-component-line":"405","data-component-file":"Layout.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-sm%22%7D",children:W.label})]},W.path))})]})]}),x.jsxs("div",{className:"p-4",style:{borderTop:"1px solid rgba(255,255,255,0.2)"},"data-matrix-id":"src/components/Layout.tsx:414:10","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"414","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-4%22%2C%22style%22%3A%7B%22borderTop%22%3A%221px%20solid%20rgba(255%2C255%2C255%2C0.2)%22%7D%7D",children:[a&&x.jsxs(ed,{to:"/settings",className:({isActive:W})=>`flex items-center gap-3 w-full px-4 py-3 rounded-xl transition-colors mb-2 ${W?"bg-white/20 text-white":"text-white/70 hover:text-white hover:bg-white/10"}`,"data-matrix-id":"src/components/Layout.tsx:416:14","data-matrix-name":"NavLink","data-component-path":"src/components/Layout.tsx","data-component-line":"416","data-component-file":"Layout.tsx","data-component-name":"NavLink","data-component-content":"%7B%22to%22%3A%22%2Fsettings%22%2C%22className%22%3A%22%5BArrowFunctionExpression%5D%22%7D",children:[x.jsx(bg,{className:"w-5 h-5","data-matrix-id":"src/components/Layout.tsx:424:16","data-matrix-name":"Settings","data-component-path":"src/components/Layout.tsx","data-component-line":"424","data-component-file":"Layout.tsx","data-component-name":"Settings","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%22%7D"}),(g||h)&&x.jsx("span",{className:"text-sm font-medium","data-matrix-id":"src/components/Layout.tsx:425:53","data-matrix-name":"span","data-component-path":"src/components/Layout.tsx","data-component-line":"425","data-component-file":"Layout.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-sm%20font-medium%22%7D",children:"Settings"})]}),x.jsxs("button",{onClick:()=>e(),className:"flex items-center gap-3 w-full px-4 py-3 text-white/70 hover:text-white hover:bg-white/10 rounded-xl transition-colors","data-matrix-id":"src/components/Layout.tsx:428:12","data-matrix-name":"button","data-component-path":"src/components/Layout.tsx","data-component-line":"428","data-component-file":"Layout.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22flex%20items-center%20gap-3%20w-full%20px-4%20py-3%20text-white%2F70%20hover%3Atext-white%20hover%3Abg-white%2F10%20rounded-xl%20transition-colors%22%7D",children:[x.jsx(_g,{className:"w-5 h-5","data-matrix-id":"src/components/Layout.tsx:432:14","data-matrix-name":"LogOut","data-component-path":"src/components/Layout.tsx","data-component-line":"432","data-component-file":"Layout.tsx","data-component-name":"LogOut","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%22%7D"}),(g||h)&&x.jsx("span",{className:"text-sm font-medium","data-matrix-id":"src/components/Layout.tsx:433:51","data-matrix-name":"span","data-component-path":"src/components/Layout.tsx","data-component-line":"433","data-component-file":"Layout.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-sm%20font-medium%22%7D",children:"Sign Out"})]})]})]}),x.jsxs("div",{className:`flex-1 ${g?"lg:ml-64":"lg:ml-20"} transition-all duration-300`,"data-matrix-id":"src/components/Layout.tsx:440:6","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"440","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:[x.jsx("header",{className:"bg-white sticky top-0 z-30",style:{paddingTop:"env(safe-area-inset-top, 0px)",boxShadow:"var(--shadow-sm)"},"data-matrix-id":"src/components/Layout.tsx:442:8","data-matrix-name":"header","data-component-path":"src/components/Layout.tsx","data-component-line":"442","data-component-file":"Layout.tsx","data-component-name":"header","data-component-content":"%7B%22className%22%3A%22bg-white%20sticky%20top-0%20z-30%22%2C%22style%22%3A%7B%22paddingTop%22%3A%22env(safe-area-inset-top%2C%200px)%22%2C%22boxShadow%22%3A%22var(--shadow-sm)%22%7D%7D",children:x.jsxs("div",{className:"flex items-center justify-between px-3 lg:px-5 py-2 lg:py-3","data-matrix-id":"src/components/Layout.tsx:443:10","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"443","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20px-3%20lg%3Apx-5%20py-2%20lg%3Apy-3%22%7D",children:[x.jsx("button",{onClick:()=>m(!0),className:"p-2 hover:bg-neutral-100 rounded-lg lg:hidden","data-matrix-id":"src/components/Layout.tsx:446:14","data-matrix-name":"button","data-component-path":"src/components/Layout.tsx","data-component-line":"446","data-component-file":"Layout.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22p-2%20hover%3Abg-neutral-100%20rounded-lg%20lg%3Ahidden%22%7D",children:x.jsx(xg,{className:"w-5 h-5","data-matrix-id":"src/components/Layout.tsx:450:16","data-matrix-name":"Menu","data-component-path":"src/components/Layout.tsx","data-component-line":"450","data-component-file":"Layout.tsx","data-component-name":"Menu","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%22%7D"})}),E,x.jsxs("div",{ref:K,className:"relative flex-1 max-w-md mx-2 lg:mx-0 lg:flex-none lg:w-96","data-matrix-id":"src/components/Layout.tsx:458:12","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"458","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22relative%20flex-1%20max-w-md%20mx-2%20lg%3Amx-0%20lg%3Aflex-none%20lg%3Aw-96%22%7D",children:[x.jsxs("button",{onClick:()=>R(!0),className:"flex items-center gap-2.5 w-full px-3.5 py-2 lg:py-2.5 text-left bg-neutral-100/80 hover:bg-neutral-100 rounded-xl text-neutral-500 transition-colors","data-matrix-id":"src/components/Layout.tsx:459:14","data-matrix-name":"button","data-component-path":"src/components/Layout.tsx","data-component-line":"459","data-component-file":"Layout.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22flex%20items-center%20gap-2.5%20w-full%20px-3.5%20py-2%20lg%3Apy-2.5%20text-left%20bg-neutral-100%2F80%20hover%3Abg-neutral-100%20rounded-xl%20text-neutral-500%20transition-colors%22%7D",children:[x.jsx(wg,{className:"w-4 h-4","data-matrix-id":"src/components/Layout.tsx:463:16","data-matrix-name":"Search","data-component-path":"src/components/Layout.tsx","data-component-line":"463","data-component-file":"Layout.tsx","data-component-name":"Search","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"}),x.jsx("span",{className:"text-sm hidden sm:inline","data-matrix-id":"src/components/Layout.tsx:464:16","data-matrix-name":"span","data-component-path":"src/components/Layout.tsx","data-component-line":"464","data-component-file":"Layout.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-sm%20hidden%20sm%3Ainline%22%7D",children:"Search projects, clients..."}),x.jsx("span",{className:"text-sm sm:hidden","data-matrix-id":"src/components/Layout.tsx:465:16","data-matrix-name":"span","data-component-path":"src/components/Layout.tsx","data-component-line":"465","data-component-file":"Layout.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-sm%20sm%3Ahidden%22%7D",children:"Search..."}),x.jsx("kbd",{className:"ml-auto text-xs bg-white/80 px-2 py-0.5 rounded-md hidden lg:inline font-medium","data-matrix-id":"src/components/Layout.tsx:466:16","data-matrix-name":"kbd","data-component-path":"src/components/Layout.tsx","data-component-line":"466","data-component-file":"Layout.tsx","data-component-name":"kbd","data-component-content":"%7B%22className%22%3A%22ml-auto%20text-xs%20bg-white%2F80%20px-2%20py-0.5%20rounded-md%20hidden%20lg%3Ainline%20font-medium%22%7D",children:"K"})]}),A&&x.jsxs("div",{className:"absolute top-0 left-0 w-full bg-white rounded-2xl overflow-hidden z-50",style:{boxShadow:"var(--shadow-dropdown)"},"data-matrix-id":"src/components/Layout.tsx:470:16","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"470","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20top-0%20left-0%20w-full%20bg-white%20rounded-2xl%20overflow-hidden%20z-50%22%2C%22style%22%3A%7B%22boxShadow%22%3A%22var(--shadow-dropdown)%22%7D%7D",children:[x.jsxs("div",{className:"flex items-center gap-2.5 px-4 py-3.5 border-b border-neutral-100","data-matrix-id":"src/components/Layout.tsx:471:18","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"471","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2.5%20px-4%20py-3.5%20border-b%20border-neutral-100%22%7D",children:[x.jsx(wg,{className:"w-4 h-4 text-neutral-400","data-matrix-id":"src/components/Layout.tsx:472:20","data-matrix-name":"Search","data-component-path":"src/components/Layout.tsx","data-component-line":"472","data-component-file":"Layout.tsx","data-component-name":"Search","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20text-neutral-400%22%7D"}),x.jsx("input",{type:"text",autoFocus:!0,placeholder:"Search...",value:N,onChange:W=>B(W.target.value),className:"flex-1 bg-transparent outline-none text-sm","data-matrix-id":"src/components/Layout.tsx:473:20","data-matrix-name":"input","data-component-path":"src/components/Layout.tsx","data-component-line":"473","data-component-file":"Layout.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22text%22%2C%22autoFocus%22%3Atrue%2C%22placeholder%22%3A%22Search...%22%2C%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22flex-1%20bg-transparent%20outline-none%20text-sm%22%7D"}),x.jsx("button",{onClick:()=>R(!1),className:"p-1 hover:bg-neutral-100 rounded","data-matrix-id":"src/components/Layout.tsx:481:20","data-matrix-name":"button","data-component-path":"src/components/Layout.tsx","data-component-line":"481","data-component-file":"Layout.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22p-1%20hover%3Abg-neutral-100%20rounded%22%7D",children:x.jsx(ra,{className:"w-4 h-4 text-neutral-400","data-matrix-id":"src/components/Layout.tsx:482:22","data-matrix-name":"X","data-component-path":"src/components/Layout.tsx","data-component-line":"482","data-component-file":"Layout.tsx","data-component-name":"X","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20text-neutral-400%22%7D"})})]}),!Ct&&N.trim()?x.jsx("div",{className:"p-4 text-center text-neutral-500 text-sm","data-matrix-id":"src/components/Layout.tsx:486:20","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"486","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-4%20text-center%20text-neutral-500%20text-sm%22%7D",children:"Loading..."}):ia.length>0?x.jsx("div",{className:"max-h-80 overflow-y-auto py-2","data-matrix-id":"src/components/Layout.tsx:488:20","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"488","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22max-h-80%20overflow-y-auto%20py-2%22%7D",children:ia.map(W=>x.jsxs("button",{onClick:()=>$i(W),className:"flex items-center gap-3 w-full px-4 py-2.5 text-left hover:bg-neutral-50","data-matrix-id":"src/components/Layout.tsx:490:24","data-matrix-name":"button","data-component-path":"src/components/Layout.tsx","data-component-line":"490","data-component-file":"Layout.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22flex%20items-center%20gap-3%20w-full%20px-4%20py-2.5%20text-left%20hover%3Abg-neutral-50%22%7D",children:[Mi(W.type),x.jsxs("div",{className:"flex-1 min-w-0","data-matrix-id":"src/components/Layout.tsx:496:26","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"496","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-1%20min-w-0%22%7D",children:[x.jsx("p",{className:"text-sm font-medium text-neutral-900 truncate","data-matrix-id":"src/components/Layout.tsx:497:28","data-matrix-name":"p","data-component-path":"src/components/Layout.tsx","data-component-line":"497","data-component-file":"Layout.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20font-medium%20text-neutral-900%20truncate%22%7D",children:W.title}),W.subtitle&&x.jsx("p",{className:"text-xs text-neutral-500 truncate","data-matrix-id":"src/components/Layout.tsx:498:48","data-matrix-name":"p","data-component-path":"src/components/Layout.tsx","data-component-line":"498","data-component-file":"Layout.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-neutral-500%20truncate%22%7D",children:W.subtitle})]}),x.jsx("span",{className:"text-xs text-neutral-400 capitalize","data-matrix-id":"src/components/Layout.tsx:500:26","data-matrix-name":"span","data-component-path":"src/components/Layout.tsx","data-component-line":"500","data-component-file":"Layout.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-xs%20text-neutral-400%20capitalize%22%7D",children:W.type})]},`${W.type}-${W.id}`))}):U&&Ct&&x.jsx("div",{className:"p-4 text-center text-neutral-500 text-sm","data-matrix-id":"src/components/Layout.tsx:505:20","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"505","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-4%20text-center%20text-neutral-500%20text-sm%22%7D",children:"No results found"})]})]}),x.jsxs("div",{className:"flex items-center gap-1.5 lg:gap-3","data-matrix-id":"src/components/Layout.tsx:511:12","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"511","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-1.5%20lg%3Agap-3%22%7D",children:[!Y&&x.jsxs("button",{onClick:()=>O(!0),className:"hidden sm:flex items-center gap-1.5 px-2.5 py-1.5 bg-[#476E66]/10 text-neutral-600 rounded-lg hover:bg-[#3A5B54]/20 transition-colors","data-matrix-id":"src/components/Layout.tsx:514:16","data-matrix-name":"button","data-component-path":"src/components/Layout.tsx","data-component-line":"514","data-component-file":"Layout.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22hidden%20sm%3Aflex%20items-center%20gap-1.5%20px-2.5%20py-1.5%20bg-%5B%23476E66%5D%2F10%20text-neutral-600%20rounded-lg%20hover%3Abg-%5B%233A5B54%5D%2F20%20transition-colors%22%7D",children:[x.jsx(w2,{className:"w-4 h-4","data-matrix-id":"src/components/Layout.tsx:518:18","data-matrix-name":"Clock","data-component-path":"src/components/Layout.tsx","data-component-line":"518","data-component-file":"Layout.tsx","data-component-name":"Clock","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"}),x.jsx("span",{className:"text-sm font-medium hidden md:inline","data-matrix-id":"src/components/Layout.tsx:519:18","data-matrix-name":"span","data-component-path":"src/components/Layout.tsx","data-component-line":"519","data-component-file":"Layout.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-sm%20font-medium%20hidden%20md%3Ainline%22%7D",children:"Timer"})]}),F&&x.jsxs("div",{className:"flex items-center gap-1.5 px-2 lg:px-2.5 py-1.5 bg-neutral-100 text-emerald-700 rounded-lg","data-matrix-id":"src/components/Layout.tsx:525:16","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"525","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-1.5%20px-2%20lg%3Apx-2.5%20py-1.5%20bg-neutral-100%20text-emerald-700%20rounded-lg%22%7D",children:[x.jsx("div",{className:"w-2 h-2 bg-neutral-1000 rounded-full animate-pulse","data-matrix-id":"src/components/Layout.tsx:526:18","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"526","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-2%20h-2%20bg-neutral-1000%20rounded-full%20animate-pulse%22%7D"}),x.jsx("span",{className:"text-xs lg:text-sm font-mono font-medium","data-matrix-id":"src/components/Layout.tsx:527:18","data-matrix-name":"span","data-component-path":"src/components/Layout.tsx","data-component-line":"527","data-component-file":"Layout.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-xs%20lg%3Atext-sm%20font-mono%20font-medium%22%7D",children:er(ne)})]}),x.jsxs("div",{ref:wn,className:"relative","data-matrix-id":"src/components/Layout.tsx:532:14","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"532","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22relative%22%7D",children:[x.jsxs("button",{onClick:()=>Xn(!Ln),className:"relative p-1.5 hover:bg-neutral-100 rounded-lg transition-colors","data-matrix-id":"src/components/Layout.tsx:533:16","data-matrix-name":"button","data-component-path":"src/components/Layout.tsx","data-component-line":"533","data-component-file":"Layout.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22relative%20p-1.5%20hover%3Abg-neutral-100%20rounded-lg%20transition-colors%22%7D",children:[x.jsx(Tw,{className:"w-5 h-5 text-neutral-600","data-matrix-id":"src/components/Layout.tsx:537:18","data-matrix-name":"Bell","data-component-path":"src/components/Layout.tsx","data-component-line":"537","data-component-file":"Layout.tsx","data-component-name":"Bell","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-neutral-600%22%7D"}),Ie>0&&x.jsx("span",{className:"absolute top-1 right-1 w-4 h-4 bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center","data-matrix-id":"src/components/Layout.tsx:539:20","data-matrix-name":"span","data-component-path":"src/components/Layout.tsx","data-component-line":"539","data-component-file":"Layout.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22absolute%20top-1%20right-1%20w-4%20h-4%20bg-red-500%20text-white%20text-%5B10px%5D%20font-bold%20rounded-full%20flex%20items-center%20justify-center%22%7D",children:Ie>9?"9+":Ie})]}),Ln&&x.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-2xl z-50 overflow-hidden",style:{boxShadow:"var(--shadow-dropdown)"},"data-matrix-id":"src/components/Layout.tsx:546:18","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"546","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20right-0%20mt-2%20w-80%20bg-white%20rounded-2xl%20z-50%20overflow-hidden%22%2C%22style%22%3A%7B%22boxShadow%22%3A%22var(--shadow-dropdown)%22%7D%7D",children:[x.jsxs("div",{className:"p-4 border-b border-neutral-100 flex items-center justify-between","data-matrix-id":"src/components/Layout.tsx:547:20","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"547","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-4%20border-b%20border-neutral-100%20flex%20items-center%20justify-between%22%7D",children:[x.jsx("h3",{className:"font-semibold text-neutral-900 text-sm","data-matrix-id":"src/components/Layout.tsx:548:22","data-matrix-name":"h3","data-component-path":"src/components/Layout.tsx","data-component-line":"548","data-component-file":"Layout.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-neutral-900%20text-sm%22%7D",children:"Notifications"}),Ie>0&&x.jsx("button",{onClick:Ii,className:"text-xs text-[#476E66] hover:underline","data-matrix-id":"src/components/Layout.tsx:550:24","data-matrix-name":"button","data-component-path":"src/components/Layout.tsx","data-component-line":"550","data-component-file":"Layout.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22text-xs%20text-%5B%23476E66%5D%20hover%3Aunderline%22%7D",children:"Mark all read"})]}),x.jsx("div",{className:"max-h-80 overflow-y-auto","data-matrix-id":"src/components/Layout.tsx:558:20","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"558","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22max-h-80%20overflow-y-auto%22%7D",children:je.length===0?x.jsx("div",{className:"p-6 text-center text-neutral-500 text-sm","data-matrix-id":"src/components/Layout.tsx:560:24","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"560","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-6%20text-center%20text-neutral-500%20text-sm%22%7D",children:"No notifications yet"}):je.map(W=>x.jsx("div",{onClick:()=>!W.is_read&&Nn(W.id),className:`p-3 border-b border-neutral-50 hover:bg-neutral-50 cursor-pointer ${W.is_read?"":"bg-blue-50/50"}`,"data-matrix-id":"src/components/Layout.tsx:565:26","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"565","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:x.jsxs("div",{className:"flex items-start gap-3","data-matrix-id":"src/components/Layout.tsx:570:28","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"570","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-start%20gap-3%22%7D",children:[x.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${W.is_read?"bg-transparent":"bg-[#476E66]"}`,"data-matrix-id":"src/components/Layout.tsx:571:30","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"571","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D"}),x.jsxs("div",{className:"flex-1 min-w-0","data-matrix-id":"src/components/Layout.tsx:572:30","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"572","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-1%20min-w-0%22%7D",children:[x.jsx("p",{className:"text-sm font-medium text-neutral-900 truncate","data-matrix-id":"src/components/Layout.tsx:573:32","data-matrix-name":"p","data-component-path":"src/components/Layout.tsx","data-component-line":"573","data-component-file":"Layout.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20font-medium%20text-neutral-900%20truncate%22%7D",children:W.title}),x.jsx("p",{className:"text-xs text-neutral-500 mt-0.5 line-clamp-2","data-matrix-id":"src/components/Layout.tsx:574:32","data-matrix-name":"p","data-component-path":"src/components/Layout.tsx","data-component-line":"574","data-component-file":"Layout.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-neutral-500%20mt-0.5%20line-clamp-2%22%7D",children:W.message}),x.jsx("p",{className:"text-xs text-neutral-400 mt-1","data-matrix-id":"src/components/Layout.tsx:575:32","data-matrix-name":"p","data-component-path":"src/components/Layout.tsx","data-component-line":"575","data-component-file":"Layout.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-neutral-400%20mt-1%22%7D",children:W.created_at?new Date(W.created_at).toLocaleDateString():""})]})]})},W.id))}),x.jsx("button",{onClick:()=>{c("/notifications"),Xn(!1)},className:"w-full p-2 text-center text-sm text-[#476E66] hover:bg-neutral-50 border-t border-neutral-100","data-matrix-id":"src/components/Layout.tsx:584:20","data-matrix-name":"button","data-component-path":"src/components/Layout.tsx","data-component-line":"584","data-component-file":"Layout.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20p-2%20text-center%20text-sm%20text-%5B%23476E66%5D%20hover%3Abg-neutral-50%20border-t%20border-neutral-100%22%7D",children:"View all notifications"})]})]}),x.jsxs("div",{ref:Q,className:"relative","data-matrix-id":"src/components/Layout.tsx:595:14","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"595","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22relative%22%7D",children:[x.jsxs("button",{onClick:()=>w(!S),className:"flex items-center gap-1.5 px-1.5 lg:px-2 py-1 hover:bg-neutral-100 rounded-lg transition-colors","data-matrix-id":"src/components/Layout.tsx:596:16","data-matrix-name":"button","data-component-path":"src/components/Layout.tsx","data-component-line":"596","data-component-file":"Layout.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22flex%20items-center%20gap-1.5%20px-1.5%20lg%3Apx-2%20py-1%20hover%3Abg-neutral-100%20rounded-lg%20transition-colors%22%7D",children:[x.jsx("div",{className:"w-7 h-7 rounded-full bg-[#476E66]/20 flex items-center justify-center text-neutral-600 font-medium text-sm","data-matrix-id":"src/components/Layout.tsx:600:18","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"600","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-7%20h-7%20rounded-full%20bg-%5B%23476E66%5D%2F20%20flex%20items-center%20justify-center%20text-neutral-600%20font-medium%20text-sm%22%7D",children:((oa=n==null?void 0:n.full_name)==null?void 0:oa.charAt(0))||"U"}),(n==null?void 0:n.full_name)&&x.jsx("span",{className:"text-sm font-medium text-neutral-700 hidden lg:inline","data-matrix-id":"src/components/Layout.tsx:603:41","data-matrix-name":"span","data-component-path":"src/components/Layout.tsx","data-component-line":"603","data-component-file":"Layout.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-sm%20font-medium%20text-neutral-700%20hidden%20lg%3Ainline%22%7D",children:n.full_name}),x.jsx(yg,{className:"w-4 h-4 text-neutral-400 hidden lg:inline","data-matrix-id":"src/components/Layout.tsx:604:18","data-matrix-name":"ChevronDown","data-component-path":"src/components/Layout.tsx","data-component-line":"604","data-component-file":"Layout.tsx","data-component-name":"ChevronDown","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20text-neutral-400%20hidden%20lg%3Ainline%22%7D"})]}),S&&x.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-2xl py-2 z-50",style:{boxShadow:"var(--shadow-dropdown)"},"data-matrix-id":"src/components/Layout.tsx:608:18","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"608","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20right-0%20mt-2%20w-48%20bg-white%20rounded-2xl%20py-2%20z-50%22%2C%22style%22%3A%7B%22boxShadow%22%3A%22var(--shadow-dropdown)%22%7D%7D",children:[x.jsxs("button",{onClick:()=>{c("/settings?tab=profile"),w(!1)},className:"w-full flex items-center gap-2.5 px-4 py-2.5 text-left text-sm text-neutral-700 hover:bg-neutral-50 transition-colors","data-matrix-id":"src/components/Layout.tsx:609:20","data-matrix-name":"button","data-component-path":"src/components/Layout.tsx","data-component-line":"609","data-component-file":"Layout.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20flex%20items-center%20gap-2.5%20px-4%20py-2.5%20text-left%20text-sm%20text-neutral-700%20hover%3Abg-neutral-50%20transition-colors%22%7D",children:[x.jsx($d,{className:"w-4 h-4","data-matrix-id":"src/components/Layout.tsx:613:22","data-matrix-name":"Users","data-component-path":"src/components/Layout.tsx","data-component-line":"613","data-component-file":"Layout.tsx","data-component-name":"Users","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"}),"My Profile"]}),a&&x.jsxs("button",{onClick:()=>{c("/settings"),w(!1)},className:"w-full flex items-center gap-2.5 px-4 py-2.5 text-left text-sm text-neutral-700 hover:bg-neutral-50 transition-colors","data-matrix-id":"src/components/Layout.tsx:617:20","data-matrix-name":"button","data-component-path":"src/components/Layout.tsx","data-component-line":"617","data-component-file":"Layout.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20flex%20items-center%20gap-2.5%20px-4%20py-2.5%20text-left%20text-sm%20text-neutral-700%20hover%3Abg-neutral-50%20transition-colors%22%7D",children:[x.jsx(bg,{className:"w-4 h-4","data-matrix-id":"src/components/Layout.tsx:621:22","data-matrix-name":"Settings","data-component-path":"src/components/Layout.tsx","data-component-line":"621","data-component-file":"Layout.tsx","data-component-name":"Settings","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"}),"Settings"]}),x.jsx("div",{className:"my-1 border-t border-neutral-100","data-matrix-id":"src/components/Layout.tsx:625:20","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"625","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22my-1%20border-t%20border-neutral-100%22%7D"}),x.jsxs("button",{onClick:()=>{e(),w(!1)},className:"w-full flex items-center gap-2.5 px-4 py-2.5 text-left text-sm text-neutral-700 hover:bg-neutral-50 transition-colors","data-matrix-id":"src/components/Layout.tsx:626:20","data-matrix-name":"button","data-component-path":"src/components/Layout.tsx","data-component-line":"626","data-component-file":"Layout.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20flex%20items-center%20gap-2.5%20px-4%20py-2.5%20text-left%20text-sm%20text-neutral-700%20hover%3Abg-neutral-50%20transition-colors%22%7D",children:[x.jsx(_g,{className:"w-4 h-4","data-matrix-id":"src/components/Layout.tsx:630:22","data-matrix-name":"LogOut","data-component-path":"src/components/Layout.tsx","data-component-line":"630","data-component-file":"Layout.tsx","data-component-name":"LogOut","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"}),"Sign Out"]})]})]})]})]})}),x.jsx("main",{className:"p-3 lg:p-5","data-matrix-id":"src/components/Layout.tsx:641:8","data-matrix-name":"main","data-component-path":"src/components/Layout.tsx","data-component-line":"641","data-component-file":"Layout.tsx","data-component-name":"main","data-component-content":"%7B%22className%22%3A%22p-3%20lg%3Ap-5%22%7D",children:x.jsx(Mb,{"data-matrix-id":"src/components/Layout.tsx:642:10","data-matrix-name":"Outlet","data-component-path":"src/components/Layout.tsx","data-component-line":"642","data-component-file":"Layout.tsx","data-component-name":"Outlet"})}),Y&&x.jsxs("div",{className:"fixed bottom-4 right-4 lg:bottom-6 lg:right-6 bg-white rounded-2xl p-5 w-[calc(100vw-2rem)] sm:w-80 z-50",style:{boxShadow:"var(--shadow-elevated)"},"data-matrix-id":"src/components/Layout.tsx:647:10","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"647","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22fixed%20bottom-4%20right-4%20lg%3Abottom-6%20lg%3Aright-6%20bg-white%20rounded-2xl%20p-5%20w-%5Bcalc(100vw-2rem)%5D%20sm%3Aw-80%20z-50%22%2C%22style%22%3A%7B%22boxShadow%22%3A%22var(--shadow-elevated)%22%7D%7D",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4","data-matrix-id":"src/components/Layout.tsx:648:12","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"648","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20mb-4%22%7D",children:[x.jsx("h4",{className:"font-semibold text-neutral-900","data-matrix-id":"src/components/Layout.tsx:649:14","data-matrix-name":"h4","data-component-path":"src/components/Layout.tsx","data-component-line":"649","data-component-file":"Layout.tsx","data-component-name":"h4","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-neutral-900%22%7D",children:"Timer"}),x.jsx("button",{onClick:()=>O(!1),className:"p-1 hover:bg-neutral-100 rounded","data-matrix-id":"src/components/Layout.tsx:650:14","data-matrix-name":"button","data-component-path":"src/components/Layout.tsx","data-component-line":"650","data-component-file":"Layout.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22p-1%20hover%3Abg-neutral-100%20rounded%22%7D",children:x.jsx(ra,{className:"w-4 h-4 text-neutral-400","data-matrix-id":"src/components/Layout.tsx:651:16","data-matrix-name":"X","data-component-path":"src/components/Layout.tsx","data-component-line":"651","data-component-file":"Layout.tsx","data-component-name":"X","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20text-neutral-400%22%7D"})})]}),x.jsx("div",{className:"text-4xl font-mono font-bold text-center mb-4 text-neutral-900","data-matrix-id":"src/components/Layout.tsx:655:12","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"655","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:er(ne)}),x.jsxs("select",{value:te,onChange:W=>de(W.target.value),disabled:F,className:"w-full px-3 py-2 border border-neutral-200 rounded-lg text-sm mb-3","data-matrix-id":"src/components/Layout.tsx:659:12","data-matrix-name":"select","data-component-path":"src/components/Layout.tsx","data-component-line":"659","data-component-file":"Layout.tsx","data-component-name":"select","data-component-content":"%7B%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22disabled%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22w-full%20px-3%20py-2%20border%20border-neutral-200%20rounded-lg%20text-sm%20mb-3%22%7D",children:[x.jsx("option",{value:"","data-matrix-id":"src/components/Layout.tsx:665:14","data-matrix-name":"option","data-component-path":"src/components/Layout.tsx","data-component-line":"665","data-component-file":"Layout.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22%22%7D",children:"No Project"}),M.map(W=>x.jsx("option",{value:W.id,"data-matrix-id":"src/components/Layout.tsx:666:33","data-matrix-name":"option","data-component-path":"src/components/Layout.tsx","data-component-line":"666","data-component-file":"Layout.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22%5BMemberExpression%5D%22%7D",children:W.name},W.id))]}),te&&x.jsxs("select",{value:ce,onChange:W=>ue(W.target.value),disabled:F,className:"w-full px-3 py-2 border border-neutral-200 rounded-lg text-sm mb-3","data-matrix-id":"src/components/Layout.tsx:670:14","data-matrix-name":"select","data-component-path":"src/components/Layout.tsx","data-component-line":"670","data-component-file":"Layout.tsx","data-component-name":"select","data-component-content":"%7B%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22disabled%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22w-full%20px-3%20py-2%20border%20border-neutral-200%20rounded-lg%20text-sm%20mb-3%22%7D",children:[x.jsx("option",{value:"","data-matrix-id":"src/components/Layout.tsx:676:16","data-matrix-name":"option","data-component-path":"src/components/Layout.tsx","data-component-line":"676","data-component-file":"Layout.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22%22%7D",children:"No Task"}),ge.map(W=>x.jsx("option",{value:W.id,"data-matrix-id":"src/components/Layout.tsx:677:39","data-matrix-name":"option","data-component-path":"src/components/Layout.tsx","data-component-line":"677","data-component-file":"Layout.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22%5BMemberExpression%5D%22%7D",children:W.name},W.id))]}),x.jsx("input",{type:"text",placeholder:"What are you working on?",value:Pe,onChange:W=>Ce(W.target.value),className:"w-full px-3 py-2 border border-neutral-200 rounded-lg text-sm mb-3","data-matrix-id":"src/components/Layout.tsx:681:12","data-matrix-name":"input","data-component-path":"src/components/Layout.tsx","data-component-line":"681","data-component-file":"Layout.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22text%22%2C%22placeholder%22%3A%22What%20are%20you%20working%20on%3F%22%2C%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20px-3%20py-2%20border%20border-neutral-200%20rounded-lg%20text-sm%20mb-3%22%7D"}),x.jsxs("div",{className:"flex items-center gap-2 mb-4","data-matrix-id":"src/components/Layout.tsx:690:12","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"690","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%20mb-4%22%7D",children:[x.jsx("label",{className:"text-xs text-neutral-500","data-matrix-id":"src/components/Layout.tsx:691:14","data-matrix-name":"label","data-component-path":"src/components/Layout.tsx","data-component-line":"691","data-component-file":"Layout.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22text-xs%20text-neutral-500%22%7D",children:"Or enter hours:"}),x.jsx("input",{type:"number",step:"0.25",min:"0",placeholder:"0.00",value:G,onChange:W=>oe(W.target.value),disabled:F,className:"w-20 px-2 py-1.5 border border-neutral-200 rounded-lg text-sm text-center","data-matrix-id":"src/components/Layout.tsx:692:14","data-matrix-name":"input","data-component-path":"src/components/Layout.tsx","data-component-line":"692","data-component-file":"Layout.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22number%22%2C%22step%22%3A%220.25%22%2C%22min%22%3A%220%22%2C%22placeholder%22%3A%220.00%22%2C%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22disabled%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22w-20%20px-2%20py-1.5%20border%20border-neutral-200%20rounded-lg%20text-sm%20text-center%22%7D"}),x.jsx("button",{onClick:Bi,disabled:!G||parseFloat(G)<=0,className:"px-3 py-1.5 bg-[#476E66] text-white text-sm rounded-lg hover:bg-[#3A5B54] disabled:opacity-50","data-matrix-id":"src/components/Layout.tsx:702:14","data-matrix-name":"button","data-component-path":"src/components/Layout.tsx","data-component-line":"702","data-component-file":"Layout.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22disabled%22%3A%22%5BLogicalExpression%5D%22%2C%22className%22%3A%22px-3%20py-1.5%20bg-%5B%23476E66%5D%20text-white%20text-sm%20rounded-lg%20hover%3Abg-%5B%233A5B54%5D%20disabled%3Aopacity-50%22%7D",children:"Save"})]}),x.jsxs("div",{className:"border-t border-neutral-100 pt-3","data-matrix-id":"src/components/Layout.tsx:711:12","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"711","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22border-t%20border-neutral-100%20pt-3%22%7D",children:[x.jsx("p",{className:"text-xs text-neutral-400 text-center mb-2","data-matrix-id":"src/components/Layout.tsx:712:14","data-matrix-name":"p","data-component-path":"src/components/Layout.tsx","data-component-line":"712","data-component-file":"Layout.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-neutral-400%20text-center%20mb-2%22%7D",children:"Or use timer:"}),x.jsxs("div",{className:"flex items-center justify-center gap-2","data-matrix-id":"src/components/Layout.tsx:713:14","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"713","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-center%20gap-2%22%7D",children:[F?x.jsxs("button",{onClick:is,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2.5 bg-amber-500 text-white rounded-xl hover:bg-amber-600","data-matrix-id":"src/components/Layout.tsx:719:18","data-matrix-name":"button","data-component-path":"src/components/Layout.tsx","data-component-line":"719","data-component-file":"Layout.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22flex-1%20flex%20items-center%20justify-center%20gap-2%20px-4%20py-2.5%20bg-amber-500%20text-white%20rounded-xl%20hover%3Abg-amber-600%22%7D",children:[x.jsx(Uw,{className:"w-4 h-4","data-matrix-id":"src/components/Layout.tsx:720:20","data-matrix-name":"Pause","data-component-path":"src/components/Layout.tsx","data-component-line":"720","data-component-file":"Layout.tsx","data-component-name":"Pause","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"})," Pause"]}):x.jsxs("button",{onClick:tr,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2.5 bg-[#476E66] text-white rounded-xl hover:bg-[#3A5B54]","data-matrix-id":"src/components/Layout.tsx:715:18","data-matrix-name":"button","data-component-path":"src/components/Layout.tsx","data-component-line":"715","data-component-file":"Layout.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22flex-1%20flex%20items-center%20justify-center%20gap-2%20px-4%20py-2.5%20bg-%5B%23476E66%5D%20text-white%20rounded-xl%20hover%3Abg-%5B%233A5B54%5D%22%7D",children:[x.jsx(qw,{className:"w-4 h-4","data-matrix-id":"src/components/Layout.tsx:716:20","data-matrix-name":"Play","data-component-path":"src/components/Layout.tsx","data-component-line":"716","data-component-file":"Layout.tsx","data-component-name":"Play","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"})," Start"]}),x.jsxs("button",{onClick:Di,disabled:ne<hd,className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-red-500 text-white rounded-xl hover:bg-red-600 disabled:opacity-50","data-matrix-id":"src/components/Layout.tsx:723:16","data-matrix-name":"button","data-component-path":"src/components/Layout.tsx","data-component-line":"723","data-component-file":"Layout.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22disabled%22%3A%22%5BBinaryExpression%5D%22%2C%22className%22%3A%22flex%20items-center%20justify-center%20gap-2%20px-4%20py-2.5%20bg-red-500%20text-white%20rounded-xl%20hover%3Abg-red-600%20disabled%3Aopacity-50%22%7D",children:[x.jsx(Ww,{className:"w-4 h-4","data-matrix-id":"src/components/Layout.tsx:728:18","data-matrix-name":"Square","data-component-path":"src/components/Layout.tsx","data-component-line":"728","data-component-file":"Layout.tsx","data-component-name":"Square","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"})," Stop"]})]}),ne>0&&ne<hd&&x.jsx("p",{className:"text-xs text-neutral-500 text-center mt-2","data-matrix-id":"src/components/Layout.tsx:732:16","data-matrix-name":"p","data-component-path":"src/components/Layout.tsx","data-component-line":"732","data-component-file":"Layout.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-neutral-500%20text-center%20mt-2%22%7D",children:"Minimum 1 minute to save"})]})]})]}),x.jsx(Zk,{isOpen:i.isOpen,onClose:o,limitType:i.limitType,currentCount:i.currentCount,"data-matrix-id":"src/components/Layout.tsx:740:6","data-matrix-name":"UpgradeModal","data-component-path":"src/components/Layout.tsx","data-component-line":"740","data-component-file":"Layout.tsx","data-component-name":"UpgradeModal","data-component-content":"%7B%22isOpen%22%3A%22%5BMemberExpression%5D%22%2C%22onClose%22%3A%22%5BIdentifier%5D%22%2C%22limitType%22%3A%22%5BMemberExpression%5D%22%2C%22currentCount%22%3A%22%5BMemberExpression%5D%22%7D"})]})}function mS(){const[n,e]=L.useState(!1);L.useEffect(()=>{if(!localStorage.getItem("cookie_consent")){const o=setTimeout(()=>e(!0),1e3);return()=>clearTimeout(o)}},[]);const t=()=>{localStorage.setItem("cookie_consent",JSON.stringify({essential:!0,analytics:!0,marketing:!0,accepted_at:new Date().toISOString()})),e(!1)},a=()=>{localStorage.setItem("cookie_consent",JSON.stringify({essential:!0,analytics:!1,marketing:!1,accepted_at:new Date().toISOString()})),e(!1)};return n?x.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white border-t border-neutral-200 shadow-lg",style:{zIndex:99999},"data-matrix-id":"src/components/CookieConsent.tsx:40:4","data-matrix-name":"div","data-component-path":"src/components/CookieConsent.tsx","data-component-line":"40","data-component-file":"CookieConsent.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22fixed%20bottom-0%20left-0%20right-0%20p-4%20bg-white%20border-t%20border-neutral-200%20shadow-lg%22%2C%22style%22%3A%7B%22zIndex%22%3A99999%7D%7D",children:x.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4","data-matrix-id":"src/components/CookieConsent.tsx:41:6","data-matrix-name":"div","data-component-path":"src/components/CookieConsent.tsx","data-component-line":"41","data-component-file":"CookieConsent.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22max-w-6xl%20mx-auto%20flex%20flex-col%20sm%3Aflex-row%20items-start%20sm%3Aitems-center%20justify-between%20gap-4%22%7D",children:[x.jsxs("div",{className:"flex items-start gap-3 flex-1","data-matrix-id":"src/components/CookieConsent.tsx:42:8","data-matrix-name":"div","data-component-path":"src/components/CookieConsent.tsx","data-component-line":"42","data-component-file":"CookieConsent.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-start%20gap-3%20flex-1%22%7D",children:[x.jsx("div",{className:"w-10 h-10 bg-amber-100 rounded-lg flex items-center justify-center flex-shrink-0","data-matrix-id":"src/components/CookieConsent.tsx:43:10","data-matrix-name":"div","data-component-path":"src/components/CookieConsent.tsx","data-component-line":"43","data-component-file":"CookieConsent.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-10%20h-10%20bg-amber-100%20rounded-lg%20flex%20items-center%20justify-center%20flex-shrink-0%22%7D",children:x.jsx(jw,{className:"w-5 h-5 text-amber-600","data-matrix-id":"src/components/CookieConsent.tsx:44:12","data-matrix-name":"Cookie","data-component-path":"src/components/CookieConsent.tsx","data-component-line":"44","data-component-file":"CookieConsent.tsx","data-component-name":"Cookie","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-amber-600%22%7D"})}),x.jsx("div",{"data-matrix-id":"src/components/CookieConsent.tsx:46:10","data-matrix-name":"div","data-component-path":"src/components/CookieConsent.tsx","data-component-line":"46","data-component-file":"CookieConsent.tsx","data-component-name":"div",children:x.jsxs("p",{className:"text-sm text-neutral-700","data-matrix-id":"src/components/CookieConsent.tsx:47:12","data-matrix-name":"p","data-component-path":"src/components/CookieConsent.tsx","data-component-line":"47","data-component-file":"CookieConsent.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-neutral-700%22%7D",children:['We use cookies to enhance your experience, analyze site traffic, and for marketing purposes. By clicking "Accept All", you consent to our use of cookies.',x.jsx(D2,{to:"/privacy#cookies",className:"text-[#476E66] hover:underline ml-1","data-matrix-id":"src/components/CookieConsent.tsx:50:14","data-matrix-name":"Link","data-component-path":"src/components/CookieConsent.tsx","data-component-line":"50","data-component-file":"CookieConsent.tsx","data-component-name":"Link","data-component-content":"%7B%22to%22%3A%22%2Fprivacy%23cookies%22%2C%22className%22%3A%22text-%5B%23476E66%5D%20hover%3Aunderline%20ml-1%22%7D",children:"Learn more"})]})})]}),x.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0","data-matrix-id":"src/components/CookieConsent.tsx:56:8","data-matrix-name":"div","data-component-path":"src/components/CookieConsent.tsx","data-component-line":"56","data-component-file":"CookieConsent.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-3%20flex-shrink-0%22%7D",children:[x.jsx("button",{type:"button",onClick:i=>{i.preventDefault(),i.stopPropagation(),a()},className:"px-4 py-2 text-sm font-medium text-neutral-700 border border-neutral-300 rounded-lg hover:bg-neutral-50 transition-colors","data-matrix-id":"src/components/CookieConsent.tsx:57:10","data-matrix-name":"button","data-component-path":"src/components/CookieConsent.tsx","data-component-line":"57","data-component-file":"CookieConsent.tsx","data-component-name":"button","data-component-content":"%7B%22type%22%3A%22button%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22px-4%20py-2%20text-sm%20font-medium%20text-neutral-700%20border%20border-neutral-300%20rounded-lg%20hover%3Abg-neutral-50%20transition-colors%22%7D",children:"Essential Only"}),x.jsx("button",{type:"button",onClick:i=>{i.preventDefault(),i.stopPropagation(),t()},className:"px-4 py-2 text-sm font-medium text-white bg-[#476E66] rounded-lg hover:bg-[#3A5B54] transition-colors","data-matrix-id":"src/components/CookieConsent.tsx:64:10","data-matrix-name":"button","data-component-path":"src/components/CookieConsent.tsx","data-component-line":"64","data-component-file":"CookieConsent.tsx","data-component-name":"button","data-component-content":"%7B%22type%22%3A%22button%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22px-4%20py-2%20text-sm%20font-medium%20text-white%20bg-%5B%23476E66%5D%20rounded-lg%20hover%3Abg-%5B%233A5B54%5D%20transition-colors%22%7D",children:"Accept All"}),x.jsx("button",{type:"button",onClick:i=>{i.preventDefault(),i.stopPropagation(),a()},className:"p-2 text-neutral-400 hover:text-neutral-600","aria-label":"Close","data-matrix-id":"src/components/CookieConsent.tsx:71:10","data-matrix-name":"button","data-component-path":"src/components/CookieConsent.tsx","data-component-line":"71","data-component-file":"CookieConsent.tsx","data-component-name":"button","data-component-content":"%7B%22type%22%3A%22button%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22p-2%20text-neutral-400%20hover%3Atext-neutral-600%22%7D",children:x.jsx(ra,{className:"w-5 h-5","data-matrix-id":"src/components/CookieConsent.tsx:77:12","data-matrix-name":"X","data-component-path":"src/components/CookieConsent.tsx","data-component-line":"77","data-component-file":"CookieConsent.tsx","data-component-name":"X","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%22%7D"})})]})]})}):null}const gS=L.lazy(()=>Fe(()=>import("./LoginPage-CfP3TPu5.js"),__vite__mapDeps([0,1,2]))),vS=L.lazy(()=>Fe(()=>import("./DashboardPage-C3PbyGr2.js"),__vite__mapDeps([3,4,5,6,7,8,9,10,11]))),yS=L.lazy(()=>Fe(()=>import("./SalesPage-BFZHNkVw.js"),__vite__mapDeps([12,13,10,14,15,16,17,18,19,20,21,2,22,23,9,24,25,26]))),iv=L.lazy(()=>Fe(()=>import("./ProjectsPage-g7m25ces.js"),__vite__mapDeps([27,25,28,15,20,4,11,29,10,14,16,19,17]))),_S=L.lazy(()=>Fe(()=>import("./TimeExpensePage-ilcgOWyz.js"),__vite__mapDeps([30,10,31,8,32,20,33,18,19,34]))),xS=L.lazy(()=>Fe(()=>import("./InvoicingPage-DQIWY6US.js"),__vite__mapDeps([35,13,36,4,7,16,10,18,15,20,37,22,21,23,32,8]))),wS=L.lazy(()=>Fe(()=>import("./ResourcingPage-C75KDtq6.js"),__vite__mapDeps([38,18,10,5,17,28,19,39,20,40,41]))),bS=L.lazy(()=>Fe(()=>import("./AnalyticsPage-DBAUPfb4.js"),__vite__mapDeps([42,5]))),ES=L.lazy(()=>Fe(()=>import("./ReportsPage-KlMZh-11.js"),__vite__mapDeps([43,7,16,5,4,44,45]))),kS=L.lazy(()=>Fe(()=>import("./SettingsPage-CDhXHuEY.js"),__vite__mapDeps([46,17,36,44,47,24,48,31,34,10,19,20,37,28,39,18]))),SS=L.lazy(()=>Fe(()=>import("./QuoteDocumentPage-BqrtHI2t.js"),__vite__mapDeps([49,24,10,45,50,51,18,25,21,34,29,20,47,16,33]))),AS=L.lazy(()=>Fe(()=>import("./ProposalPortalPage-BZpA1_be.js"),__vite__mapDeps([52,23,19]))),CS=L.lazy(()=>Fe(()=>import("./InvoiceViewPage-Dx7i-kGr.js"),__vite__mapDeps([53,8,9,36,16]))),PS=L.lazy(()=>Fe(()=>import("./ClientPortalPage-DoZOinFR.js"),__vite__mapDeps([54,44,16,8]))),TS=L.lazy(()=>Fe(()=>import("./CompanyExpensesPage-DQUPzpcn.js"),__vite__mapDeps([55,44,6,48,36,40,22,56,4,20,10])));L.lazy(()=>Fe(()=>import("./BankStatementsPage-4l58XwGG.js"),__vite__mapDeps([57,44,26,41,25,34,23,9,20,14,51])));const RS=L.lazy(()=>Fe(()=>import("./FinancialsPage-Dbm3O4jV.js"),__vite__mapDeps([58,57,44,26,41,25,34,23,9,20,14,51,10,4,56,5,50,16]))),LS=L.lazy(()=>Fe(()=>import("./ReceiptsPage-CWEfIjVc.js"),__vite__mapDeps([59,26,51,34,20,21]))),OS=L.lazy(()=>Fe(()=>import("./NotificationsPage-CQfwZd6o.js"),__vite__mapDeps([60,13,31,14,37,21,18,4,61,29]))),NS=L.lazy(()=>Fe(()=>import("./LandingPage-l1Y5iwRe.js"),__vite__mapDeps([62,1,31,6,48,61,44,36,8,2]))),jS=L.lazy(()=>Fe(()=>import("./CheckEmailPage-BYFoaBjs.js"),[])),IS=L.lazy(()=>Fe(()=>import("./TermsPage-7hUOjlA1.js"),[])),DS=L.lazy(()=>Fe(()=>import("./PrivacyPage-DO_e7HxT.js"),[]));function th(){return x.jsx("div",{className:"min-h-[200px] flex items-center justify-center","data-matrix-id":"src/App.tsx:56:4","data-matrix-name":"div","data-component-path":"src/App.tsx","data-component-line":"56","data-component-file":"App.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-h-%5B200px%5D%20flex%20items-center%20justify-center%22%7D",children:x.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-[#476E66] border-t-transparent rounded-full","data-matrix-id":"src/App.tsx:57:6","data-matrix-name":"div","data-component-path":"src/App.tsx","data-component-line":"57","data-component-file":"App.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22animate-spin%20w-6%20h-6%20border-2%20border-%5B%23476E66%5D%20border-t-transparent%20rounded-full%22%7D"})})}typeof window<"u"&&window.addEventListener("load",()=>{setTimeout(()=>{Fe(()=>import("./DashboardPage-C3PbyGr2.js"),__vite__mapDeps([3,4,5,6,7,8,9,10,11])),Fe(()=>import("./ProjectsPage-g7m25ces.js"),__vite__mapDeps([27,25,28,15,20,4,11,29,10,14,16,19,17])),Fe(()=>import("./SalesPage-BFZHNkVw.js"),__vite__mapDeps([12,13,10,14,15,16,17,18,19,20,21,2,22,23,9,24,25,26]))},2e3)});function ov({children:n}){const{user:e,loading:t}=ss();return t?x.jsx(th,{"data-matrix-id":"src/App.tsx:78:11","data-matrix-name":"PageLoader","data-component-path":"src/App.tsx","data-component-line":"78","data-component-file":"App.tsx","data-component-name":"PageLoader"}):e?x.jsx(x.Fragment,{children:n}):x.jsx(hi,{to:"/login",replace:!0,"data-matrix-id":"src/App.tsx:82:11","data-matrix-name":"Navigate","data-component-path":"src/App.tsx","data-component-line":"82","data-component-file":"App.tsx","data-component-name":"Navigate","data-component-content":"%7B%22to%22%3A%22%2Flogin%22%2C%22replace%22%3Atrue%7D"})}function BS(){const{user:n,loading:e}=ss();return e?x.jsx(th,{"data-matrix-id":"src/App.tsx:93:11","data-matrix-name":"PageLoader","data-component-path":"src/App.tsx","data-component-line":"93","data-component-file":"App.tsx","data-component-name":"PageLoader"}):x.jsx(L.Suspense,{fallback:x.jsx(th,{"data-matrix-id":"src/App.tsx:97:24","data-matrix-name":"PageLoader","data-component-path":"src/App.tsx","data-component-line":"97","data-component-file":"App.tsx","data-component-name":"PageLoader"}),children:x.jsxs(Fb,{"data-matrix-id":"src/App.tsx:98:6","data-matrix-name":"Routes","data-component-path":"src/App.tsx","data-component-line":"98","data-component-file":"App.tsx","data-component-name":"Routes",children:[x.jsx(Ue,{path:"/",element:n?x.jsx(hi,{to:"/dashboard",replace:!0,"data-matrix-id":"src/App.tsx:100:40","data-matrix-name":"Navigate","data-component-path":"src/App.tsx","data-component-line":"100","data-component-file":"App.tsx","data-component-name":"Navigate","data-component-content":"%7B%22to%22%3A%22%2Fdashboard%22%2C%22replace%22%3Atrue%7D"}):x.jsx(NS,{"data-matrix-id":"src/App.tsx:100:79","data-matrix-name":"LandingPage","data-component-path":"src/App.tsx","data-component-line":"100","data-component-file":"App.tsx","data-component-name":"LandingPage"}),"data-matrix-id":"src/App.tsx:100:8","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"100","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2F%22%2C%22element%22%3A%22%5BConditionalExpression%5D%22%7D"}),x.jsx(Ue,{path:"/login",element:n?x.jsx(hi,{to:"/dashboard",replace:!0,"data-matrix-id":"src/App.tsx:101:45","data-matrix-name":"Navigate","data-component-path":"src/App.tsx","data-component-line":"101","data-component-file":"App.tsx","data-component-name":"Navigate","data-component-content":"%7B%22to%22%3A%22%2Fdashboard%22%2C%22replace%22%3Atrue%7D"}):x.jsx(gS,{"data-matrix-id":"src/App.tsx:101:84","data-matrix-name":"LoginPage","data-component-path":"src/App.tsx","data-component-line":"101","data-component-file":"App.tsx","data-component-name":"LoginPage"}),"data-matrix-id":"src/App.tsx:101:8","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"101","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Flogin%22%2C%22element%22%3A%22%5BConditionalExpression%5D%22%7D"}),x.jsx(Ue,{path:"/check-email",element:x.jsx(jS,{"data-matrix-id":"src/App.tsx:102:44","data-matrix-name":"CheckEmailPage","data-component-path":"src/App.tsx","data-component-line":"102","data-component-file":"App.tsx","data-component-name":"CheckEmailPage"}),"data-matrix-id":"src/App.tsx:102:8","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"102","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Fcheck-email%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),x.jsx(Ue,{path:"/terms",element:x.jsx(IS,{"data-matrix-id":"src/App.tsx:103:38","data-matrix-name":"TermsPage","data-component-path":"src/App.tsx","data-component-line":"103","data-component-file":"App.tsx","data-component-name":"TermsPage"}),"data-matrix-id":"src/App.tsx:103:8","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"103","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Fterms%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),x.jsx(Ue,{path:"/privacy",element:x.jsx(DS,{"data-matrix-id":"src/App.tsx:104:40","data-matrix-name":"PrivacyPage","data-component-path":"src/App.tsx","data-component-line":"104","data-component-file":"App.tsx","data-component-name":"PrivacyPage"}),"data-matrix-id":"src/App.tsx:104:8","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"104","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Fprivacy%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),x.jsx(Ue,{path:"/quotes/:quoteId/document",element:x.jsx(ov,{"data-matrix-id":"src/App.tsx:105:57","data-matrix-name":"ProtectedRoute","data-component-path":"src/App.tsx","data-component-line":"105","data-component-file":"App.tsx","data-component-name":"ProtectedRoute",children:x.jsx(SS,{"data-matrix-id":"src/App.tsx:105:73","data-matrix-name":"QuoteDocumentPage","data-component-path":"src/App.tsx","data-component-line":"105","data-component-file":"App.tsx","data-component-name":"QuoteDocumentPage"})}),"data-matrix-id":"src/App.tsx:105:8","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"105","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Fquotes%2F%3AquoteId%2Fdocument%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),x.jsx(Ue,{path:"/proposal/:token",element:x.jsx(Et,{children:x.jsx(AS,{"data-matrix-id":"src/App.tsx:106:63","data-matrix-name":"ProposalPortalPage","data-component-path":"src/App.tsx","data-component-line":"106","data-component-file":"App.tsx","data-component-name":"ProposalPortalPage"})}),"data-matrix-id":"src/App.tsx:106:8","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"106","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Fproposal%2F%3Atoken%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),x.jsx(Ue,{path:"/invoice-view/:invoiceId",element:x.jsx(CS,{"data-matrix-id":"src/App.tsx:107:56","data-matrix-name":"InvoiceViewPage","data-component-path":"src/App.tsx","data-component-line":"107","data-component-file":"App.tsx","data-component-name":"InvoiceViewPage"}),"data-matrix-id":"src/App.tsx:107:8","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"107","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Finvoice-view%2F%3AinvoiceId%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),x.jsx(Ue,{path:"/portal/:token",element:x.jsx(PS,{"data-matrix-id":"src/App.tsx:108:46","data-matrix-name":"ClientPortalPage","data-component-path":"src/App.tsx","data-component-line":"108","data-component-file":"App.tsx","data-component-name":"ClientPortalPage"}),"data-matrix-id":"src/App.tsx:108:8","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"108","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Fportal%2F%3Atoken%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),x.jsxs(Ue,{element:x.jsx(ov,{"data-matrix-id":"src/App.tsx:110:24","data-matrix-name":"ProtectedRoute","data-component-path":"src/App.tsx","data-component-line":"110","data-component-file":"App.tsx","data-component-name":"ProtectedRoute",children:x.jsx(fS,{"data-matrix-id":"src/App.tsx:110:40","data-matrix-name":"Layout","data-component-path":"src/App.tsx","data-component-line":"110","data-component-file":"App.tsx","data-component-name":"Layout"})}),"data-matrix-id":"src/App.tsx:110:8","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"110","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22element%22%3A%22%5BJSXElement%5D%22%7D",children:[x.jsx(Ue,{path:"/dashboard",element:x.jsx(Et,{children:x.jsx(vS,{"data-matrix-id":"src/App.tsx:111:59","data-matrix-name":"DashboardPage","data-component-path":"src/App.tsx","data-component-line":"111","data-component-file":"App.tsx","data-component-name":"DashboardPage"})}),"data-matrix-id":"src/App.tsx:111:10","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"111","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Fdashboard%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),x.jsx(Ue,{path:"/sales",element:x.jsx(Et,{children:x.jsx(yS,{"data-matrix-id":"src/App.tsx:112:55","data-matrix-name":"SalesPage","data-component-path":"src/App.tsx","data-component-line":"112","data-component-file":"App.tsx","data-component-name":"SalesPage"})}),"data-matrix-id":"src/App.tsx:112:10","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"112","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Fsales%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),x.jsx(Ue,{path:"/projects",element:x.jsx(Et,{children:x.jsx(iv,{"data-matrix-id":"src/App.tsx:113:58","data-matrix-name":"ProjectsPage","data-component-path":"src/App.tsx","data-component-line":"113","data-component-file":"App.tsx","data-component-name":"ProjectsPage"})}),"data-matrix-id":"src/App.tsx:113:10","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"113","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Fprojects%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),x.jsx(Ue,{path:"/projects/:projectId",element:x.jsx(Et,{children:x.jsx(iv,{"data-matrix-id":"src/App.tsx:114:69","data-matrix-name":"ProjectsPage","data-component-path":"src/App.tsx","data-component-line":"114","data-component-file":"App.tsx","data-component-name":"ProjectsPage"})}),"data-matrix-id":"src/App.tsx:114:10","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"114","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Fprojects%2F%3AprojectId%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),x.jsx(Ue,{path:"/time-expense",element:x.jsx(Et,{children:x.jsx(_S,{"data-matrix-id":"src/App.tsx:115:62","data-matrix-name":"TimeExpensePage","data-component-path":"src/App.tsx","data-component-line":"115","data-component-file":"App.tsx","data-component-name":"TimeExpensePage"})}),"data-matrix-id":"src/App.tsx:115:10","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"115","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Ftime-expense%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),x.jsx(Ue,{path:"/invoicing",element:x.jsx(Et,{children:x.jsx(xS,{"data-matrix-id":"src/App.tsx:116:59","data-matrix-name":"InvoicingPage","data-component-path":"src/App.tsx","data-component-line":"116","data-component-file":"App.tsx","data-component-name":"InvoicingPage"})}),"data-matrix-id":"src/App.tsx:116:10","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"116","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Finvoicing%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),x.jsx(Ue,{path:"/resourcing",element:x.jsx(Et,{children:x.jsx(wS,{"data-matrix-id":"src/App.tsx:117:60","data-matrix-name":"ResourcingPage","data-component-path":"src/App.tsx","data-component-line":"117","data-component-file":"App.tsx","data-component-name":"ResourcingPage"})}),"data-matrix-id":"src/App.tsx:117:10","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"117","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Fresourcing%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),x.jsx(Ue,{path:"/analytics",element:x.jsx(Et,{children:x.jsx(bS,{"data-matrix-id":"src/App.tsx:118:59","data-matrix-name":"AnalyticsPage","data-component-path":"src/App.tsx","data-component-line":"118","data-component-file":"App.tsx","data-component-name":"AnalyticsPage"})}),"data-matrix-id":"src/App.tsx:118:10","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"118","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Fanalytics%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),x.jsx(Ue,{path:"/reports",element:x.jsx(Et,{children:x.jsx(ES,{"data-matrix-id":"src/App.tsx:119:57","data-matrix-name":"ReportsPage","data-component-path":"src/App.tsx","data-component-line":"119","data-component-file":"App.tsx","data-component-name":"ReportsPage"})}),"data-matrix-id":"src/App.tsx:119:10","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"119","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Freports%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),x.jsx(Ue,{path:"/financials",element:x.jsx(Et,{children:x.jsx(RS,{"data-matrix-id":"src/App.tsx:120:60","data-matrix-name":"FinancialsPage","data-component-path":"src/App.tsx","data-component-line":"120","data-component-file":"App.tsx","data-component-name":"FinancialsPage"})}),"data-matrix-id":"src/App.tsx:120:10","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"120","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Ffinancials%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),x.jsx(Ue,{path:"/company-expenses",element:x.jsx(Et,{children:x.jsx(TS,{"data-matrix-id":"src/App.tsx:121:66","data-matrix-name":"CompanyExpensesPage","data-component-path":"src/App.tsx","data-component-line":"121","data-component-file":"App.tsx","data-component-name":"CompanyExpensesPage"})}),"data-matrix-id":"src/App.tsx:121:10","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"121","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Fcompany-expenses%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),x.jsx(Ue,{path:"/bank-statements",element:x.jsx(hi,{to:"/financials",replace:!0,"data-matrix-id":"src/App.tsx:122:50","data-matrix-name":"Navigate","data-component-path":"src/App.tsx","data-component-line":"122","data-component-file":"App.tsx","data-component-name":"Navigate","data-component-content":"%7B%22to%22%3A%22%2Ffinancials%22%2C%22replace%22%3Atrue%7D"}),"data-matrix-id":"src/App.tsx:122:10","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"122","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Fbank-statements%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),x.jsx(Ue,{path:"/receipts",element:x.jsx(Et,{children:x.jsx(LS,{"data-matrix-id":"src/App.tsx:123:58","data-matrix-name":"ReceiptsPage","data-component-path":"src/App.tsx","data-component-line":"123","data-component-file":"App.tsx","data-component-name":"ReceiptsPage"})}),"data-matrix-id":"src/App.tsx:123:10","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"123","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Freceipts%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),x.jsx(Ue,{path:"/notifications",element:x.jsx(Et,{children:x.jsx(OS,{"data-matrix-id":"src/App.tsx:124:63","data-matrix-name":"NotificationsPage","data-component-path":"src/App.tsx","data-component-line":"124","data-component-file":"App.tsx","data-component-name":"NotificationsPage"})}),"data-matrix-id":"src/App.tsx:124:10","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"124","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Fnotifications%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),x.jsx(Ue,{path:"/settings",element:x.jsx(Et,{children:x.jsx(kS,{"data-matrix-id":"src/App.tsx:125:58","data-matrix-name":"SettingsPage","data-component-path":"src/App.tsx","data-component-line":"125","data-component-file":"App.tsx","data-component-name":"SettingsPage"})}),"data-matrix-id":"src/App.tsx:125:10","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"125","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Fsettings%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"})]}),x.jsx(Ue,{path:"*",element:x.jsx(hi,{to:"/",replace:!0,"data-matrix-id":"src/App.tsx:127:33","data-matrix-name":"Navigate","data-component-path":"src/App.tsx","data-component-line":"127","data-component-file":"App.tsx","data-component-name":"Navigate","data-component-content":"%7B%22to%22%3A%22%2F%22%2C%22replace%22%3Atrue%7D"}),"data-matrix-id":"src/App.tsx:127:8","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"127","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22*%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"})]})})}function $S(){return x.jsx(Et,{children:x.jsx(Yb,{"data-matrix-id":"src/App.tsx:136:6","data-matrix-name":"BrowserRouter","data-component-path":"src/App.tsx","data-component-line":"136","data-component-file":"App.tsx","data-component-name":"BrowserRouter",children:x.jsx(Kk,{"data-matrix-id":"src/App.tsx:137:8","data-matrix-name":"AuthProvider","data-component-path":"src/App.tsx","data-component-line":"137","data-component-file":"App.tsx","data-component-name":"AuthProvider",children:x.jsx(Gk,{"data-matrix-id":"src/App.tsx:138:10","data-matrix-name":"PermissionsProvider","data-component-path":"src/App.tsx","data-component-line":"138","data-component-file":"App.tsx","data-component-name":"PermissionsProvider",children:x.jsx(Yk,{"data-matrix-id":"src/App.tsx:139:12","data-matrix-name":"SubscriptionProvider","data-component-path":"src/App.tsx","data-component-line":"139","data-component-file":"App.tsx","data-component-name":"SubscriptionProvider",children:x.jsxs(Xk,{"data-matrix-id":"src/App.tsx:140:14","data-matrix-name":"ToastProvider","data-component-path":"src/App.tsx","data-component-line":"140","data-component-file":"App.tsx","data-component-name":"ToastProvider",children:[x.jsx(BS,{"data-matrix-id":"src/App.tsx:141:16","data-matrix-name":"AppRoutes","data-component-path":"src/App.tsx","data-component-line":"141","data-component-file":"App.tsx","data-component-name":"AppRoutes"}),x.jsx(mS,{"data-matrix-id":"src/App.tsx:142:16","data-matrix-name":"CookieConsent","data-component-path":"src/App.tsx","data-component-line":"142","data-component-file":"App.tsx","data-component-name":"CookieConsent"})]})})})})})})}h_.createRoot(document.getElementById("root")).render(x.jsx(L.StrictMode,{"data-matrix-id":"src/main.tsx:19:2","data-matrix-name":"StrictMode","data-component-path":"src/main.tsx","data-component-line":"19","data-component-file":"main.tsx","data-component-name":"StrictMode",children:x.jsx(Et,{children:x.jsx($S,{"data-matrix-id":"src/main.tsx:21:6","data-matrix-name":"App","data-component-path":"src/main.tsx","data-component-line":"21","data-component-file":"main.tsx","data-component-name":"App"})})}));export{Tl as $,Uw as A,x2 as B,yg as C,sv as D,nA as E,b2 as F,Ww as G,JS as H,US as I,Nw as J,GS as K,Mw as L,eA as M,Tw as N,WS as O,qw as P,Fw as Q,rA as R,bg as S,aA as T,$d as U,k2 as V,Hw as W,ra as X,HS as Y,KS as Z,XS as _,zS as a,Fe as a0,il as a1,E2 as a2,D2 as a3,xg as a4,r_ as a5,lv as a6,wh as a7,bh as a8,ss as b,Ne as c,Jk as d,ry as e,VS as f,Qr as g,YS as h,sA as i,x as j,Lw as k,w2 as l,tA as m,Or as n,ZS as o,wg as p,di as q,L as r,Ow as s,QS as t,Dl as u,FS as v,qS as w,zw as x,C as y,Rw as z};
