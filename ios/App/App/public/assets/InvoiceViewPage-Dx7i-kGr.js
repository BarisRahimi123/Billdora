import{w as q,a as Y,r as s,j as e,F as _,L as U}from"./index-DpjqBx3H.js";import{C as k}from"./circle-check-big-MRVZ-RPi.js";import{C as Z}from"./circle-x-BCRXK948.js";import{C as M}from"./credit-card-RoTXUbpT.js";import{D as X}from"./download-Cp7wDf8i.js";const m="https://bqxnagmmegdbqrzhheip.supabase.co",i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJxeG5hZ21tZWdkYnFyemhoZWlwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2OTM5NTgsImV4cCI6MjA2ODI2OTk1OH0.LBb7KaCSs7LpsD9NZCOcartkcDIIALBIrpnYcv5Y0yY";function ne(){var N,b,j,y,D,A,B,C;const{invoiceId:d}=q(),[v]=Y(),[a,S]=s.useState(null),[h,F]=s.useState([]),[l,T]=s.useState(null),[t,L]=s.useState(null),[E,x]=s.useState(!0),[I,P]=s.useState(""),[u,V]=s.useState(!1),[p,r]=s.useState(null);s.useEffect(()=>{const n=v.get("payment");n==="success"?(r({type:"success",text:"Payment successful! Your invoice has been paid."}),f()):n==="cancelled"&&r({type:"error",text:"Payment was cancelled."})},[v]),s.useEffect(()=>{f()},[d]);async function f(){try{const o=await(await fetch(`${m}/rest/v1/invoices?id=eq.${d}&select=*,client:clients(name,email,address,city,state,zip,phone,website),project:projects(name)`,{headers:{apikey:i,Authorization:`Bearer ${i}`}})).json();if(o.length===0){P("Invoice not found"),x(!1);return}S(o[0]);try{await fetch(`${m}/rest/v1/rpc/track_invoice_view`,{method:"POST",headers:{apikey:i,Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify({p_invoice_id:d})})}catch(J){console.warn("Failed to track view:",J)}const g=await(await fetch(`${m}/rest/v1/company_settings?company_id=eq.${o[0].company_id}&select=company_name,logo_url,address,city,state,zip,phone,email`,{headers:{apikey:i,Authorization:`Bearer ${i}`}})).json();g&&g.length>0&&L(g[0]);const w=await(await fetch(`${m}/rest/v1/company_settings?company_id=eq.${o[0].company_id}&select=stripe_account_id`,{headers:{apikey:i,Authorization:`Bearer ${i}`}})).json();w&&w.length>0&&T(w[0]);const R=await(await fetch(`${m}/rest/v1/invoice_line_items?invoice_id=eq.${d}&select=*`,{headers:{apikey:i,Authorization:`Bearer ${i}`}})).json();F(R||[]),x(!1)}catch(n){console.error("Failed to load invoice:",n),P("Failed to load invoice"),x(!1)}}async function O(){if(a){V(!0),r(null);try{const o=await(await fetch(`${m}/functions/v1/stripe-create-checkout`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({invoice_id:a.id})})).json();if(o.error)throw new Error(o.error.message);window.location.href=o.data.checkout_url}catch(n){console.error("Payment error:",n),r({type:"error",text:n.message||"Failed to initiate payment"}),V(!1)}}}const $=a&&a.status!=="paid"&&(l==null?void 0:l.stripe_account_id)&&a.total>0,c=n=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(n||0),z=()=>{window.print()};return E?e.jsx("div",{className:"min-h-screen bg-neutral-100 flex items-center justify-center","data-matrix-id":"src/pages/InvoiceViewPage.tsx:193:6","data-matrix-name":"div","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"193","data-component-file":"InvoiceViewPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-h-screen%20bg-neutral-100%20flex%20items-center%20justify-center%22%7D",children:e.jsxs("div",{className:"text-center","data-matrix-id":"src/pages/InvoiceViewPage.tsx:194:8","data-matrix-name":"div","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"194","data-component-file":"InvoiceViewPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%22%7D",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-[#476E66] border-t-transparent rounded-full animate-spin mx-auto mb-4","data-matrix-id":"src/pages/InvoiceViewPage.tsx:195:10","data-matrix-name":"div","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"195","data-component-file":"InvoiceViewPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-12%20h-12%20border-4%20border-%5B%23476E66%5D%20border-t-transparent%20rounded-full%20animate-spin%20mx-auto%20mb-4%22%7D"}),e.jsx("p",{className:"text-neutral-600","data-matrix-id":"src/pages/InvoiceViewPage.tsx:196:10","data-matrix-name":"p","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"196","data-component-file":"InvoiceViewPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-neutral-600%22%7D",children:"Loading invoice..."})]})}):I?e.jsx("div",{className:"min-h-screen bg-neutral-100 flex items-center justify-center","data-matrix-id":"src/pages/InvoiceViewPage.tsx:204:6","data-matrix-name":"div","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"204","data-component-file":"InvoiceViewPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-h-screen%20bg-neutral-100%20flex%20items-center%20justify-center%22%7D",children:e.jsxs("div",{className:"text-center","data-matrix-id":"src/pages/InvoiceViewPage.tsx:205:8","data-matrix-name":"div","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"205","data-component-file":"InvoiceViewPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%22%7D",children:[e.jsx(_,{className:"w-16 h-16 text-neutral-400 mx-auto mb-4","data-matrix-id":"src/pages/InvoiceViewPage.tsx:206:10","data-matrix-name":"FileText","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"206","data-component-file":"InvoiceViewPage.tsx","data-component-name":"FileText","data-component-content":"%7B%22className%22%3A%22w-16%20h-16%20text-neutral-400%20mx-auto%20mb-4%22%7D"}),e.jsx("h1",{className:"text-2xl font-bold text-neutral-900 mb-2","data-matrix-id":"src/pages/InvoiceViewPage.tsx:207:10","data-matrix-name":"h1","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"207","data-component-file":"InvoiceViewPage.tsx","data-component-name":"h1","data-component-content":"%7B%22className%22%3A%22text-2xl%20font-bold%20text-neutral-900%20mb-2%22%7D",children:"Invoice Not Found"}),e.jsx("p",{className:"text-neutral-600","data-matrix-id":"src/pages/InvoiceViewPage.tsx:208:10","data-matrix-name":"p","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"208","data-component-file":"InvoiceViewPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-neutral-600%22%7D",children:I})]})}):e.jsxs(e.Fragment,{children:[e.jsx("style",{"data-matrix-id":"src/pages/InvoiceViewPage.tsx:216:6","data-matrix-name":"style","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"216","data-component-file":"InvoiceViewPage.tsx","data-component-name":"style",children:`
        @media print {
          .no-print { display: none !important; }
          body { background: white !important; }
          .print-content { box-shadow: none !important; }
        }
      `}),e.jsx("div",{className:"min-h-screen bg-neutral-100 py-8 px-4","data-matrix-id":"src/pages/InvoiceViewPage.tsx:224:6","data-matrix-name":"div","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"224","data-component-file":"InvoiceViewPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-h-screen%20bg-neutral-100%20py-8%20px-4%22%7D",children:e.jsxs("div",{className:"max-w-4xl mx-auto","data-matrix-id":"src/pages/InvoiceViewPage.tsx:225:8","data-matrix-name":"div","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"225","data-component-file":"InvoiceViewPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22max-w-4xl%20mx-auto%22%7D",children:[p&&e.jsxs("div",{className:`no-print mb-4 p-4 rounded-xl flex items-center gap-3 ${p.type==="success"?"bg-emerald-50 border border-emerald-200 text-emerald-800":"bg-red-50 border border-red-200 text-red-800"}`,"data-matrix-id":"src/pages/InvoiceViewPage.tsx:228:12","data-matrix-name":"div","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"228","data-component-file":"InvoiceViewPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:[p.type==="success"?e.jsx(k,{className:"w-5 h-5 flex-shrink-0","data-matrix-id":"src/pages/InvoiceViewPage.tsx:234:16","data-matrix-name":"CheckCircle","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"234","data-component-file":"InvoiceViewPage.tsx","data-component-name":"CheckCircle","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20flex-shrink-0%22%7D"}):e.jsx(Z,{className:"w-5 h-5 flex-shrink-0","data-matrix-id":"src/pages/InvoiceViewPage.tsx:236:16","data-matrix-name":"XCircle","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"236","data-component-file":"InvoiceViewPage.tsx","data-component-name":"XCircle","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20flex-shrink-0%22%7D"}),e.jsx("span",{"data-matrix-id":"src/pages/InvoiceViewPage.tsx:238:14","data-matrix-name":"span","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"238","data-component-file":"InvoiceViewPage.tsx","data-component-name":"span",children:p.text})]}),e.jsx("div",{className:"no-print bg-white rounded-xl shadow-sm p-4 mb-6","data-matrix-id":"src/pages/InvoiceViewPage.tsx:243:10","data-matrix-name":"div","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"243","data-component-file":"InvoiceViewPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22no-print%20bg-white%20rounded-xl%20shadow-sm%20p-4%20mb-6%22%7D",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4","data-matrix-id":"src/pages/InvoiceViewPage.tsx:244:12","data-matrix-name":"div","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"244","data-component-file":"InvoiceViewPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20flex-col%20sm%3Aflex-row%20sm%3Aitems-center%20sm%3Ajustify-between%20gap-4%22%7D",children:[e.jsxs("div",{className:"flex items-center gap-3","data-matrix-id":"src/pages/InvoiceViewPage.tsx:245:14","data-matrix-name":"div","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"245","data-component-file":"InvoiceViewPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-3%22%7D",children:[e.jsx(_,{className:"w-6 h-6 text-[#476E66]","data-matrix-id":"src/pages/InvoiceViewPage.tsx:246:16","data-matrix-name":"FileText","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"246","data-component-file":"InvoiceViewPage.tsx","data-component-name":"FileText","data-component-content":"%7B%22className%22%3A%22w-6%20h-6%20text-%5B%23476E66%5D%22%7D"}),e.jsxs("span",{className:"font-semibold text-neutral-900","data-matrix-id":"src/pages/InvoiceViewPage.tsx:247:16","data-matrix-name":"span","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"247","data-component-file":"InvoiceViewPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-neutral-900%22%7D",children:["Invoice ",a==null?void 0:a.invoice_number]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto","data-matrix-id":"src/pages/InvoiceViewPage.tsx:249:14","data-matrix-name":"div","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"249","data-component-file":"InvoiceViewPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20flex-col%20sm%3Aflex-row%20gap-3%20w-full%20sm%3Aw-auto%22%7D",children:[(a==null?void 0:a.status)==="paid"?e.jsxs("div",{className:"flex items-center justify-center gap-2 px-5 py-3 bg-emerald-100 text-emerald-700 font-semibold rounded-lg min-h-[44px] w-full sm:w-auto","data-matrix-id":"src/pages/InvoiceViewPage.tsx:251:18","data-matrix-name":"div","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"251","data-component-file":"InvoiceViewPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-center%20gap-2%20px-5%20py-3%20bg-emerald-100%20text-emerald-700%20font-semibold%20rounded-lg%20min-h-%5B44px%5D%20w-full%20sm%3Aw-auto%22%7D",children:[e.jsx(k,{className:"w-5 h-5","data-matrix-id":"src/pages/InvoiceViewPage.tsx:252:20","data-matrix-name":"CheckCircle","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"252","data-component-file":"InvoiceViewPage.tsx","data-component-name":"CheckCircle","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%22%7D"}),"Paid - ",c((a==null?void 0:a.total)||0)]}):$?e.jsx("button",{onClick:O,disabled:u,className:"flex items-center justify-center gap-2 px-6 py-3 bg-[#635BFF] text-white font-semibold rounded-lg text-lg shadow-lg hover:bg-[#5851DB] transition-colors disabled:opacity-50 min-h-[44px] w-full sm:w-auto","data-matrix-id":"src/pages/InvoiceViewPage.tsx:256:18","data-matrix-name":"button","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"256","data-component-file":"InvoiceViewPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22disabled%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22flex%20items-center%20justify-center%20gap-2%20px-6%20py-3%20bg-%5B%23635BFF%5D%20text-white%20font-semibold%20rounded-lg%20text-lg%20shadow-lg%20hover%3Abg-%5B%235851DB%5D%20transition-colors%20disabled%3Aopacity-50%20min-h-%5B44px%5D%20w-full%20sm%3Aw-auto%22%7D",children:u?e.jsxs(e.Fragment,{children:[e.jsx(U,{className:"w-5 h-5 animate-spin","data-matrix-id":"src/pages/InvoiceViewPage.tsx:263:24","data-matrix-name":"Loader2","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"263","data-component-file":"InvoiceViewPage.tsx","data-component-name":"Loader2","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20animate-spin%22%7D"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"w-5 h-5","data-matrix-id":"src/pages/InvoiceViewPage.tsx:268:24","data-matrix-name":"CreditCard","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"268","data-component-file":"InvoiceViewPage.tsx","data-component-name":"CreditCard","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%22%7D"}),"Pay Online - ",c((a==null?void 0:a.total)||0)]})}):null,e.jsxs("button",{onClick:z,className:"flex items-center justify-center gap-2 px-4 py-3 border border-neutral-300 text-neutral-700 rounded-lg hover:bg-neutral-50 transition-colors min-h-[44px] w-full sm:w-auto","data-matrix-id":"src/pages/InvoiceViewPage.tsx:274:16","data-matrix-name":"button","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"274","data-component-file":"InvoiceViewPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22flex%20items-center%20justify-center%20gap-2%20px-4%20py-3%20border%20border-neutral-300%20text-neutral-700%20rounded-lg%20hover%3Abg-neutral-50%20transition-colors%20min-h-%5B44px%5D%20w-full%20sm%3Aw-auto%22%7D",children:[e.jsx(X,{className:"w-4 h-4","data-matrix-id":"src/pages/InvoiceViewPage.tsx:278:18","data-matrix-name":"Download","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"278","data-component-file":"InvoiceViewPage.tsx","data-component-name":"Download","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"}),"Print / Download PDF"]})]})]})}),e.jsxs("div",{className:"print-content bg-white rounded-xl shadow-sm p-8","data-matrix-id":"src/pages/InvoiceViewPage.tsx:286:10","data-matrix-name":"div","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"286","data-component-file":"InvoiceViewPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22print-content%20bg-white%20rounded-xl%20shadow-sm%20p-8%22%7D",children:[e.jsxs("div",{className:"flex justify-between items-start mb-8","data-matrix-id":"src/pages/InvoiceViewPage.tsx:288:12","data-matrix-name":"div","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"288","data-component-file":"InvoiceViewPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20items-start%20mb-8%22%7D",children:[e.jsxs("div",{"data-matrix-id":"src/pages/InvoiceViewPage.tsx:289:14","data-matrix-name":"div","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"289","data-component-file":"InvoiceViewPage.tsx","data-component-name":"div",children:[(t==null?void 0:t.logo_url)&&e.jsx("img",{src:t.logo_url,alt:"",className:"h-12 w-auto object-contain mb-3","data-matrix-id":"src/pages/InvoiceViewPage.tsx:291:18","data-matrix-name":"img","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"291","data-component-file":"InvoiceViewPage.tsx","data-component-name":"img","data-component-content":"%7B%22src%22%3A%22%5BMemberExpression%5D%22%2C%22alt%22%3A%22%22%2C%22className%22%3A%22h-12%20w-auto%20object-contain%20mb-3%22%7D"}),e.jsx("h2",{className:"text-xl font-bold text-neutral-900","data-matrix-id":"src/pages/InvoiceViewPage.tsx:293:16","data-matrix-name":"h2","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"293","data-component-file":"InvoiceViewPage.tsx","data-component-name":"h2","data-component-content":"%7B%22className%22%3A%22text-xl%20font-bold%20text-neutral-900%22%7D",children:(t==null?void 0:t.company_name)||"Company"}),(t==null?void 0:t.address)&&e.jsx("p",{className:"text-sm text-neutral-600","data-matrix-id":"src/pages/InvoiceViewPage.tsx:294:37","data-matrix-name":"p","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"294","data-component-file":"InvoiceViewPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-neutral-600%22%7D",children:t.address}),((t==null?void 0:t.city)||(t==null?void 0:t.state)||(t==null?void 0:t.zip))&&e.jsx("p",{className:"text-sm text-neutral-600","data-matrix-id":"src/pages/InvoiceViewPage.tsx:296:18","data-matrix-name":"p","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"296","data-component-file":"InvoiceViewPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-neutral-600%22%7D",children:[t.city,t.state,t.zip].filter(Boolean).join(", ")}),(t==null?void 0:t.phone)&&e.jsx("p",{className:"text-sm text-neutral-600","data-matrix-id":"src/pages/InvoiceViewPage.tsx:300:35","data-matrix-name":"p","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"300","data-component-file":"InvoiceViewPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-neutral-600%22%7D",children:t.phone})]}),e.jsxs("div",{className:"text-right","data-matrix-id":"src/pages/InvoiceViewPage.tsx:302:14","data-matrix-name":"div","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"302","data-component-file":"InvoiceViewPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-right%22%7D",children:[e.jsx("h1",{className:"text-3xl font-bold text-neutral-900 mb-1","data-matrix-id":"src/pages/InvoiceViewPage.tsx:303:16","data-matrix-name":"h1","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"303","data-component-file":"InvoiceViewPage.tsx","data-component-name":"h1","data-component-content":"%7B%22className%22%3A%22text-3xl%20font-bold%20text-neutral-900%20mb-1%22%7D",children:"INVOICE"}),e.jsxs("p",{className:"text-neutral-500","data-matrix-id":"src/pages/InvoiceViewPage.tsx:304:16","data-matrix-name":"p","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"304","data-component-file":"InvoiceViewPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-neutral-500%22%7D",children:["#",a==null?void 0:a.invoice_number]})]})]}),e.jsx("div",{className:"flex justify-end mb-8","data-matrix-id":"src/pages/InvoiceViewPage.tsx:309:12","data-matrix-name":"div","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"309","data-component-file":"InvoiceViewPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-end%20mb-8%22%7D",children:e.jsxs("div",{className:"text-right","data-matrix-id":"src/pages/InvoiceViewPage.tsx:310:14","data-matrix-name":"div","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"310","data-component-file":"InvoiceViewPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-right%22%7D",children:[e.jsx("p",{className:"text-sm text-neutral-500","data-matrix-id":"src/pages/InvoiceViewPage.tsx:311:16","data-matrix-name":"p","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"311","data-component-file":"InvoiceViewPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-neutral-500%22%7D",children:"Invoice Date"}),e.jsx("p",{className:"font-medium","data-matrix-id":"src/pages/InvoiceViewPage.tsx:312:16","data-matrix-name":"p","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"312","data-component-file":"InvoiceViewPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22font-medium%22%7D",children:new Date((a==null?void 0:a.created_at)||"").toLocaleDateString()}),(a==null?void 0:a.due_date)&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm text-neutral-500 mt-2","data-matrix-id":"src/pages/InvoiceViewPage.tsx:315:20","data-matrix-name":"p","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"315","data-component-file":"InvoiceViewPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-neutral-500%20mt-2%22%7D",children:"Due Date"}),e.jsx("p",{className:"font-medium","data-matrix-id":"src/pages/InvoiceViewPage.tsx:316:20","data-matrix-name":"p","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"316","data-component-file":"InvoiceViewPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22font-medium%22%7D",children:new Date(a.due_date).toLocaleDateString()})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-8","data-matrix-id":"src/pages/InvoiceViewPage.tsx:322:12","data-matrix-name":"div","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"322","data-component-file":"InvoiceViewPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-2%20gap-8%20mb-8%22%7D",children:[e.jsxs("div",{"data-matrix-id":"src/pages/InvoiceViewPage.tsx:323:14","data-matrix-name":"div","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"323","data-component-file":"InvoiceViewPage.tsx","data-component-name":"div",children:[e.jsx("p",{className:"text-sm font-medium text-neutral-500 mb-2","data-matrix-id":"src/pages/InvoiceViewPage.tsx:324:16","data-matrix-name":"p","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"324","data-component-file":"InvoiceViewPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20font-medium%20text-neutral-500%20mb-2%22%7D",children:"BILL TO"}),e.jsx("p",{className:"font-semibold text-lg text-neutral-900","data-matrix-id":"src/pages/InvoiceViewPage.tsx:325:16","data-matrix-name":"p","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"325","data-component-file":"InvoiceViewPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-lg%20text-neutral-900%22%7D",children:(N=a==null?void 0:a.client)==null?void 0:N.name}),((b=a==null?void 0:a.client)==null?void 0:b.address)&&e.jsx("p",{className:"text-neutral-600","data-matrix-id":"src/pages/InvoiceViewPage.tsx:326:45","data-matrix-name":"p","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"326","data-component-file":"InvoiceViewPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-neutral-600%22%7D",children:a.client.address}),(((j=a==null?void 0:a.client)==null?void 0:j.city)||((y=a==null?void 0:a.client)==null?void 0:y.state)||((D=a==null?void 0:a.client)==null?void 0:D.zip))&&e.jsx("p",{className:"text-neutral-600","data-matrix-id":"src/pages/InvoiceViewPage.tsx:328:18","data-matrix-name":"p","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"328","data-component-file":"InvoiceViewPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-neutral-600%22%7D",children:[a.client.city,a.client.state,a.client.zip].filter(Boolean).join(", ")}),((A=a==null?void 0:a.client)==null?void 0:A.phone)&&e.jsx("p",{className:"text-neutral-600","data-matrix-id":"src/pages/InvoiceViewPage.tsx:333:43","data-matrix-name":"p","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"333","data-component-file":"InvoiceViewPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-neutral-600%22%7D",children:a.client.phone}),((B=a==null?void 0:a.client)==null?void 0:B.website)&&e.jsx("p",{className:"text-neutral-600","data-matrix-id":"src/pages/InvoiceViewPage.tsx:334:45","data-matrix-name":"p","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"334","data-component-file":"InvoiceViewPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-neutral-600%22%7D",children:a.client.website})]}),(a==null?void 0:a.project)&&e.jsxs("div",{"data-matrix-id":"src/pages/InvoiceViewPage.tsx:337:16","data-matrix-name":"div","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"337","data-component-file":"InvoiceViewPage.tsx","data-component-name":"div",children:[e.jsx("p",{className:"text-sm font-medium text-neutral-500 mb-2","data-matrix-id":"src/pages/InvoiceViewPage.tsx:338:18","data-matrix-name":"p","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"338","data-component-file":"InvoiceViewPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20font-medium%20text-neutral-500%20mb-2%22%7D",children:"PROJECT"}),e.jsx("p",{className:"font-semibold text-neutral-900","data-matrix-id":"src/pages/InvoiceViewPage.tsx:339:18","data-matrix-name":"p","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"339","data-component-file":"InvoiceViewPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-neutral-900%22%7D",children:a.project.name})]})]}),e.jsxs("table",{className:"w-full mb-8","data-matrix-id":"src/pages/InvoiceViewPage.tsx:345:12","data-matrix-name":"table","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"345","data-component-file":"InvoiceViewPage.tsx","data-component-name":"table","data-component-content":"%7B%22className%22%3A%22w-full%20mb-8%22%7D",children:[e.jsx("thead",{"data-matrix-id":"src/pages/InvoiceViewPage.tsx:346:14","data-matrix-name":"thead","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"346","data-component-file":"InvoiceViewPage.tsx","data-component-name":"thead",children:e.jsxs("tr",{className:"border-b-2 border-neutral-200","data-matrix-id":"src/pages/InvoiceViewPage.tsx:347:16","data-matrix-name":"tr","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"347","data-component-file":"InvoiceViewPage.tsx","data-component-name":"tr","data-component-content":"%7B%22className%22%3A%22border-b-2%20border-neutral-200%22%7D",children:[e.jsx("th",{className:"text-left py-3 text-sm font-semibold text-neutral-600","data-matrix-id":"src/pages/InvoiceViewPage.tsx:348:18","data-matrix-name":"th","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"348","data-component-file":"InvoiceViewPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-left%20py-3%20text-sm%20font-semibold%20text-neutral-600%22%7D",children:"Description"}),e.jsx("th",{className:"text-right py-3 text-sm font-semibold text-neutral-600 w-24","data-matrix-id":"src/pages/InvoiceViewPage.tsx:349:18","data-matrix-name":"th","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"349","data-component-file":"InvoiceViewPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-right%20py-3%20text-sm%20font-semibold%20text-neutral-600%20w-24%22%7D",children:"Qty"}),e.jsx("th",{className:"text-right py-3 text-sm font-semibold text-neutral-600 w-32","data-matrix-id":"src/pages/InvoiceViewPage.tsx:350:18","data-matrix-name":"th","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"350","data-component-file":"InvoiceViewPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-right%20py-3%20text-sm%20font-semibold%20text-neutral-600%20w-32%22%7D",children:"Rate"}),e.jsx("th",{className:"text-right py-3 text-sm font-semibold text-neutral-600 w-32","data-matrix-id":"src/pages/InvoiceViewPage.tsx:351:18","data-matrix-name":"th","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"351","data-component-file":"InvoiceViewPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-right%20py-3%20text-sm%20font-semibold%20text-neutral-600%20w-32%22%7D",children:"Amount"})]})}),e.jsx("tbody",{"data-matrix-id":"src/pages/InvoiceViewPage.tsx:354:14","data-matrix-name":"tbody","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"354","data-component-file":"InvoiceViewPage.tsx","data-component-name":"tbody",children:h.length>0?h.map((n,o)=>e.jsxs("tr",{className:"border-b border-neutral-100","data-matrix-id":"src/pages/InvoiceViewPage.tsx:357:20","data-matrix-name":"tr","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"357","data-component-file":"InvoiceViewPage.tsx","data-component-name":"tr","data-component-content":"%7B%22className%22%3A%22border-b%20border-neutral-100%22%7D",children:[e.jsx("td",{className:"py-4 text-neutral-900","data-matrix-id":"src/pages/InvoiceViewPage.tsx:358:22","data-matrix-name":"td","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"358","data-component-file":"InvoiceViewPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22py-4%20text-neutral-900%22%7D",children:n.description}),e.jsx("td",{className:"py-4 text-right text-neutral-600","data-matrix-id":"src/pages/InvoiceViewPage.tsx:359:22","data-matrix-name":"td","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"359","data-component-file":"InvoiceViewPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22py-4%20text-right%20text-neutral-600%22%7D",children:n.quantity}),e.jsx("td",{className:"py-4 text-right text-neutral-600","data-matrix-id":"src/pages/InvoiceViewPage.tsx:360:22","data-matrix-name":"td","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"360","data-component-file":"InvoiceViewPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22py-4%20text-right%20text-neutral-600%22%7D",children:c(n.unit_price)}),e.jsx("td",{className:"py-4 text-right font-medium text-neutral-900","data-matrix-id":"src/pages/InvoiceViewPage.tsx:361:22","data-matrix-name":"td","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"361","data-component-file":"InvoiceViewPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22py-4%20text-right%20font-medium%20text-neutral-900%22%7D",children:c(n.amount||n.quantity*n.unit_price)})]},o)):e.jsx("tr",{"data-matrix-id":"src/pages/InvoiceViewPage.tsx:365:18","data-matrix-name":"tr","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"365","data-component-file":"InvoiceViewPage.tsx","data-component-name":"tr",children:e.jsx("td",{colSpan:4,className:"py-8 text-center text-neutral-500","data-matrix-id":"src/pages/InvoiceViewPage.tsx:366:20","data-matrix-name":"td","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"366","data-component-file":"InvoiceViewPage.tsx","data-component-name":"td","data-component-content":"%7B%22colSpan%22%3A4%2C%22className%22%3A%22py-8%20text-center%20text-neutral-500%22%7D",children:"No line items"})})})]}),e.jsx("div",{className:"flex justify-end","data-matrix-id":"src/pages/InvoiceViewPage.tsx:373:12","data-matrix-name":"div","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"373","data-component-file":"InvoiceViewPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-end%22%7D",children:e.jsxs("div",{className:"w-72","data-matrix-id":"src/pages/InvoiceViewPage.tsx:374:14","data-matrix-name":"div","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"374","data-component-file":"InvoiceViewPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-72%22%7D",children:[e.jsxs("div",{className:"flex justify-between py-2","data-matrix-id":"src/pages/InvoiceViewPage.tsx:375:16","data-matrix-name":"div","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"375","data-component-file":"InvoiceViewPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20py-2%22%7D",children:[e.jsx("span",{className:"text-neutral-600","data-matrix-id":"src/pages/InvoiceViewPage.tsx:376:18","data-matrix-name":"span","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"376","data-component-file":"InvoiceViewPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-neutral-600%22%7D",children:"Subtotal"}),e.jsx("span",{className:"font-medium","data-matrix-id":"src/pages/InvoiceViewPage.tsx:377:18","data-matrix-name":"span","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"377","data-component-file":"InvoiceViewPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-medium%22%7D",children:c((a==null?void 0:a.subtotal)||0)})]}),((a==null?void 0:a.tax_amount)||0)>0&&e.jsxs("div",{className:"flex justify-between py-2","data-matrix-id":"src/pages/InvoiceViewPage.tsx:380:18","data-matrix-name":"div","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"380","data-component-file":"InvoiceViewPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20py-2%22%7D",children:[e.jsx("span",{className:"text-neutral-600","data-matrix-id":"src/pages/InvoiceViewPage.tsx:381:20","data-matrix-name":"span","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"381","data-component-file":"InvoiceViewPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-neutral-600%22%7D",children:"Tax"}),e.jsx("span",{className:"font-medium","data-matrix-id":"src/pages/InvoiceViewPage.tsx:382:20","data-matrix-name":"span","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"382","data-component-file":"InvoiceViewPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-medium%22%7D",children:c((a==null?void 0:a.tax_amount)||0)})]}),e.jsxs("div",{className:"flex justify-between py-3 border-t-2 border-neutral-900","data-matrix-id":"src/pages/InvoiceViewPage.tsx:385:16","data-matrix-name":"div","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"385","data-component-file":"InvoiceViewPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20py-3%20border-t-2%20border-neutral-900%22%7D",children:[e.jsx("span",{className:"text-lg font-bold","data-matrix-id":"src/pages/InvoiceViewPage.tsx:386:18","data-matrix-name":"span","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"386","data-component-file":"InvoiceViewPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-lg%20font-bold%22%7D",children:"Total Due"}),e.jsx("span",{className:"text-lg font-bold","data-matrix-id":"src/pages/InvoiceViewPage.tsx:387:18","data-matrix-name":"span","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"387","data-component-file":"InvoiceViewPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-lg%20font-bold%22%7D",children:c((a==null?void 0:a.total)||0)})]})]})}),e.jsx("div",{className:"mt-8 pt-8 border-t border-neutral-200 text-center","data-matrix-id":"src/pages/InvoiceViewPage.tsx:393:12","data-matrix-name":"div","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"393","data-component-file":"InvoiceViewPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mt-8%20pt-8%20border-t%20border-neutral-200%20text-center%22%7D",children:e.jsx("span",{className:`inline-block px-4 py-2 rounded-full text-sm font-semibold ${(a==null?void 0:a.status)==="paid"?"bg-green-100 text-green-700":(a==null?void 0:a.status)==="sent"?"bg-blue-100 text-blue-700":(a==null?void 0:a.status)==="overdue"?"bg-red-100 text-red-700":"bg-neutral-100 text-neutral-700"}`,"data-matrix-id":"src/pages/InvoiceViewPage.tsx:394:14","data-matrix-name":"span","data-component-path":"src/pages/InvoiceViewPage.tsx","data-component-line":"394","data-component-file":"InvoiceViewPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:((C=a==null?void 0:a.status)==null?void 0:C.toUpperCase())||"DRAFT"})})]})]})})]})}export{ne as default};
