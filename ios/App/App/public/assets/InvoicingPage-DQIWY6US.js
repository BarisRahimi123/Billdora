import{c as ct,r as o,j as a,X as Ca,z as dt,L as ft,q as mt,b as pt,f as rt,n as It,g as ma,H as lt,y as Ia,l as bt,F as Nt,J as Ja,p as yt,C as At,s as it,K as Dt,x as Bt,N as Sa}from"./index-DpjqBx3H.js";import{N as Ea}from"./notificationService-B1SYEby2.js";import{C as Ta}from"./credit-card-RoTXUbpT.js";import{D as La}from"./dollar-sign-BJ4HlS3G.js";import{I as wt}from"./Skeleton-Bj9odQ91.js";import{D as xt}from"./download-Cp7wDf8i.js";import{P as gt}from"./plus-Cc9viI_9.js";import{S as wa}from"./send-BkWY-g_K.js";import{L as jt,a as Mt,C as kt}from"./list-1RPQtlIk.js";import{T as $a}from"./trash-2-BTDZQ0sr.js";import{M as Ha}from"./mail-BRnkEF10.js";import{E as Ct}from"./ellipsis-J9qEltJF.js";import{E as St}from"./eye-B-Aa93c8.js";import{P as ut}from"./printer-DVVKL3Sk.js";import{C as Et}from"./chevron-left-W7adyrwc.js";import{C as _t}from"./circle-check-big-MRVZ-RPi.js";/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=ct("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=ct("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);var Tt="clover",vt="https://js.stripe.com",Lt="".concat(vt,"/").concat(Tt,"/stripe.js"),$t=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Rt=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var Ot=function(I){return $t.test(I)||Rt.test(I)},zt=function(){for(var I=document.querySelectorAll('script[src^="'.concat(vt,'"]')),y=0;y<I.length;y++){var P=I[y];if(Ot(P.src))return P}return null},st=function(I){var y="",P=document.createElement("script");P.src="".concat(Lt).concat(y);var d=document.head||document.body;if(!d)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return d.appendChild(P),P},Ma=null,_a=null,Fa=null,qt=function(I){return function(y){I(new Error("Failed to load Stripe.js",{cause:y}))}},Ut=function(I,y){return function(){window.Stripe?I(window.Stripe):y(new Error("Stripe.js not available"))}},Vt=function(I){return Ma!==null?Ma:(Ma=new Promise(function(y,P){if(typeof window>"u"||typeof document>"u"){y(null);return}if(window.Stripe){y(window.Stripe);return}try{var d=zt();if(!(d&&I)){if(!d)d=st(I);else if(d&&Fa!==null&&_a!==null){var f;d.removeEventListener("load",Fa),d.removeEventListener("error",_a),(f=d.parentNode)===null||f===void 0||f.removeChild(d),d=st(I)}}Fa=Ut(y,P),_a=qt(P),d.addEventListener("load",Fa),d.addEventListener("error",_a)}catch(C){P(C);return}}),Ma.catch(function(y){return Ma=null,Promise.reject(y)}))},ka,Jt=function(){return ka||(ka=Vt(null).catch(function(I){return ka=null,Promise.reject(I)}),ka)};Promise.resolve().then(function(){return Jt()}).catch(function(n){console.warn(n)});function Ht({invoice:n,onClose:I,onSave:y}){const P=n.total-(n.amount_paid||0),[d,f]=o.useState("manual"),[C,S]=o.useState(P.toString()),[v,T]=o.useState(new Date().toISOString().split("T")[0]),[U,V]=o.useState("bank_transfer"),[da,pa]=o.useState(!1),[G,x]=o.useState(null),[j,sa]=o.useState(null),[D,h]=o.useState(!1),[X,ua]=o.useState(null),[W,va]=o.useState(""),[K,ta]=o.useState(""),[O,Y]=o.useState(""),[ea,J]=o.useState(!1);o.useEffect(()=>{},[d,!1,void 0]);const aa=async c=>{c.preventDefault(),pa(!0),x(null);try{await y({amount:parseFloat(C),date:v,method:U}),I()}catch(b){x(b.message||"Failed to save payment")}finally{pa(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50","data-matrix-id":"src/components/PaymentModal.tsx:121:4","data-matrix-name":"div","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"121","data-component-file":"PaymentModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22fixed%20inset-0%20bg-black%2F50%20flex%20items-center%20justify-center%20z-50%22%7D",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg overflow-hidden","data-matrix-id":"src/components/PaymentModal.tsx:122:6","data-matrix-name":"div","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"122","data-component-file":"PaymentModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-white%20rounded-xl%20shadow-2xl%20w-full%20max-w-lg%20overflow-hidden%22%7D",children:[a.jsxs("div",{className:"flex items-center justify-between p-5 border-b bg-neutral-50","data-matrix-id":"src/components/PaymentModal.tsx:124:8","data-matrix-name":"div","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"124","data-component-file":"PaymentModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20p-5%20border-b%20bg-neutral-50%22%7D",children:[a.jsx("h2",{className:"text-lg font-semibold text-neutral-900","data-matrix-id":"src/components/PaymentModal.tsx:125:10","data-matrix-name":"h2","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"125","data-component-file":"PaymentModal.tsx","data-component-name":"h2","data-component-content":"%7B%22className%22%3A%22text-lg%20font-semibold%20text-neutral-900%22%7D",children:"Record Payment"}),a.jsx("button",{onClick:I,className:"text-neutral-400 hover:text-neutral-600 transition-colors","data-matrix-id":"src/components/PaymentModal.tsx:126:10","data-matrix-name":"button","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"126","data-component-file":"PaymentModal.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22text-neutral-400%20hover%3Atext-neutral-600%20transition-colors%22%7D",children:a.jsx(Ca,{className:"w-5 h-5","data-matrix-id":"src/components/PaymentModal.tsx:127:12","data-matrix-name":"X","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"127","data-component-file":"PaymentModal.tsx","data-component-name":"X","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%22%7D"})})]}),a.jsx("div",{className:"p-5 bg-gradient-to-r from-neutral-900 to-neutral-800 text-white","data-matrix-id":"src/components/PaymentModal.tsx:132:8","data-matrix-name":"div","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"132","data-component-file":"PaymentModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-5%20bg-gradient-to-r%20from-neutral-900%20to-neutral-800%20text-white%22%7D",children:a.jsxs("div",{className:"flex justify-between items-start","data-matrix-id":"src/components/PaymentModal.tsx:133:10","data-matrix-name":"div","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"133","data-component-file":"PaymentModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20items-start%22%7D",children:[a.jsxs("div",{"data-matrix-id":"src/components/PaymentModal.tsx:134:12","data-matrix-name":"div","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"134","data-component-file":"PaymentModal.tsx","data-component-name":"div",children:[a.jsx("p",{className:"text-neutral-400 text-sm","data-matrix-id":"src/components/PaymentModal.tsx:135:14","data-matrix-name":"p","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"135","data-component-file":"PaymentModal.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-neutral-400%20text-sm%22%7D",children:"Invoice"}),a.jsx("p",{className:"font-semibold text-lg","data-matrix-id":"src/components/PaymentModal.tsx:136:14","data-matrix-name":"p","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"136","data-component-file":"PaymentModal.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-lg%22%7D",children:n.invoice_number})]}),a.jsxs("div",{className:"text-right","data-matrix-id":"src/components/PaymentModal.tsx:138:12","data-matrix-name":"div","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"138","data-component-file":"PaymentModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-right%22%7D",children:[a.jsx("p",{className:"text-neutral-400 text-sm","data-matrix-id":"src/components/PaymentModal.tsx:139:14","data-matrix-name":"p","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"139","data-component-file":"PaymentModal.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-neutral-400%20text-sm%22%7D",children:"Balance Due"}),a.jsxs("p",{className:"font-bold text-2xl text-emerald-400","data-matrix-id":"src/components/PaymentModal.tsx:140:14","data-matrix-name":"p","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"140","data-component-file":"PaymentModal.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22font-bold%20text-2xl%20text-emerald-400%22%7D",children:["$",P.toFixed(2)]})]})]})}),a.jsxs("div",{className:"flex border-b","data-matrix-id":"src/components/PaymentModal.tsx:146:8","data-matrix-name":"div","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"146","data-component-file":"PaymentModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20border-b%22%7D",children:[a.jsxs("button",{onClick:()=>f("manual"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors ${d==="manual"?"text-neutral-900 border-b-2 border-neutral-900 bg-white":"text-neutral-500 hover:text-neutral-700 bg-neutral-50"}`,"data-matrix-id":"src/components/PaymentModal.tsx:147:10","data-matrix-name":"button","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"147","data-component-file":"PaymentModal.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:[a.jsx(Ft,{className:"w-4 h-4 inline mr-2","data-matrix-id":"src/components/PaymentModal.tsx:155:12","data-matrix-name":"Building","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"155","data-component-file":"PaymentModal.tsx","data-component-name":"Building","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20inline%20mr-2%22%7D"}),"Manual Entry"]}),a.jsxs("button",{onClick:()=>f("online"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors ${d==="online"?"text-neutral-900 border-b-2 border-neutral-900 bg-white":"text-neutral-500 hover:text-neutral-700 bg-neutral-50"}`,"data-matrix-id":"src/components/PaymentModal.tsx:158:10","data-matrix-name":"button","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"158","data-component-file":"PaymentModal.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:[a.jsx(Ta,{className:"w-4 h-4 inline mr-2","data-matrix-id":"src/components/PaymentModal.tsx:166:12","data-matrix-name":"CreditCard","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"166","data-component-file":"PaymentModal.tsx","data-component-name":"CreditCard","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20inline%20mr-2%22%7D"}),"Online Payment"]})]}),d==="manual"&&a.jsxs("form",{onSubmit:aa,className:"p-5 space-y-4","data-matrix-id":"src/components/PaymentModal.tsx:173:10","data-matrix-name":"form","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"173","data-component-file":"PaymentModal.tsx","data-component-name":"form","data-component-content":"%7B%22onSubmit%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22p-5%20space-y-4%22%7D",children:[G&&a.jsx("div",{className:"p-3 bg-neutral-100 border border-red-200 rounded-lg text-red-700 text-sm","data-matrix-id":"src/components/PaymentModal.tsx:175:14","data-matrix-name":"div","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"175","data-component-file":"PaymentModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-3%20bg-neutral-100%20border%20border-red-200%20rounded-lg%20text-red-700%20text-sm%22%7D",children:G}),a.jsxs("div",{"data-matrix-id":"src/components/PaymentModal.tsx:180:12","data-matrix-name":"div","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"180","data-component-file":"PaymentModal.tsx","data-component-name":"div",children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1","data-matrix-id":"src/components/PaymentModal.tsx:181:14","data-matrix-name":"label","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"181","data-component-file":"PaymentModal.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-neutral-700%20mb-1%22%7D",children:"Payment Amount"}),a.jsxs("div",{className:"relative","data-matrix-id":"src/components/PaymentModal.tsx:182:14","data-matrix-name":"div","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"182","data-component-file":"PaymentModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22relative%22%7D",children:[a.jsx(La,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-neutral-400","data-matrix-id":"src/components/PaymentModal.tsx:183:16","data-matrix-name":"DollarSign","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"183","data-component-file":"PaymentModal.tsx","data-component-name":"DollarSign","data-component-content":"%7B%22className%22%3A%22absolute%20left-3%20top-1%2F2%20-translate-y-1%2F2%20w-4%20h-4%20text-neutral-400%22%7D"}),a.jsx("input",{type:"number",step:"0.01",min:"0.01",max:P,value:C,onChange:c=>S(c.target.value),className:"w-full pl-9 pr-3 py-2.5 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-neutral-900 focus:border-transparent",required:!0,"data-matrix-id":"src/components/PaymentModal.tsx:184:16","data-matrix-name":"input","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"184","data-component-file":"PaymentModal.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22number%22%2C%22step%22%3A%220.01%22%2C%22min%22%3A%220.01%22%2C%22max%22%3A%22%5BIdentifier%5D%22%2C%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20pl-9%20pr-3%20py-2.5%20border%20border-neutral-300%20rounded-lg%20focus%3Aring-2%20focus%3Aring-neutral-900%20focus%3Aborder-transparent%22%2C%22required%22%3Atrue%7D"})]})]}),a.jsxs("div",{"data-matrix-id":"src/components/PaymentModal.tsx:197:12","data-matrix-name":"div","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"197","data-component-file":"PaymentModal.tsx","data-component-name":"div",children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1","data-matrix-id":"src/components/PaymentModal.tsx:198:14","data-matrix-name":"label","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"198","data-component-file":"PaymentModal.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-neutral-700%20mb-1%22%7D",children:"Payment Date"}),a.jsxs("div",{className:"relative","data-matrix-id":"src/components/PaymentModal.tsx:199:14","data-matrix-name":"div","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"199","data-component-file":"PaymentModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22relative%22%7D",children:[a.jsx(dt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-neutral-400","data-matrix-id":"src/components/PaymentModal.tsx:200:16","data-matrix-name":"Calendar","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"200","data-component-file":"PaymentModal.tsx","data-component-name":"Calendar","data-component-content":"%7B%22className%22%3A%22absolute%20left-3%20top-1%2F2%20-translate-y-1%2F2%20w-4%20h-4%20text-neutral-400%22%7D"}),a.jsx("input",{type:"date",value:v,onChange:c=>T(c.target.value),className:"w-full pl-9 pr-3 py-2.5 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-neutral-900 focus:border-transparent",required:!0,"data-matrix-id":"src/components/PaymentModal.tsx:201:16","data-matrix-name":"input","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"201","data-component-file":"PaymentModal.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22date%22%2C%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20pl-9%20pr-3%20py-2.5%20border%20border-neutral-300%20rounded-lg%20focus%3Aring-2%20focus%3Aring-neutral-900%20focus%3Aborder-transparent%22%2C%22required%22%3Atrue%7D"})]})]}),a.jsxs("div",{"data-matrix-id":"src/components/PaymentModal.tsx:211:12","data-matrix-name":"div","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"211","data-component-file":"PaymentModal.tsx","data-component-name":"div",children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1","data-matrix-id":"src/components/PaymentModal.tsx:212:14","data-matrix-name":"label","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"212","data-component-file":"PaymentModal.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-neutral-700%20mb-1%22%7D",children:"Payment Method"}),a.jsxs("div",{className:"relative","data-matrix-id":"src/components/PaymentModal.tsx:213:14","data-matrix-name":"div","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"213","data-component-file":"PaymentModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22relative%22%7D",children:[a.jsx(Ta,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-neutral-400","data-matrix-id":"src/components/PaymentModal.tsx:214:16","data-matrix-name":"CreditCard","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"214","data-component-file":"PaymentModal.tsx","data-component-name":"CreditCard","data-component-content":"%7B%22className%22%3A%22absolute%20left-3%20top-1%2F2%20-translate-y-1%2F2%20w-4%20h-4%20text-neutral-400%22%7D"}),a.jsxs("select",{value:U,onChange:c=>V(c.target.value),className:"w-full pl-9 pr-3 py-2.5 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-neutral-900 focus:border-transparent appearance-none bg-white","data-matrix-id":"src/components/PaymentModal.tsx:215:16","data-matrix-name":"select","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"215","data-component-file":"PaymentModal.tsx","data-component-name":"select","data-component-content":"%7B%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20pl-9%20pr-3%20py-2.5%20border%20border-neutral-300%20rounded-lg%20focus%3Aring-2%20focus%3Aring-neutral-900%20focus%3Aborder-transparent%20appearance-none%20bg-white%22%7D",children:[a.jsx("option",{value:"bank_transfer","data-matrix-id":"src/components/PaymentModal.tsx:220:18","data-matrix-name":"option","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"220","data-component-file":"PaymentModal.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22bank_transfer%22%7D",children:"Bank Transfer / ACH"}),a.jsx("option",{value:"wire","data-matrix-id":"src/components/PaymentModal.tsx:221:18","data-matrix-name":"option","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"221","data-component-file":"PaymentModal.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22wire%22%7D",children:"Wire Transfer"}),a.jsx("option",{value:"check","data-matrix-id":"src/components/PaymentModal.tsx:222:18","data-matrix-name":"option","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"222","data-component-file":"PaymentModal.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22check%22%7D",children:"Check"}),a.jsx("option",{value:"cash","data-matrix-id":"src/components/PaymentModal.tsx:223:18","data-matrix-name":"option","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"223","data-component-file":"PaymentModal.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22cash%22%7D",children:"Cash"}),a.jsx("option",{value:"credit_card","data-matrix-id":"src/components/PaymentModal.tsx:224:18","data-matrix-name":"option","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"224","data-component-file":"PaymentModal.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22credit_card%22%7D",children:"Credit Card (offline)"}),a.jsx("option",{value:"other","data-matrix-id":"src/components/PaymentModal.tsx:225:18","data-matrix-name":"option","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"225","data-component-file":"PaymentModal.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22other%22%7D",children:"Other"})]})]})]}),a.jsxs("div",{className:"flex gap-3 pt-3","data-matrix-id":"src/components/PaymentModal.tsx:230:12","data-matrix-name":"div","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"230","data-component-file":"PaymentModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20gap-3%20pt-3%22%7D",children:[a.jsx("button",{type:"button",onClick:I,className:"flex-1 px-4 py-2.5 border border-neutral-300 text-neutral-700 rounded-lg hover:bg-neutral-50 font-medium transition-colors","data-matrix-id":"src/components/PaymentModal.tsx:231:14","data-matrix-name":"button","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"231","data-component-file":"PaymentModal.tsx","data-component-name":"button","data-component-content":"%7B%22type%22%3A%22button%22%2C%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22flex-1%20px-4%20py-2.5%20border%20border-neutral-300%20text-neutral-700%20rounded-lg%20hover%3Abg-neutral-50%20font-medium%20transition-colors%22%7D",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:da,className:"flex-1 px-4 py-2.5 bg-[#476E66] text-white rounded-lg hover:bg-[#3A5B54] disabled:opacity-50 font-medium transition-colors flex items-center justify-center gap-2","data-matrix-id":"src/components/PaymentModal.tsx:238:14","data-matrix-name":"button","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"238","data-component-file":"PaymentModal.tsx","data-component-name":"button","data-component-content":"%7B%22type%22%3A%22submit%22%2C%22disabled%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22flex-1%20px-4%20py-2.5%20bg-%5B%23476E66%5D%20text-white%20rounded-lg%20hover%3Abg-%5B%233A5B54%5D%20disabled%3Aopacity-50%20font-medium%20transition-colors%20flex%20items-center%20justify-center%20gap-2%22%7D",children:da?a.jsxs(a.Fragment,{children:[a.jsx(ft,{className:"w-4 h-4 animate-spin","data-matrix-id":"src/components/PaymentModal.tsx:243:28","data-matrix-name":"Loader2","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"243","data-component-file":"PaymentModal.tsx","data-component-name":"Loader2","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20animate-spin%22%7D"})," Saving..."]}):"Record Payment"})]})]}),d==="online"&&a.jsx("div",{className:"p-5","data-matrix-id":"src/components/PaymentModal.tsx:251:10","data-matrix-name":"div","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"251","data-component-file":"PaymentModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-5%22%7D",children:a.jsxs("div",{className:"text-center py-8","data-matrix-id":"src/components/PaymentModal.tsx:253:14","data-matrix-name":"div","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"253","data-component-file":"PaymentModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%20py-8%22%7D",children:[a.jsx(Ta,{className:"w-12 h-12 text-neutral-300 mx-auto mb-3","data-matrix-id":"src/components/PaymentModal.tsx:254:16","data-matrix-name":"CreditCard","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"254","data-component-file":"PaymentModal.tsx","data-component-name":"CreditCard","data-component-content":"%7B%22className%22%3A%22w-12%20h-12%20text-neutral-300%20mx-auto%20mb-3%22%7D"}),a.jsx("h3",{className:"font-medium text-neutral-900 mb-1","data-matrix-id":"src/components/PaymentModal.tsx:255:16","data-matrix-name":"h3","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"255","data-component-file":"PaymentModal.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22font-medium%20text-neutral-900%20mb-1%22%7D",children:"Online Payments Not Configured"}),a.jsx("p",{className:"text-sm text-neutral-500 mb-4","data-matrix-id":"src/components/PaymentModal.tsx:256:16","data-matrix-name":"p","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"256","data-component-file":"PaymentModal.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-neutral-500%20mb-4%22%7D",children:"To accept online credit card payments, add your Stripe API keys in Settings."}),a.jsx("button",{onClick:()=>f("manual"),className:"px-4 py-2 bg-neutral-100 text-neutral-700 rounded-lg hover:bg-neutral-200 text-sm font-medium","data-matrix-id":"src/components/PaymentModal.tsx:259:16","data-matrix-name":"button","data-component-path":"src/components/PaymentModal.tsx","data-component-line":"259","data-component-file":"PaymentModal.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22px-4%20py-2%20bg-neutral-100%20text-neutral-700%20rounded-lg%20hover%3Abg-neutral-200%20text-sm%20font-medium%22%7D",children:"Use Manual Entry Instead"})]})})]})})}function Xt({clients:n,invoices:I,onClose:y,onSave:P}){const[d,f]=o.useState(""),[C,S]=o.useState(""),[v,T]=o.useState(new Date().toISOString().split("T")[0]),[U,V]=o.useState("check"),[da,pa]=o.useState(""),[G,x]=o.useState(""),[j,sa]=o.useState(!1),[D,h]=o.useState(""),[X,ua]=o.useState({}),[W,va]=o.useState(!1),[K,ta]=o.useState(null),O=o.useMemo(()=>{const c=new Map;return I.filter(b=>b.client_id===d&&b.project).forEach(b=>{b.project&&!c.has(b.project_id)&&c.set(b.project_id,{id:b.project_id,name:b.project.name||"Unknown Project"})}),Array.from(c.values())},[I,d]),Y=o.useMemo(()=>I.filter(c=>{const b=c.client_id===d,R=c.total-(c.amount_paid||0)>0,na=!j||!D||c.project_id===D,$=c.status!=="paid";return b&&R&&na&&$}).sort((c,b)=>new Date(c.due_date||"").getTime()-new Date(b.due_date||"").getTime()),[I,d,j,D]);o.useEffect(()=>{if(!C||!d){ta(null);return}const c=parseFloat(C);if(isNaN(c)||c<=0){ta(null);return}const b=Y.find(R=>{const na=R.total-(R.amount_paid||0);return Math.abs(na-c)<.01});b?(ta(b.id),ua({[b.id]:C})):ta(null)},[C,d,Y]);const ea=(c,b)=>{ua(R=>({...R,[c]:b}))},J=o.useMemo(()=>Object.values(X).reduce((c,b)=>c+(parseFloat(b)||0),0),[X]),z=(parseFloat(C)||0)-J,Q=async c=>{c.preventDefault();const b=Object.entries(X).filter(([R,na])=>parseFloat(na)>0).map(([R,na])=>({invoiceId:R,amount:parseFloat(na)}));if(b.length===0){alert("Please allocate payment to at least one invoice");return}va(!0);try{await P(b,{date:v,method:U,referenceNumber:da,notes:G}),y()}catch(R){console.error("Failed to save payment:",R)}finally{va(!1)}},aa=c=>c?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(c):"$0.00";return a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-3","data-matrix-id":"src/components/MakePaymentModal.tsx:127:4","data-matrix-name":"div","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"127","data-component-file":"MakePaymentModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22fixed%20inset-0%20bg-black%2F50%20flex%20items-center%20justify-center%20z-50%20p-3%22%7D",children:a.jsxs("div",{className:"bg-white rounded-xl w-full max-w-5xl max-h-[90vh] overflow-hidden flex flex-col",style:{boxShadow:"var(--shadow-elevated)"},"data-matrix-id":"src/components/MakePaymentModal.tsx:128:6","data-matrix-name":"div","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"128","data-component-file":"MakePaymentModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-white%20rounded-xl%20w-full%20max-w-5xl%20max-h-%5B90vh%5D%20overflow-hidden%20flex%20flex-col%22%2C%22style%22%3A%7B%22boxShadow%22%3A%22var(--shadow-elevated)%22%7D%7D",children:[a.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-4 py-2 border-b border-neutral-100 flex-shrink-0","data-matrix-id":"src/components/MakePaymentModal.tsx:130:8","data-matrix-name":"div","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"130","data-component-file":"MakePaymentModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20px-3%20sm%3Apx-4%20py-2%20border-b%20border-neutral-100%20flex-shrink-0%22%7D",children:[a.jsx("h2",{className:"text-sm sm:text-base font-semibold text-neutral-900","data-matrix-id":"src/components/MakePaymentModal.tsx:131:10","data-matrix-name":"h2","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"131","data-component-file":"MakePaymentModal.tsx","data-component-name":"h2","data-component-content":"%7B%22className%22%3A%22text-sm%20sm%3Atext-base%20font-semibold%20text-neutral-900%22%7D",children:"Create A New Payment"}),a.jsx("button",{onClick:y,className:"p-1 hover:bg-neutral-100 rounded-lg transition-colors","data-matrix-id":"src/components/MakePaymentModal.tsx:132:10","data-matrix-name":"button","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"132","data-component-file":"MakePaymentModal.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22p-1%20hover%3Abg-neutral-100%20rounded-lg%20transition-colors%22%7D",children:a.jsx(Ca,{className:"w-3.5 h-3.5","data-matrix-id":"src/components/MakePaymentModal.tsx:133:12","data-matrix-name":"X","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"133","data-component-file":"MakePaymentModal.tsx","data-component-name":"X","data-component-content":"%7B%22className%22%3A%22w-3.5%20h-3.5%22%7D"})})]}),a.jsxs("form",{onSubmit:Q,className:"flex-1 overflow-y-auto","data-matrix-id":"src/components/MakePaymentModal.tsx:137:8","data-matrix-name":"form","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"137","data-component-file":"MakePaymentModal.tsx","data-component-name":"form","data-component-content":"%7B%22onSubmit%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22flex-1%20overflow-y-auto%22%7D",children:[a.jsxs("div",{className:"px-3 sm:px-4 py-2.5 space-y-2","data-matrix-id":"src/components/MakePaymentModal.tsx:138:10","data-matrix-name":"div","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"138","data-component-file":"MakePaymentModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22px-3%20sm%3Apx-4%20py-2.5%20space-y-2%22%7D",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2","data-matrix-id":"src/components/MakePaymentModal.tsx:140:12","data-matrix-name":"div","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"140","data-component-file":"MakePaymentModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20sm%3Agrid-cols-2%20lg%3Agrid-cols-4%20gap-2%22%7D",children:[a.jsxs("div",{"data-matrix-id":"src/components/MakePaymentModal.tsx:141:14","data-matrix-name":"div","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"141","data-component-file":"MakePaymentModal.tsx","data-component-name":"div",children:[a.jsx("label",{className:"block text-[10px] font-medium text-neutral-600 mb-0.5","data-matrix-id":"src/components/MakePaymentModal.tsx:142:16","data-matrix-name":"label","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"142","data-component-file":"MakePaymentModal.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-%5B10px%5D%20font-medium%20text-neutral-600%20mb-0.5%22%7D",children:"Client"}),a.jsxs("select",{value:d,onChange:c=>{f(c.target.value),ua({}),ta(null)},className:"w-full h-9 px-2 py-1.5 rounded-lg border border-neutral-200 focus:ring-1 focus:ring-[#476E66] focus:border-[#476E66] outline-none text-xs",required:!0,"data-matrix-id":"src/components/MakePaymentModal.tsx:143:16","data-matrix-name":"select","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"143","data-component-file":"MakePaymentModal.tsx","data-component-name":"select","data-component-content":"%7B%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20h-9%20px-2%20py-1.5%20rounded-lg%20border%20border-neutral-200%20focus%3Aring-1%20focus%3Aring-%5B%23476E66%5D%20focus%3Aborder-%5B%23476E66%5D%20outline-none%20text-xs%22%2C%22required%22%3Atrue%7D",children:[a.jsx("option",{value:"","data-matrix-id":"src/components/MakePaymentModal.tsx:153:18","data-matrix-name":"option","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"153","data-component-file":"MakePaymentModal.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22%22%7D",children:"Select a client"}),n.map(c=>a.jsx("option",{value:c.id,"data-matrix-id":"src/components/MakePaymentModal.tsx:154:36","data-matrix-name":"option","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"154","data-component-file":"MakePaymentModal.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22%5BMemberExpression%5D%22%7D",children:c.name},c.id))]})]}),a.jsxs("div",{"data-matrix-id":"src/components/MakePaymentModal.tsx:157:14","data-matrix-name":"div","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"157","data-component-file":"MakePaymentModal.tsx","data-component-name":"div",children:[a.jsx("label",{className:"block text-[10px] font-medium text-neutral-600 mb-0.5","data-matrix-id":"src/components/MakePaymentModal.tsx:158:16","data-matrix-name":"label","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"158","data-component-file":"MakePaymentModal.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-%5B10px%5D%20font-medium%20text-neutral-600%20mb-0.5%22%7D",children:"Total Amount"}),a.jsxs("div",{className:"relative","data-matrix-id":"src/components/MakePaymentModal.tsx:159:16","data-matrix-name":"div","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"159","data-component-file":"MakePaymentModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22relative%22%7D",children:[a.jsx(La,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 text-neutral-400","data-matrix-id":"src/components/MakePaymentModal.tsx:160:18","data-matrix-name":"DollarSign","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"160","data-component-file":"MakePaymentModal.tsx","data-component-name":"DollarSign","data-component-content":"%7B%22className%22%3A%22absolute%20left-2%20top-1%2F2%20-translate-y-1%2F2%20w-3%20h-3%20text-neutral-400%22%7D"}),a.jsx("input",{type:"number",step:"0.01",min:"0.01",value:C,onChange:c=>S(c.target.value),className:"w-full h-9 pl-6 pr-2 py-1.5 rounded-lg border border-neutral-200 focus:ring-1 focus:ring-[#476E66] focus:border-[#476E66] outline-none text-xs",placeholder:"0.00",required:!0,"data-matrix-id":"src/components/MakePaymentModal.tsx:161:18","data-matrix-name":"input","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"161","data-component-file":"MakePaymentModal.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22number%22%2C%22step%22%3A%220.01%22%2C%22min%22%3A%220.01%22%2C%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20h-9%20pl-6%20pr-2%20py-1.5%20rounded-lg%20border%20border-neutral-200%20focus%3Aring-1%20focus%3Aring-%5B%23476E66%5D%20focus%3Aborder-%5B%23476E66%5D%20outline-none%20text-xs%22%2C%22placeholder%22%3A%220.00%22%2C%22required%22%3Atrue%7D"})]})]}),a.jsxs("div",{"data-matrix-id":"src/components/MakePaymentModal.tsx:173:14","data-matrix-name":"div","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"173","data-component-file":"MakePaymentModal.tsx","data-component-name":"div",children:[a.jsx("label",{className:"block text-[10px] font-medium text-neutral-600 mb-0.5","data-matrix-id":"src/components/MakePaymentModal.tsx:174:16","data-matrix-name":"label","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"174","data-component-file":"MakePaymentModal.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-%5B10px%5D%20font-medium%20text-neutral-600%20mb-0.5%22%7D",children:"Payment Type"}),a.jsxs("select",{value:U,onChange:c=>V(c.target.value),className:"w-full h-9 px-2 py-1.5 rounded-lg border border-neutral-200 focus:ring-1 focus:ring-[#476E66] focus:border-[#476E66] outline-none text-xs","data-matrix-id":"src/components/MakePaymentModal.tsx:175:16","data-matrix-name":"select","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"175","data-component-file":"MakePaymentModal.tsx","data-component-name":"select","data-component-content":"%7B%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20h-9%20px-2%20py-1.5%20rounded-lg%20border%20border-neutral-200%20focus%3Aring-1%20focus%3Aring-%5B%23476E66%5D%20focus%3Aborder-%5B%23476E66%5D%20outline-none%20text-xs%22%7D",children:[a.jsx("option",{value:"check","data-matrix-id":"src/components/MakePaymentModal.tsx:180:18","data-matrix-name":"option","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"180","data-component-file":"MakePaymentModal.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22check%22%7D",children:"Check"}),a.jsx("option",{value:"bank_transfer","data-matrix-id":"src/components/MakePaymentModal.tsx:181:18","data-matrix-name":"option","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"181","data-component-file":"MakePaymentModal.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22bank_transfer%22%7D",children:"Bank Transfer / ACH"}),a.jsx("option",{value:"wire","data-matrix-id":"src/components/MakePaymentModal.tsx:182:18","data-matrix-name":"option","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"182","data-component-file":"MakePaymentModal.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22wire%22%7D",children:"Wire Transfer"}),a.jsx("option",{value:"credit_card","data-matrix-id":"src/components/MakePaymentModal.tsx:183:18","data-matrix-name":"option","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"183","data-component-file":"MakePaymentModal.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22credit_card%22%7D",children:"Credit Card"}),a.jsx("option",{value:"cash","data-matrix-id":"src/components/MakePaymentModal.tsx:184:18","data-matrix-name":"option","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"184","data-component-file":"MakePaymentModal.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22cash%22%7D",children:"Cash"}),a.jsx("option",{value:"other","data-matrix-id":"src/components/MakePaymentModal.tsx:185:18","data-matrix-name":"option","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"185","data-component-file":"MakePaymentModal.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22other%22%7D",children:"Other"})]})]}),a.jsxs("div",{"data-matrix-id":"src/components/MakePaymentModal.tsx:188:14","data-matrix-name":"div","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"188","data-component-file":"MakePaymentModal.tsx","data-component-name":"div",children:[a.jsx("label",{className:"block text-[10px] font-medium text-neutral-600 mb-0.5","data-matrix-id":"src/components/MakePaymentModal.tsx:189:16","data-matrix-name":"label","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"189","data-component-file":"MakePaymentModal.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-%5B10px%5D%20font-medium%20text-neutral-600%20mb-0.5%22%7D",children:"Payment Date"}),a.jsx("input",{type:"date",value:v,onChange:c=>T(c.target.value),className:"w-full h-9 px-2 py-1.5 rounded-lg border border-neutral-200 focus:ring-1 focus:ring-[#476E66] focus:border-[#476E66] outline-none text-xs",required:!0,"data-matrix-id":"src/components/MakePaymentModal.tsx:190:16","data-matrix-name":"input","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"190","data-component-file":"MakePaymentModal.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22date%22%2C%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20h-9%20px-2%20py-1.5%20rounded-lg%20border%20border-neutral-200%20focus%3Aring-1%20focus%3Aring-%5B%23476E66%5D%20focus%3Aborder-%5B%23476E66%5D%20outline-none%20text-xs%22%2C%22required%22%3Atrue%7D"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-2","data-matrix-id":"src/components/MakePaymentModal.tsx:201:12","data-matrix-name":"div","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"201","data-component-file":"MakePaymentModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20lg%3Agrid-cols-2%20gap-2%22%7D",children:[a.jsxs("div",{"data-matrix-id":"src/components/MakePaymentModal.tsx:202:14","data-matrix-name":"div","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"202","data-component-file":"MakePaymentModal.tsx","data-component-name":"div",children:[a.jsx("label",{className:"block text-[10px] font-medium text-neutral-600 mb-0.5","data-matrix-id":"src/components/MakePaymentModal.tsx:203:16","data-matrix-name":"label","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"203","data-component-file":"MakePaymentModal.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-%5B10px%5D%20font-medium%20text-neutral-600%20mb-0.5%22%7D",children:"Reference Number"}),a.jsx("input",{type:"text",value:da,onChange:c=>pa(c.target.value),className:"w-full h-9 px-2 py-1.5 rounded-lg border border-neutral-200 focus:ring-1 focus:ring-[#476E66] focus:border-[#476E66] outline-none text-xs",placeholder:"Check # or Reference","data-matrix-id":"src/components/MakePaymentModal.tsx:204:16","data-matrix-name":"input","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"204","data-component-file":"MakePaymentModal.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22text%22%2C%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20h-9%20px-2%20py-1.5%20rounded-lg%20border%20border-neutral-200%20focus%3Aring-1%20focus%3Aring-%5B%23476E66%5D%20focus%3Aborder-%5B%23476E66%5D%20outline-none%20text-xs%22%2C%22placeholder%22%3A%22Check%20%23%20or%20Reference%22%7D"})]}),a.jsxs("div",{"data-matrix-id":"src/components/MakePaymentModal.tsx:212:14","data-matrix-name":"div","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"212","data-component-file":"MakePaymentModal.tsx","data-component-name":"div",children:[a.jsx("label",{className:"block text-[10px] font-medium text-neutral-600 mb-0.5","data-matrix-id":"src/components/MakePaymentModal.tsx:213:16","data-matrix-name":"label","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"213","data-component-file":"MakePaymentModal.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-%5B10px%5D%20font-medium%20text-neutral-600%20mb-0.5%22%7D",children:"Payment Notes/Memo"}),a.jsxs("div",{className:"relative","data-matrix-id":"src/components/MakePaymentModal.tsx:214:16","data-matrix-name":"div","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"214","data-component-file":"MakePaymentModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22relative%22%7D",children:[a.jsx("textarea",{value:G,onChange:c=>x(c.target.value),className:"w-full px-2 py-1.5 rounded-lg border border-neutral-200 focus:ring-1 focus:ring-[#476E66] focus:border-[#476E66] outline-none resize-none h-9 text-xs",placeholder:"Add any notes about this payment...",maxLength:500,"data-matrix-id":"src/components/MakePaymentModal.tsx:215:18","data-matrix-name":"textarea","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"215","data-component-file":"MakePaymentModal.tsx","data-component-name":"textarea","data-component-content":"%7B%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20px-2%20py-1.5%20rounded-lg%20border%20border-neutral-200%20focus%3Aring-1%20focus%3Aring-%5B%23476E66%5D%20focus%3Aborder-%5B%23476E66%5D%20outline-none%20resize-none%20h-9%20text-xs%22%2C%22placeholder%22%3A%22Add%20any%20notes%20about%20this%20payment...%22%2C%22maxLength%22%3A500%7D"}),a.jsxs("span",{className:"absolute bottom-1.5 right-2 text-[10px] text-neutral-400","data-matrix-id":"src/components/MakePaymentModal.tsx:222:18","data-matrix-name":"span","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"222","data-component-file":"MakePaymentModal.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22absolute%20bottom-1.5%20right-2%20text-%5B10px%5D%20text-neutral-400%22%7D",children:[500-G.length," left"]})]})]})]}),a.jsxs("div",{className:"flex items-start gap-1.5 p-1.5 bg-neutral-50 rounded-lg",style:{boxShadow:"var(--shadow-sm)"},"data-matrix-id":"src/components/MakePaymentModal.tsx:230:12","data-matrix-name":"div","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"230","data-component-file":"MakePaymentModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-start%20gap-1.5%20p-1.5%20bg-neutral-50%20rounded-lg%22%2C%22style%22%3A%7B%22boxShadow%22%3A%22var(--shadow-sm)%22%7D%7D",children:[a.jsx("input",{type:"checkbox",id:"projectSpecific",checked:j,onChange:c=>{sa(c.target.checked),c.target.checked||h("")},className:"mt-0.5 w-3 h-3 text-[#476E66] rounded border-neutral-300 focus:ring-[#476E66]","data-matrix-id":"src/components/MakePaymentModal.tsx:231:14","data-matrix-name":"input","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"231","data-component-file":"MakePaymentModal.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22checkbox%22%2C%22id%22%3A%22projectSpecific%22%2C%22checked%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22mt-0.5%20w-3%20h-3%20text-%5B%23476E66%5D%20rounded%20border-neutral-300%20focus%3Aring-%5B%23476E66%5D%22%7D"}),a.jsxs("div",{className:"flex-1","data-matrix-id":"src/components/MakePaymentModal.tsx:241:14","data-matrix-name":"div","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"241","data-component-file":"MakePaymentModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-1%22%7D",children:[a.jsx("label",{htmlFor:"projectSpecific",className:"text-[10px] font-medium text-neutral-900 cursor-pointer","data-matrix-id":"src/components/MakePaymentModal.tsx:242:16","data-matrix-name":"label","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"242","data-component-file":"MakePaymentModal.tsx","data-component-name":"label","data-component-content":"%7B%22htmlFor%22%3A%22projectSpecific%22%2C%22className%22%3A%22text-%5B10px%5D%20font-medium%20text-neutral-900%20cursor-pointer%22%7D",children:"Project-Specific Payment"}),a.jsx("p",{className:"text-[10px] text-neutral-600 mt-0.5 leading-tight","data-matrix-id":"src/components/MakePaymentModal.tsx:245:16","data-matrix-name":"p","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"245","data-component-file":"MakePaymentModal.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-%5B10px%5D%20text-neutral-600%20mt-0.5%20leading-tight%22%7D",children:"Apply to a specific project only (optional)."}),j&&a.jsxs("select",{value:D,onChange:c=>h(c.target.value),className:"mt-1 w-full h-8 px-2 py-1 rounded-lg border border-neutral-200 focus:ring-1 focus:ring-[#476E66] focus:border-[#476E66] outline-none text-xs","data-matrix-id":"src/components/MakePaymentModal.tsx:249:18","data-matrix-name":"select","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"249","data-component-file":"MakePaymentModal.tsx","data-component-name":"select","data-component-content":"%7B%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22mt-1%20w-full%20h-8%20px-2%20py-1%20rounded-lg%20border%20border-neutral-200%20focus%3Aring-1%20focus%3Aring-%5B%23476E66%5D%20focus%3Aborder-%5B%23476E66%5D%20outline-none%20text-xs%22%7D",children:[a.jsx("option",{value:"","data-matrix-id":"src/components/MakePaymentModal.tsx:254:20","data-matrix-name":"option","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"254","data-component-file":"MakePaymentModal.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22%22%7D",children:"All Projects"}),O.map(c=>a.jsx("option",{value:c.id,"data-matrix-id":"src/components/MakePaymentModal.tsx:255:45","data-matrix-name":"option","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"255","data-component-file":"MakePaymentModal.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22%5BMemberExpression%5D%22%7D",children:c.name},c.id))]})]})]}),d&&a.jsx("div",{className:"rounded-lg overflow-hidden",style:{boxShadow:"var(--shadow-card)"},"data-matrix-id":"src/components/MakePaymentModal.tsx:263:14","data-matrix-name":"div","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"263","data-component-file":"MakePaymentModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22rounded-lg%20overflow-hidden%22%2C%22style%22%3A%7B%22boxShadow%22%3A%22var(--shadow-card)%22%7D%7D",children:a.jsxs("table",{className:"w-full","data-matrix-id":"src/components/MakePaymentModal.tsx:264:16","data-matrix-name":"table","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"264","data-component-file":"MakePaymentModal.tsx","data-component-name":"table","data-component-content":"%7B%22className%22%3A%22w-full%22%7D",children:[a.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-100","data-matrix-id":"src/components/MakePaymentModal.tsx:265:18","data-matrix-name":"thead","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"265","data-component-file":"MakePaymentModal.tsx","data-component-name":"thead","data-component-content":"%7B%22className%22%3A%22bg-neutral-50%20border-b%20border-neutral-100%22%7D",children:a.jsxs("tr",{"data-matrix-id":"src/components/MakePaymentModal.tsx:266:20","data-matrix-name":"tr","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"266","data-component-file":"MakePaymentModal.tsx","data-component-name":"tr",children:[a.jsx("th",{className:"text-left px-2 py-1 text-[10px] font-medium text-neutral-600 uppercase tracking-wide","data-matrix-id":"src/components/MakePaymentModal.tsx:267:22","data-matrix-name":"th","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"267","data-component-file":"MakePaymentModal.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-left%20px-2%20py-1%20text-%5B10px%5D%20font-medium%20text-neutral-600%20uppercase%20tracking-wide%22%7D",children:a.jsx("input",{type:"checkbox",className:"w-3 h-3 rounded border-neutral-300",disabled:!0,"data-matrix-id":"src/components/MakePaymentModal.tsx:268:24","data-matrix-name":"input","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"268","data-component-file":"MakePaymentModal.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22checkbox%22%2C%22className%22%3A%22w-3%20h-3%20rounded%20border-neutral-300%22%2C%22disabled%22%3Atrue%7D"})}),a.jsx("th",{className:"text-left px-2 py-1 text-[10px] font-medium text-neutral-600 uppercase tracking-wide","data-matrix-id":"src/components/MakePaymentModal.tsx:270:22","data-matrix-name":"th","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"270","data-component-file":"MakePaymentModal.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-left%20px-2%20py-1%20text-%5B10px%5D%20font-medium%20text-neutral-600%20uppercase%20tracking-wide%22%7D",children:"Invoice"}),a.jsx("th",{className:"text-left px-2 py-1 text-[10px] font-medium text-neutral-600 uppercase tracking-wide","data-matrix-id":"src/components/MakePaymentModal.tsx:271:22","data-matrix-name":"th","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"271","data-component-file":"MakePaymentModal.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-left%20px-2%20py-1%20text-%5B10px%5D%20font-medium%20text-neutral-600%20uppercase%20tracking-wide%22%7D",children:"Due Date"}),a.jsx("th",{className:"text-right px-2 py-1 text-[10px] font-medium text-neutral-600 uppercase tracking-wide","data-matrix-id":"src/components/MakePaymentModal.tsx:272:22","data-matrix-name":"th","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"272","data-component-file":"MakePaymentModal.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-right%20px-2%20py-1%20text-%5B10px%5D%20font-medium%20text-neutral-600%20uppercase%20tracking-wide%22%7D",children:"Amount"}),a.jsx("th",{className:"text-right px-2 py-1 text-[10px] font-medium text-neutral-600 uppercase tracking-wide","data-matrix-id":"src/components/MakePaymentModal.tsx:273:22","data-matrix-name":"th","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"273","data-component-file":"MakePaymentModal.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-right%20px-2%20py-1%20text-%5B10px%5D%20font-medium%20text-neutral-600%20uppercase%20tracking-wide%22%7D",children:"Open Balance"}),a.jsx("th",{className:"text-right px-2 py-1 text-[10px] font-medium text-neutral-600 uppercase tracking-wide","data-matrix-id":"src/components/MakePaymentModal.tsx:274:22","data-matrix-name":"th","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"274","data-component-file":"MakePaymentModal.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-right%20px-2%20py-1%20text-%5B10px%5D%20font-medium%20text-neutral-600%20uppercase%20tracking-wide%22%7D",children:"Payment"})]})}),a.jsx("tbody",{className:"divide-y divide-neutral-50","data-matrix-id":"src/components/MakePaymentModal.tsx:277:18","data-matrix-name":"tbody","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"277","data-component-file":"MakePaymentModal.tsx","data-component-name":"tbody","data-component-content":"%7B%22className%22%3A%22divide-y%20divide-neutral-50%22%7D",children:Y.length===0?a.jsx("tr",{"data-matrix-id":"src/components/MakePaymentModal.tsx:279:22","data-matrix-name":"tr","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"279","data-component-file":"MakePaymentModal.tsx","data-component-name":"tr",children:a.jsx("td",{colSpan:6,className:"px-2 py-4 text-center text-neutral-500 text-xs","data-matrix-id":"src/components/MakePaymentModal.tsx:280:24","data-matrix-name":"td","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"280","data-component-file":"MakePaymentModal.tsx","data-component-name":"td","data-component-content":"%7B%22colSpan%22%3A6%2C%22className%22%3A%22px-2%20py-4%20text-center%20text-neutral-500%20text-xs%22%7D",children:"No open invoices found for this client"})}):Y.map(c=>{const b=c.total-(c.amount_paid||0),R=c.id===K,na=X[c.id]||"";return a.jsxs("tr",{className:`${R?"bg-[#476E66]/5":"hover:bg-neutral-50/50"} transition-colors`,"data-matrix-id":"src/components/MakePaymentModal.tsx:291:26","data-matrix-name":"tr","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"291","data-component-file":"MakePaymentModal.tsx","data-component-name":"tr","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:[a.jsx("td",{className:"px-2 py-1.5","data-matrix-id":"src/components/MakePaymentModal.tsx:295:28","data-matrix-name":"td","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"295","data-component-file":"MakePaymentModal.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-2%20py-1.5%22%7D",children:a.jsx("input",{type:"checkbox",checked:!!na&&parseFloat(na)>0,onChange:$=>{$.target.checked?ea(c.id,b.toString()):ea(c.id,"")},className:"w-3 h-3 rounded border-neutral-300 text-[#476E66] focus:ring-[#476E66]","data-matrix-id":"src/components/MakePaymentModal.tsx:296:30","data-matrix-name":"input","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"296","data-component-file":"MakePaymentModal.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22checkbox%22%2C%22checked%22%3A%22%5BLogicalExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-3%20h-3%20rounded%20border-neutral-300%20text-%5B%23476E66%5D%20focus%3Aring-%5B%23476E66%5D%22%7D"})}),a.jsx("td",{className:"px-2 py-1.5","data-matrix-id":"src/components/MakePaymentModal.tsx:309:28","data-matrix-name":"td","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"309","data-component-file":"MakePaymentModal.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-2%20py-1.5%22%7D",children:a.jsxs("div",{className:"flex items-center gap-1","data-matrix-id":"src/components/MakePaymentModal.tsx:310:30","data-matrix-name":"div","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"310","data-component-file":"MakePaymentModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-1%22%7D",children:[a.jsx("span",{className:"text-neutral-900 font-medium text-xs","data-matrix-id":"src/components/MakePaymentModal.tsx:311:32","data-matrix-name":"span","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"311","data-component-file":"MakePaymentModal.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-neutral-900%20font-medium%20text-xs%22%7D",children:c.invoice_number}),R&&a.jsxs("span",{className:"flex items-center gap-0.5 text-[10px] text-[#476E66] bg-[#476E66]/10 px-1 py-0.5 rounded","data-matrix-id":"src/components/MakePaymentModal.tsx:315:34","data-matrix-name":"span","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"315","data-component-file":"MakePaymentModal.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-0.5%20text-%5B10px%5D%20text-%5B%23476E66%5D%20bg-%5B%23476E66%5D%2F10%20px-1%20py-0.5%20rounded%22%7D",children:[a.jsx(mt,{className:"w-2.5 h-2.5","data-matrix-id":"src/components/MakePaymentModal.tsx:316:36","data-matrix-name":"Check","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"316","data-component-file":"MakePaymentModal.tsx","data-component-name":"Check","data-component-content":"%7B%22className%22%3A%22w-2.5%20h-2.5%22%7D"})," Matched"]})]})}),a.jsx("td",{className:"px-2 py-1.5 text-[10px] text-neutral-600","data-matrix-id":"src/components/MakePaymentModal.tsx:321:28","data-matrix-name":"td","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"321","data-component-file":"MakePaymentModal.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-2%20py-1.5%20text-%5B10px%5D%20text-neutral-600%22%7D",children:c.due_date?new Date(c.due_date).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"-"}),a.jsx("td",{className:"px-2 py-1.5 text-right text-xs text-neutral-600","data-matrix-id":"src/components/MakePaymentModal.tsx:324:28","data-matrix-name":"td","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"324","data-component-file":"MakePaymentModal.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-2%20py-1.5%20text-right%20text-xs%20text-neutral-600%22%7D",children:aa(c.total)}),a.jsx("td",{className:"px-2 py-1.5 text-right text-xs font-medium text-neutral-900","data-matrix-id":"src/components/MakePaymentModal.tsx:327:28","data-matrix-name":"td","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"327","data-component-file":"MakePaymentModal.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-2%20py-1.5%20text-right%20text-xs%20font-medium%20text-neutral-900%22%7D",children:aa(b)}),a.jsx("td",{className:"px-2 py-1.5","data-matrix-id":"src/components/MakePaymentModal.tsx:330:28","data-matrix-name":"td","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"330","data-component-file":"MakePaymentModal.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-2%20py-1.5%22%7D",children:a.jsxs("div",{className:"relative","data-matrix-id":"src/components/MakePaymentModal.tsx:331:30","data-matrix-name":"div","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"331","data-component-file":"MakePaymentModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22relative%22%7D",children:[a.jsx(La,{className:"absolute left-1.5 top-1/2 -translate-y-1/2 w-2.5 h-2.5 text-neutral-400","data-matrix-id":"src/components/MakePaymentModal.tsx:332:32","data-matrix-name":"DollarSign","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"332","data-component-file":"MakePaymentModal.tsx","data-component-name":"DollarSign","data-component-content":"%7B%22className%22%3A%22absolute%20left-1.5%20top-1%2F2%20-translate-y-1%2F2%20w-2.5%20h-2.5%20text-neutral-400%22%7D"}),a.jsx("input",{type:"number",step:"0.01",min:"0",max:b,value:na,onChange:$=>ea(c.id,$.target.value),className:"w-20 h-7 pl-5 pr-1.5 py-1 text-right border border-neutral-200 rounded-lg focus:ring-1 focus:ring-[#476E66] focus:border-[#476E66] outline-none text-xs",placeholder:"0.00","data-matrix-id":"src/components/MakePaymentModal.tsx:333:32","data-matrix-name":"input","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"333","data-component-file":"MakePaymentModal.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22number%22%2C%22step%22%3A%220.01%22%2C%22min%22%3A%220%22%2C%22max%22%3A%22%5BIdentifier%5D%22%2C%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-20%20h-7%20pl-5%20pr-1.5%20py-1%20text-right%20border%20border-neutral-200%20rounded-lg%20focus%3Aring-1%20focus%3Aring-%5B%23476E66%5D%20focus%3Aborder-%5B%23476E66%5D%20outline-none%20text-xs%22%2C%22placeholder%22%3A%220.00%22%7D"})]})})]},c.id)})})]})}),d&&parseFloat(C)>0&&a.jsx("div",{className:"flex justify-end","data-matrix-id":"src/components/MakePaymentModal.tsx:356:14","data-matrix-name":"div","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"356","data-component-file":"MakePaymentModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-end%22%7D",children:a.jsxs("div",{className:"text-[10px] space-y-0.5","data-matrix-id":"src/components/MakePaymentModal.tsx:357:16","data-matrix-name":"div","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"357","data-component-file":"MakePaymentModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-%5B10px%5D%20space-y-0.5%22%7D",children:[a.jsxs("div",{className:"flex justify-between gap-4","data-matrix-id":"src/components/MakePaymentModal.tsx:358:18","data-matrix-name":"div","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"358","data-component-file":"MakePaymentModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20gap-4%22%7D",children:[a.jsx("span",{className:"text-neutral-600","data-matrix-id":"src/components/MakePaymentModal.tsx:359:20","data-matrix-name":"span","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"359","data-component-file":"MakePaymentModal.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-neutral-600%22%7D",children:"Total Payment:"}),a.jsx("span",{className:"font-semibold text-neutral-900","data-matrix-id":"src/components/MakePaymentModal.tsx:360:20","data-matrix-name":"span","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"360","data-component-file":"MakePaymentModal.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-neutral-900%22%7D",children:aa(parseFloat(C))})]}),a.jsxs("div",{className:"flex justify-between gap-4","data-matrix-id":"src/components/MakePaymentModal.tsx:362:18","data-matrix-name":"div","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"362","data-component-file":"MakePaymentModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20gap-4%22%7D",children:[a.jsx("span",{className:"text-neutral-600","data-matrix-id":"src/components/MakePaymentModal.tsx:363:20","data-matrix-name":"span","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"363","data-component-file":"MakePaymentModal.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-neutral-600%22%7D",children:"Allocated:"}),a.jsx("span",{className:"font-semibold text-neutral-900","data-matrix-id":"src/components/MakePaymentModal.tsx:364:20","data-matrix-name":"span","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"364","data-component-file":"MakePaymentModal.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-neutral-900%22%7D",children:aa(J)})]}),a.jsxs("div",{className:`flex justify-between gap-4 pt-0.5 border-t border-neutral-200 ${Math.abs(z)<.01?"text-[#476E66]":"text-neutral-900"}`,"data-matrix-id":"src/components/MakePaymentModal.tsx:366:18","data-matrix-name":"div","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"366","data-component-file":"MakePaymentModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:[a.jsx("span",{className:"font-medium","data-matrix-id":"src/components/MakePaymentModal.tsx:367:20","data-matrix-name":"span","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"367","data-component-file":"MakePaymentModal.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-medium%22%7D",children:"Remaining:"}),a.jsx("span",{className:"font-semibold","data-matrix-id":"src/components/MakePaymentModal.tsx:368:20","data-matrix-name":"span","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"368","data-component-file":"MakePaymentModal.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-semibold%22%7D",children:aa(z)})]})]})})]}),a.jsxs("div",{className:"flex items-center justify-end gap-2 px-3 sm:px-4 py-2 border-t border-neutral-100 flex-shrink-0 bg-neutral-50","data-matrix-id":"src/components/MakePaymentModal.tsx:376:10","data-matrix-name":"div","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"376","data-component-file":"MakePaymentModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-end%20gap-2%20px-3%20sm%3Apx-4%20py-2%20border-t%20border-neutral-100%20flex-shrink-0%20bg-neutral-50%22%7D",children:[a.jsx("button",{type:"button",onClick:y,className:"flex-1 sm:flex-none px-3 py-1.5 text-xs border border-neutral-200 rounded-lg hover:bg-white transition-colors font-medium","data-matrix-id":"src/components/MakePaymentModal.tsx:377:12","data-matrix-name":"button","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"377","data-component-file":"MakePaymentModal.tsx","data-component-name":"button","data-component-content":"%7B%22type%22%3A%22button%22%2C%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22flex-1%20sm%3Aflex-none%20px-3%20py-1.5%20text-xs%20border%20border-neutral-200%20rounded-lg%20hover%3Abg-white%20transition-colors%20font-medium%22%7D",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:W||!d||J<=0,className:"flex-1 sm:flex-none px-4 py-1.5 text-xs bg-[#476E66] text-white rounded-lg hover:bg-[#3A5B54] transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed","data-matrix-id":"src/components/MakePaymentModal.tsx:384:12","data-matrix-name":"button","data-component-path":"src/components/MakePaymentModal.tsx","data-component-line":"384","data-component-file":"MakePaymentModal.tsx","data-component-name":"button","data-component-content":"%7B%22type%22%3A%22submit%22%2C%22disabled%22%3A%22%5BLogicalExpression%5D%22%2C%22className%22%3A%22flex-1%20sm%3Aflex-none%20px-4%20py-1.5%20text-xs%20bg-%5B%23476E66%5D%20text-white%20rounded-lg%20hover%3Abg-%5B%233A5B54%5D%20transition-colors%20font-medium%20disabled%3Aopacity-50%20disabled%3Acursor-not-allowed%22%7D",children:W?"Saving...":"Save"})]})]})]})})}function xe(){const{profile:n,user:I,loading:y}=pt(),{showToast:P}=rt(),d=It(),[f,C]=o.useState([]),[S,v]=o.useState([]),[T,U]=o.useState([]),[V,da]=o.useState([]),[pa,G]=o.useState(!0),[x,j]=o.useState(""),[sa,D]=o.useState("all"),[h,X]=o.useState("all"),[ua,W]=o.useState(!1),[va,K]=o.useState(null),[ta,O]=o.useState(!1),[Y,ea]=o.useState(!1),[J,z]=o.useState(null),[Q,aa]=o.useState(null),[c,b]=o.useState(null),[R,na]=o.useState("list"),[$,ga]=o.useState(new Set),[ba,ha]=o.useState(!1),[Na,Ba]=o.useState(()=>{const e=localStorage.getItem("invoicesExpandedClients");return e?new Set(JSON.parse(e)):new Set}),[oa,ia]=o.useState(null),s=e=>{const i=new Set(Na);i.has(e)?i.delete(e):i.add(e),Ba(i),localStorage.setItem("invoicesExpandedClients",JSON.stringify([...i]))},A=e=>{const i=new Set($);i.has(e)?i.delete(e):i.add(e),ga(i)},l=()=>{$.size===la.length?ga(new Set):ga(new Set(la.map(e=>e.id)))},E=async e=>{if(confirm("Are you sure you want to delete this invoice?")){ha(!0);try{await ma.deleteInvoice(e),P("Invoice deleted successfully","success"),M(),ga(i=>{const p=new Set(i);return p.delete(e),p})}catch(i){console.error("Failed to delete invoice:",i),P("Failed to delete invoice","error")}ha(!1)}},ra=async()=>{if($.size!==0&&confirm(`Are you sure you want to delete ${$.size} invoice(s)?`)){ha(!0);try{await ma.deleteInvoices(Array.from($)),P(`${$.size} invoice(s) deleted successfully`,"success"),M(),ga(new Set)}catch(e){console.error("Failed to delete invoices:",e),P("Failed to delete invoices","error")}ha(!1)}};o.useEffect(()=>{const e=d.state;e!=null&&e.openInvoiceId&&(b(e.openInvoiceId),window.history.replaceState({},document.title))},[d]),o.useEffect(()=>{if(c&&f.length>0){const e=f.find(i=>i.id===c);e&&aa(e),b(null)}},[c,f]);const w=o.useRef(null);o.useEffect(()=>{M()},[n==null?void 0:n.company_id,I==null?void 0:I.id,d.pathname]),o.useEffect(()=>{function e(i){w.current&&!w.current.contains(i.target)&&K(null)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);async function M(){if(!(n!=null&&n.company_id)){G(!1);return}G(!0);try{const[e,i,p,u,m]=await Promise.all([ma.getInvoices(n.company_id),ma.getClients(n.company_id),ma.getProjects(n.company_id),lt.getAll(n.company_id),Ia.from("company_settings").select("company_name, logo_url, address, city, state, zip, phone").eq("company_id",n.company_id).single()]);C(e),v(i),U(p),da(u),m.data&&ia(m.data)}catch(e){console.error("Failed to load data:",e)}finally{G(!1)}}const H=o.useMemo(()=>{const e=f.filter(g=>g.status==="draft").reduce((g,ca)=>g+Number(ca.total),0),i=f.filter(g=>g.status==="draft").length,p=f.filter(g=>g.status==="sent"),u=p.reduce((g,ca)=>g+Number(ca.total),0),m=f.filter(g=>(g.status==="sent"||g.status==="overdue")&&g.due_date&&new Date(g.due_date)<new Date).reduce((g,ca)=>g+Number(ca.total),0),N=f.filter(g=>(g.status==="sent"||g.status==="overdue")&&g.due_date&&new Date(g.due_date)<new Date).length;return{wip:e,drafts:i,arAging:m,agingCount:N,sentTotal:u,sentCount:p.length}},[f]),_=o.useMemo(()=>{const e={current:{count:0,amount:0},"1-30":{count:0,amount:0},"31-60":{count:0,amount:0},"61-90":{count:0,amount:0},"90+":{count:0,amount:0}};return f.filter(i=>i.status==="sent"||i.status==="overdue").forEach(i=>{if(!i.due_date)return;const p=Math.floor((new Date().getTime()-new Date(i.due_date).getTime())/(1e3*60*60*24)),u=Number(i.total||0);p<=0?(e.current.count++,e.current.amount+=u):p<=30?(e["1-30"].count++,e["1-30"].amount+=u):p<=60?(e["31-60"].count++,e["31-60"].amount+=u):p<=90?(e["61-90"].count++,e["61-90"].amount+=u):(e["90+"].count++,e["90+"].amount+=u)}),e},[f]),Pa=o.useMemo(()=>f.filter(e=>(e.status==="sent"||e.status==="overdue")&&e.due_date).map(e=>({...e,daysOverdue:Math.floor((new Date().getTime()-new Date(e.due_date).getTime())/(1e3*60*60*24))})).sort((e,i)=>i.daysOverdue-e.daysOverdue),[f]),fa=o.useMemo(()=>f.filter(e=>e.status==="sent").sort((e,i)=>new Date(i.created_at||0).getTime()-new Date(e.created_at||0).getTime()),[f]),la=o.useMemo(()=>{let e=f;return h==="sent"?e=fa:h==="aging"&&(e=Pa),e.filter(i=>{var m,N,g;const p=((m=i.invoice_number)==null?void 0:m.toLowerCase().includes(x.toLowerCase()))||((g=(N=i.client)==null?void 0:N.name)==null?void 0:g.toLowerCase().includes(x.toLowerCase())),u=sa==="all"||i.status===sa;return p&&u})},[f,h,fa,Pa,x,sa]),Aa=e=>{switch(e){case"draft":return"bg-neutral-100 text-neutral-700";case"sent":return"bg-amber-50 text-amber-600";case"paid":return"bg-[#476E66]/10 text-[#476E66]";case"overdue":return"bg-red-50 text-red-600";default:return"bg-neutral-100 text-neutral-700"}},q=e=>e?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(e):"$0",Ra=()=>{const e=["Invoice #","Client","Project","Amount","Status","Due Date","Created"],i=la.map(g=>{var ca,ya,Da;return[g.invoice_number||"",((ca=g.client)==null?void 0:ca.name)||"",((ya=g.project)==null?void 0:ya.name)||"",((Da=g.total)==null?void 0:Da.toString())||"0",g.status||"",g.due_date?new Date(g.due_date).toLocaleDateString():"",g.created_at?new Date(g.created_at).toLocaleDateString():""]}),p=[e.join(","),...i.map(g=>g.map(ca=>`"${ca}"`).join(","))].join(`
`),u=new Blob([p],{type:"text/csv"}),m=URL.createObjectURL(u),N=document.createElement("a");N.href=m,N.download=`invoices-${new Date().toISOString().split("T")[0]}.csv`,N.click(),URL.revokeObjectURL(m)},Oa=async(e,i,p)=>{try{const u={status:i,paid_at:p};i==="sent"&&(u.sent_at=new Date().toISOString(),u.sent_date=new Date().toISOString().split("T")[0],u.public_view_token=crypto.randomUUID()),await ma.updateInvoice(e,u),M()}catch(u){console.error("Failed to update invoice:",u)}K(null)},za=async e=>{try{await ma.createInvoice({company_id:e.company_id,client_id:e.client_id,project_id:e.project_id||null,invoice_number:`INV-${Date.now().toString().slice(-6)}`,subtotal:e.subtotal,tax_amount:e.tax_amount,total:e.total,due_date:null,status:"draft"}),P("Invoice duplicated successfully","success"),M()}catch(i){console.error("Failed to duplicate invoice:",i),P("Failed to duplicate invoice","error")}K(null)},qa=async e=>{const i=S.find(p=>p.id===e.client_id);if(!(i!=null&&i.email)){P("Client does not have an email address","error"),K(null);return}try{await ma.sendEmail({to:i.email,subject:`Invoice ${e.invoice_number} from ${(n==null?void 0:n.full_name)||"Our Company"}`,documentType:"invoice",documentNumber:e.invoice_number,clientName:i.name,companyName:(n==null?void 0:n.full_name)||"Our Company",total:e.total});const p=e.public_view_token||crypto.randomUUID();await ma.updateInvoice(e.id,{status:"sent",sent_at:new Date().toISOString(),sent_date:new Date().toISOString().split("T")[0],public_view_token:p}),P(`Invoice sent to ${i.email}`,"success"),M()}catch(p){console.error("Failed to send invoice:",p),P((p==null?void 0:p.message)||"Failed to send invoice","error")}K(null)},Ua=e=>{z(e),O(!0),K(null)},Va=e=>{const i=S.find(N=>N.id===e.client_id),p=T.find(N=>N.id===e.project_id),u=`
<!DOCTYPE html>
<html>
<head>
  <title>Invoice ${e.invoice_number}</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 40px; max-width: 800px; margin: 0 auto; }
    .header { display: flex; justify-content: space-between; margin-bottom: 40px; }
    .invoice-title { font-size: 32px; font-weight: bold; color: #333; }
    .invoice-number { color: #666; margin-top: 8px; }
    .section { margin-bottom: 30px; }
    .section-title { font-size: 14px; font-weight: bold; color: #666; margin-bottom: 8px; text-transform: uppercase; }
    .client-name { font-size: 18px; font-weight: bold; }
    table { width: 100%; border-collapse: collapse; margin-top: 20px; }
    th, td { padding: 12px; text-align: left; border-bottom: 1px solid #eee; }
    th { background: #f9f9f9; font-weight: bold; text-transform: uppercase; font-size: 12px; color: #666; }
    .amount { text-align: right; }
    .total-row { font-weight: bold; font-size: 18px; }
    .total-row td { border-top: 2px solid #333; border-bottom: none; }
    .status { display: inline-block; padding: 4px 12px; border-radius: 20px; font-size: 12px; font-weight: bold; }
    .status-draft { background: #f0f0f0; color: #666; }
    .status-sent { background: #e3f2fd; color: #1976d2; }
    .status-paid { background: #e8f5e9; color: #388e3c; }
    .footer { margin-top: 40px; padding-top: 20px; border-top: 1px solid #eee; color: #666; font-size: 12px; }
  </style>
</head>
<body>
  <div class="header">
    <div>
      <div class="invoice-title">INVOICE</div>
      <div class="invoice-number">${e.invoice_number}</div>
    </div>
    <div style="text-align: right;">
      <span class="status status-${e.status}">${(e.status||"draft").toUpperCase()}</span>
      <div style="margin-top: 8px; color: #666;">
        Date: ${new Date(e.created_at||"").toLocaleDateString()}<br/>
        ${e.due_date?`Due: ${new Date(e.due_date).toLocaleDateString()}`:""}
      </div>
    </div>
  </div>
  
  <div class="section">
    <div class="section-title">Bill To</div>
    <div class="client-name">${(i==null?void 0:i.name)||"N/A"}</div>
    ${i!=null&&i.address?`<div>${i.address}</div>`:""}
    ${i!=null&&i.city||i!=null&&i.state||i!=null&&i.zip?`<div>${[i==null?void 0:i.city,i==null?void 0:i.state,i==null?void 0:i.zip].filter(Boolean).join(", ")}</div>`:""}
    ${i!=null&&i.phone?`<div>${i.phone}</div>`:""}
  </div>
  
  ${p?`
  <div class="section">
    <div class="section-title">Project</div>
    <div>${p.name}</div>
  </div>
  `:""}
  
  <table>
    <thead>
      <tr>
        <th>Description</th>
        <th class="amount">Amount</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Services rendered</td>
        <td class="amount">${q(e.subtotal)}</td>
      </tr>
      <tr>
        <td>Tax</td>
        <td class="amount">${q(e.tax_amount)}</td>
      </tr>
      <tr class="total-row">
        <td>Total</td>
        <td class="amount">${q(e.total)}</td>
      </tr>
    </tbody>
  </table>
  
  ${e.status==="paid"&&e.paid_at?`
  <div class="footer">
    <strong>Payment received:</strong> ${new Date(e.paid_at).toLocaleDateString()}
  </div>
  `:""}
</body>
</html>`,m=window.open("","_blank");m&&(m.document.write(u),m.document.close(),setTimeout(()=>{m.print()},250)),K(null)};return y||pa?a.jsx(wt,{"data-matrix-id":"src/pages/InvoicingPage.tsx:447:11","data-matrix-name":"InvoicesSkeleton","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"447","data-component-file":"InvoicingPage.tsx","data-component-name":"InvoicesSkeleton"}):n!=null&&n.company_id?a.jsxs("div",{className:"space-y-3 sm:space-y-4","data-matrix-id":"src/pages/InvoicingPage.tsx:459:4","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"459","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-3%20sm%3Aspace-y-4%22%7D",children:[a.jsxs("div",{className:"flex items-center justify-between","data-matrix-id":"src/pages/InvoicingPage.tsx:460:6","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"460","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%22%7D",children:[a.jsxs("div",{"data-matrix-id":"src/pages/InvoicingPage.tsx:461:8","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"461","data-component-file":"InvoicingPage.tsx","data-component-name":"div",children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-neutral-900","data-matrix-id":"src/pages/InvoicingPage.tsx:462:10","data-matrix-name":"h1","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"462","data-component-file":"InvoicingPage.tsx","data-component-name":"h1","data-component-content":"%7B%22className%22%3A%22text-xl%20sm%3Atext-2xl%20font-bold%20text-neutral-900%22%7D",children:"Invoicing"}),a.jsx("p",{className:"text-neutral-500 text-xs sm:text-sm","data-matrix-id":"src/pages/InvoicingPage.tsx:463:10","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"463","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-neutral-500%20text-xs%20sm%3Atext-sm%22%7D",children:"Manage invoices and payments"})]}),a.jsxs("div",{className:"flex gap-2 sm:gap-3","data-matrix-id":"src/pages/InvoicingPage.tsx:465:8","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"465","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20gap-2%20sm%3Agap-3%22%7D",children:[a.jsxs("button",{onClick:Ra,className:"hidden sm:flex items-center gap-2 px-4 py-2.5 border border-neutral-200 bg-white text-neutral-700 rounded-xl hover:bg-neutral-50 transition-colors","data-matrix-id":"src/pages/InvoicingPage.tsx:466:10","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"466","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22hidden%20sm%3Aflex%20items-center%20gap-2%20px-4%20py-2.5%20border%20border-neutral-200%20bg-white%20text-neutral-700%20rounded-xl%20hover%3Abg-neutral-50%20transition-colors%22%7D",children:[a.jsx(xt,{className:"w-4 h-4","data-matrix-id":"src/pages/InvoicingPage.tsx:470:12","data-matrix-name":"Download","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"470","data-component-file":"InvoicingPage.tsx","data-component-name":"Download","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"}),"Export CSV"]}),a.jsxs("button",{onClick:()=>ea(!0),className:"flex items-center gap-1.5 px-3 py-2 border border-neutral-200 bg-white text-neutral-700 rounded-lg hover:bg-neutral-50 transition-colors text-sm","data-matrix-id":"src/pages/InvoicingPage.tsx:473:10","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"473","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22flex%20items-center%20gap-1.5%20px-3%20py-2%20border%20border-neutral-200%20bg-white%20text-neutral-700%20rounded-lg%20hover%3Abg-neutral-50%20transition-colors%20text-sm%22%7D",children:[a.jsx(La,{className:"w-3.5 h-3.5","data-matrix-id":"src/pages/InvoicingPage.tsx:477:12","data-matrix-name":"DollarSign","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"477","data-component-file":"InvoicingPage.tsx","data-component-name":"DollarSign","data-component-content":"%7B%22className%22%3A%22w-3.5%20h-3.5%22%7D"}),a.jsx("span",{className:"hidden sm:inline","data-matrix-id":"src/pages/InvoicingPage.tsx:478:12","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"478","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22hidden%20sm%3Ainline%22%7D",children:"Log Payment"}),a.jsx("span",{className:"sm:hidden","data-matrix-id":"src/pages/InvoicingPage.tsx:479:12","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"479","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22sm%3Ahidden%22%7D",children:"Log"})]}),a.jsxs("button",{onClick:()=>W(!0),className:"flex items-center gap-1.5 px-3 py-2 bg-[#476E66] text-white rounded-lg hover:bg-[#3A5B54] transition-colors text-sm","data-matrix-id":"src/pages/InvoicingPage.tsx:481:10","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"481","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22flex%20items-center%20gap-1.5%20px-3%20py-2%20bg-%5B%23476E66%5D%20text-white%20rounded-lg%20hover%3Abg-%5B%233A5B54%5D%20transition-colors%20text-sm%22%7D",children:[a.jsx(gt,{className:"w-3.5 h-3.5","data-matrix-id":"src/pages/InvoicingPage.tsx:485:12","data-matrix-name":"Plus","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"485","data-component-file":"InvoicingPage.tsx","data-component-name":"Plus","data-component-content":"%7B%22className%22%3A%22w-3.5%20h-3.5%22%7D"}),a.jsx("span",{className:"hidden sm:inline","data-matrix-id":"src/pages/InvoicingPage.tsx:486:12","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"486","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22hidden%20sm%3Ainline%22%7D",children:"Create Invoice"}),a.jsx("span",{className:"sm:hidden","data-matrix-id":"src/pages/InvoicingPage.tsx:487:12","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"487","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22sm%3Ahidden%22%7D",children:"Create"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-2","data-matrix-id":"src/pages/InvoicingPage.tsx:493:6","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"493","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-2%20sm%3Agrid-cols-2%20lg%3Agrid-cols-4%20gap-2%22%7D",children:[a.jsxs("div",{onClick:()=>D("draft"),className:"bg-white rounded-lg p-2 cursor-pointer hover:bg-neutral-50 transition-colors",style:{boxShadow:"var(--shadow-card)"},"data-matrix-id":"src/pages/InvoicingPage.tsx:494:8","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"494","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22bg-white%20rounded-lg%20p-2%20cursor-pointer%20hover%3Abg-neutral-50%20transition-colors%22%2C%22style%22%3A%7B%22boxShadow%22%3A%22var(--shadow-card)%22%7D%7D",children:[a.jsxs("div",{className:"flex items-center gap-1.5 mb-1","data-matrix-id":"src/pages/InvoicingPage.tsx:499:10","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"499","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-1.5%20mb-1%22%7D",children:[a.jsx("div",{className:"w-7 h-7 rounded-lg bg-[#476E66]/10 flex items-center justify-center flex-shrink-0","data-matrix-id":"src/pages/InvoicingPage.tsx:500:12","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"500","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-7%20h-7%20rounded-lg%20bg-%5B%23476E66%5D%2F10%20flex%20items-center%20justify-center%20flex-shrink-0%22%7D",children:a.jsx(bt,{className:"w-3.5 h-3.5 text-[#476E66]","data-matrix-id":"src/pages/InvoicingPage.tsx:501:14","data-matrix-name":"Clock","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"501","data-component-file":"InvoicingPage.tsx","data-component-name":"Clock","data-component-content":"%7B%22className%22%3A%22w-3.5%20h-3.5%20text-%5B%23476E66%5D%22%7D"})}),a.jsx("span",{className:"text-neutral-600 text-xs font-medium leading-tight","data-matrix-id":"src/pages/InvoicingPage.tsx:503:12","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"503","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-neutral-600%20text-xs%20font-medium%20leading-tight%22%7D",children:"Work-in-Progress"})]}),a.jsx("p",{className:"text-base font-semibold text-neutral-900","data-matrix-id":"src/pages/InvoicingPage.tsx:505:10","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"505","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-base%20font-semibold%20text-neutral-900%22%7D",children:q(H.wip)}),a.jsxs("p",{className:"text-xs text-neutral-400","data-matrix-id":"src/pages/InvoicingPage.tsx:506:10","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"506","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-neutral-400%22%7D",children:[H.drafts," draft invoices"]})]}),a.jsxs("div",{onClick:()=>D("draft"),className:"bg-white rounded-lg p-2 cursor-pointer hover:bg-neutral-50 transition-colors",style:{boxShadow:"var(--shadow-card)"},"data-matrix-id":"src/pages/InvoicingPage.tsx:509:8","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"509","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22bg-white%20rounded-lg%20p-2%20cursor-pointer%20hover%3Abg-neutral-50%20transition-colors%22%2C%22style%22%3A%7B%22boxShadow%22%3A%22var(--shadow-card)%22%7D%7D",children:[a.jsxs("div",{className:"flex items-center gap-1.5 mb-1","data-matrix-id":"src/pages/InvoicingPage.tsx:514:10","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"514","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-1.5%20mb-1%22%7D",children:[a.jsx("div",{className:"w-7 h-7 rounded-lg bg-[#476E66]/10 flex items-center justify-center flex-shrink-0","data-matrix-id":"src/pages/InvoicingPage.tsx:515:12","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"515","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-7%20h-7%20rounded-lg%20bg-%5B%23476E66%5D%2F10%20flex%20items-center%20justify-center%20flex-shrink-0%22%7D",children:a.jsx(Nt,{className:"w-3.5 h-3.5 text-[#476E66]","data-matrix-id":"src/pages/InvoicingPage.tsx:516:14","data-matrix-name":"FileText","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"516","data-component-file":"InvoicingPage.tsx","data-component-name":"FileText","data-component-content":"%7B%22className%22%3A%22w-3.5%20h-3.5%20text-%5B%23476E66%5D%22%7D"})}),a.jsx("span",{className:"text-neutral-600 text-xs font-medium","data-matrix-id":"src/pages/InvoicingPage.tsx:518:12","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"518","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-neutral-600%20text-xs%20font-medium%22%7D",children:"Drafts"})]}),a.jsx("p",{className:"text-base font-semibold text-neutral-900","data-matrix-id":"src/pages/InvoicingPage.tsx:520:10","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"520","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-base%20font-semibold%20text-neutral-900%22%7D",children:q(H.wip)}),a.jsxs("p",{className:"text-xs text-neutral-400","data-matrix-id":"src/pages/InvoicingPage.tsx:521:10","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"521","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-neutral-400%22%7D",children:[H.drafts," invoices"]})]}),a.jsxs("div",{onClick:()=>X("sent"),className:`bg-white rounded-lg p-2 cursor-pointer hover:bg-neutral-50 transition-colors ${h==="sent"?"ring-1 ring-[#476E66]":""}`,style:{boxShadow:"var(--shadow-card)"},"data-matrix-id":"src/pages/InvoicingPage.tsx:524:8","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"524","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BTemplateLiteral%5D%22%2C%22style%22%3A%7B%22boxShadow%22%3A%22var(--shadow-card)%22%7D%7D",children:[a.jsxs("div",{className:"flex items-center gap-1.5 mb-1","data-matrix-id":"src/pages/InvoicingPage.tsx:529:10","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"529","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-1.5%20mb-1%22%7D",children:[a.jsx("div",{className:"w-7 h-7 rounded-lg bg-blue-50 flex items-center justify-center flex-shrink-0","data-matrix-id":"src/pages/InvoicingPage.tsx:530:12","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"530","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-7%20h-7%20rounded-lg%20bg-blue-50%20flex%20items-center%20justify-center%20flex-shrink-0%22%7D",children:a.jsx(wa,{className:"w-3.5 h-3.5 text-blue-600","data-matrix-id":"src/pages/InvoicingPage.tsx:531:14","data-matrix-name":"Send","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"531","data-component-file":"InvoicingPage.tsx","data-component-name":"Send","data-component-content":"%7B%22className%22%3A%22w-3.5%20h-3.5%20text-blue-600%22%7D"})}),a.jsx("span",{className:"text-neutral-600 text-xs font-medium","data-matrix-id":"src/pages/InvoicingPage.tsx:533:12","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"533","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-neutral-600%20text-xs%20font-medium%22%7D",children:"Sent"})]}),a.jsx("p",{className:"text-base font-semibold text-neutral-900","data-matrix-id":"src/pages/InvoicingPage.tsx:535:10","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"535","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-base%20font-semibold%20text-neutral-900%22%7D",children:q(H.sentTotal)}),a.jsxs("p",{className:"text-xs text-neutral-400","data-matrix-id":"src/pages/InvoicingPage.tsx:536:10","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"536","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-neutral-400%22%7D",children:[H.sentCount," invoices"]})]}),a.jsxs("div",{onClick:()=>X("aging"),className:`bg-white rounded-lg p-2 cursor-pointer hover:bg-neutral-50 transition-colors ${h==="aging"?"ring-1 ring-[#476E66]":""}`,style:{boxShadow:"var(--shadow-card)"},"data-matrix-id":"src/pages/InvoicingPage.tsx:539:8","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"539","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BTemplateLiteral%5D%22%2C%22style%22%3A%7B%22boxShadow%22%3A%22var(--shadow-card)%22%7D%7D",children:[a.jsxs("div",{className:"flex items-center gap-1.5 mb-1","data-matrix-id":"src/pages/InvoicingPage.tsx:544:10","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"544","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-1.5%20mb-1%22%7D",children:[a.jsx("div",{className:"w-7 h-7 rounded-lg bg-red-50 flex items-center justify-center flex-shrink-0","data-matrix-id":"src/pages/InvoicingPage.tsx:545:12","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"545","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-7%20h-7%20rounded-lg%20bg-red-50%20flex%20items-center%20justify-center%20flex-shrink-0%22%7D",children:a.jsx(Ja,{className:"w-3.5 h-3.5 text-red-500","data-matrix-id":"src/pages/InvoicingPage.tsx:546:14","data-matrix-name":"AlertCircle","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"546","data-component-file":"InvoicingPage.tsx","data-component-name":"AlertCircle","data-component-content":"%7B%22className%22%3A%22w-3.5%20h-3.5%20text-red-500%22%7D"})}),a.jsx("span",{className:"text-neutral-600 text-xs font-medium","data-matrix-id":"src/pages/InvoicingPage.tsx:548:12","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"548","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-neutral-600%20text-xs%20font-medium%22%7D",children:"A/R Aging"})]}),a.jsx("p",{className:"text-base font-semibold text-neutral-900","data-matrix-id":"src/pages/InvoicingPage.tsx:550:10","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"550","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-base%20font-semibold%20text-neutral-900%22%7D",children:q(H.arAging)}),a.jsxs("p",{className:"text-xs text-neutral-400","data-matrix-id":"src/pages/InvoicingPage.tsx:551:10","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"551","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-neutral-400%22%7D",children:[H.agingCount," overdue"]})]}),a.jsxs("div",{onClick:()=>D("all"),className:"bg-white rounded-lg p-2 cursor-pointer hover:bg-neutral-50 transition-colors",style:{boxShadow:"var(--shadow-card)"},"data-matrix-id":"src/pages/InvoicingPage.tsx:554:8","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"554","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22bg-white%20rounded-lg%20p-2%20cursor-pointer%20hover%3Abg-neutral-50%20transition-colors%22%2C%22style%22%3A%7B%22boxShadow%22%3A%22var(--shadow-card)%22%7D%7D",children:[a.jsxs("div",{className:"flex items-center gap-1.5 mb-1","data-matrix-id":"src/pages/InvoicingPage.tsx:559:10","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"559","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-1.5%20mb-1%22%7D",children:[a.jsx("div",{className:"w-7 h-7 rounded-lg bg-[#476E66]/10 flex items-center justify-center flex-shrink-0","data-matrix-id":"src/pages/InvoicingPage.tsx:560:12","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"560","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-7%20h-7%20rounded-lg%20bg-%5B%23476E66%5D%2F10%20flex%20items-center%20justify-center%20flex-shrink-0%22%7D",children:a.jsx(Xa,{className:"w-3.5 h-3.5 text-[#476E66]","data-matrix-id":"src/pages/InvoicingPage.tsx:561:14","data-matrix-name":"Repeat","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"561","data-component-file":"InvoicingPage.tsx","data-component-name":"Repeat","data-component-content":"%7B%22className%22%3A%22w-3.5%20h-3.5%20text-%5B%23476E66%5D%22%7D"})}),a.jsx("span",{className:"text-neutral-600 text-xs font-medium","data-matrix-id":"src/pages/InvoicingPage.tsx:563:12","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"563","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-neutral-600%20text-xs%20font-medium%22%7D",children:"Recurring"})]}),a.jsx("p",{className:"text-base font-semibold text-neutral-900","data-matrix-id":"src/pages/InvoicingPage.tsx:565:10","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"565","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-base%20font-semibold%20text-neutral-900%22%7D",children:V.filter(e=>e.is_active).length}),a.jsx("p",{className:"text-xs text-neutral-400","data-matrix-id":"src/pages/InvoicingPage.tsx:566:10","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"566","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-neutral-400%22%7D",children:"Active schedules"})]})]}),a.jsxs("div",{className:"flex items-center gap-1 bg-neutral-100 p-0.5 rounded-lg w-fit overflow-x-auto","data-matrix-id":"src/pages/InvoicingPage.tsx:571:6","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"571","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-1%20bg-neutral-100%20p-0.5%20rounded-lg%20w-fit%20overflow-x-auto%22%7D",children:[a.jsx("button",{onClick:()=>{X("all"),D("all")},className:`px-3 py-1.5 text-xs font-medium rounded-md transition-colors ${h==="all"?"bg-white text-neutral-900 shadow-sm":"text-neutral-500 hover:text-neutral-700"}`,"data-matrix-id":"src/pages/InvoicingPage.tsx:572:8","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"572","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:"All Invoices"}),a.jsxs("button",{onClick:()=>{X("sent"),D("all")},className:`px-3 py-1.5 text-xs font-medium rounded-md transition-colors flex items-center gap-1 ${h==="sent"?"bg-white text-neutral-900 shadow-sm":"text-neutral-500 hover:text-neutral-700"}`,"data-matrix-id":"src/pages/InvoicingPage.tsx:580:8","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"580","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:[a.jsx(wa,{className:"w-3 h-3","data-matrix-id":"src/pages/InvoicingPage.tsx:586:10","data-matrix-name":"Send","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"586","data-component-file":"InvoicingPage.tsx","data-component-name":"Send","data-component-content":"%7B%22className%22%3A%22w-3%20h-3%22%7D"})," Sent",a.jsx("span",{className:"text-[10px] bg-blue-100 text-blue-700 px-1.5 py-0.5 rounded-full","data-matrix-id":"src/pages/InvoicingPage.tsx:587:10","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"587","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-%5B10px%5D%20bg-blue-100%20text-blue-700%20px-1.5%20py-0.5%20rounded-full%22%7D",children:H.sentCount})]}),a.jsxs("button",{onClick:()=>{X("aging"),D("all")},className:`px-3 py-1.5 text-xs font-medium rounded-md transition-colors flex items-center gap-1 ${h==="aging"?"bg-white text-neutral-900 shadow-sm":"text-neutral-500 hover:text-neutral-700"}`,"data-matrix-id":"src/pages/InvoicingPage.tsx:589:8","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"589","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:[a.jsx(Ja,{className:"w-3 h-3","data-matrix-id":"src/pages/InvoicingPage.tsx:595:10","data-matrix-name":"AlertCircle","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"595","data-component-file":"InvoicingPage.tsx","data-component-name":"AlertCircle","data-component-content":"%7B%22className%22%3A%22w-3%20h-3%22%7D"})," AR Aging",H.agingCount>0&&a.jsx("span",{className:"text-[10px] bg-red-100 text-red-700 px-1.5 py-0.5 rounded-full","data-matrix-id":"src/pages/InvoicingPage.tsx:596:35","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"596","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-%5B10px%5D%20bg-red-100%20text-red-700%20px-1.5%20py-0.5%20rounded-full%22%7D",children:H.agingCount})]})]}),h==="aging"&&a.jsxs("div",{className:"bg-white rounded-lg p-2 sm:p-3",style:{boxShadow:"var(--shadow-card)"},"data-matrix-id":"src/pages/InvoicingPage.tsx:602:8","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"602","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-white%20rounded-lg%20p-2%20sm%3Ap-3%22%2C%22style%22%3A%7B%22boxShadow%22%3A%22var(--shadow-card)%22%7D%7D",children:[a.jsx("h3",{className:"text-xs font-semibold text-neutral-700 mb-2","data-matrix-id":"src/pages/InvoicingPage.tsx:603:10","data-matrix-name":"h3","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"603","data-component-file":"InvoicingPage.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-xs%20font-semibold%20text-neutral-700%20mb-2%22%7D",children:"Aging Summary"}),a.jsxs("div",{className:"flex gap-1.5 overflow-x-auto pb-1 sm:grid sm:grid-cols-5 sm:gap-2","data-matrix-id":"src/pages/InvoicingPage.tsx:604:10","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"604","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20gap-1.5%20overflow-x-auto%20pb-1%20sm%3Agrid%20sm%3Agrid-cols-5%20sm%3Agap-2%22%7D",children:[a.jsxs("div",{className:"p-1.5 sm:p-2 bg-emerald-50 rounded-md min-w-[70px] flex-shrink-0 text-center","data-matrix-id":"src/pages/InvoicingPage.tsx:605:12","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"605","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-1.5%20sm%3Ap-2%20bg-emerald-50%20rounded-md%20min-w-%5B70px%5D%20flex-shrink-0%20text-center%22%7D",children:[a.jsx("p",{className:"text-[9px] sm:text-[10px] text-neutral-500","data-matrix-id":"src/pages/InvoicingPage.tsx:606:14","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"606","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-%5B9px%5D%20sm%3Atext-%5B10px%5D%20text-neutral-500%22%7D",children:"Current"}),a.jsx("p",{className:"text-xs sm:text-sm font-semibold text-emerald-700","data-matrix-id":"src/pages/InvoicingPage.tsx:607:14","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"607","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20sm%3Atext-sm%20font-semibold%20text-emerald-700%22%7D",children:q(_.current.amount)}),a.jsx("p",{className:"text-[8px] sm:text-[9px] text-neutral-400","data-matrix-id":"src/pages/InvoicingPage.tsx:608:14","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"608","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-%5B8px%5D%20sm%3Atext-%5B9px%5D%20text-neutral-400%22%7D",children:_.current.count})]}),a.jsxs("div",{className:"p-1.5 sm:p-2 bg-yellow-50 rounded-md min-w-[70px] flex-shrink-0 text-center","data-matrix-id":"src/pages/InvoicingPage.tsx:610:12","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"610","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-1.5%20sm%3Ap-2%20bg-yellow-50%20rounded-md%20min-w-%5B70px%5D%20flex-shrink-0%20text-center%22%7D",children:[a.jsx("p",{className:"text-[9px] sm:text-[10px] text-neutral-500","data-matrix-id":"src/pages/InvoicingPage.tsx:611:14","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"611","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-%5B9px%5D%20sm%3Atext-%5B10px%5D%20text-neutral-500%22%7D",children:"1-30d"}),a.jsx("p",{className:"text-xs sm:text-sm font-semibold text-yellow-700","data-matrix-id":"src/pages/InvoicingPage.tsx:612:14","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"612","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20sm%3Atext-sm%20font-semibold%20text-yellow-700%22%7D",children:q(_["1-30"].amount)}),a.jsx("p",{className:"text-[8px] sm:text-[9px] text-neutral-400","data-matrix-id":"src/pages/InvoicingPage.tsx:613:14","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"613","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-%5B8px%5D%20sm%3Atext-%5B9px%5D%20text-neutral-400%22%7D",children:_["1-30"].count})]}),a.jsxs("div",{className:"p-1.5 sm:p-2 bg-orange-50 rounded-md min-w-[70px] flex-shrink-0 text-center","data-matrix-id":"src/pages/InvoicingPage.tsx:615:12","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"615","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-1.5%20sm%3Ap-2%20bg-orange-50%20rounded-md%20min-w-%5B70px%5D%20flex-shrink-0%20text-center%22%7D",children:[a.jsx("p",{className:"text-[9px] sm:text-[10px] text-neutral-500","data-matrix-id":"src/pages/InvoicingPage.tsx:616:14","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"616","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-%5B9px%5D%20sm%3Atext-%5B10px%5D%20text-neutral-500%22%7D",children:"31-60d"}),a.jsx("p",{className:"text-xs sm:text-sm font-semibold text-orange-700","data-matrix-id":"src/pages/InvoicingPage.tsx:617:14","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"617","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20sm%3Atext-sm%20font-semibold%20text-orange-700%22%7D",children:q(_["31-60"].amount)}),a.jsx("p",{className:"text-[8px] sm:text-[9px] text-neutral-400","data-matrix-id":"src/pages/InvoicingPage.tsx:618:14","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"618","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-%5B8px%5D%20sm%3Atext-%5B9px%5D%20text-neutral-400%22%7D",children:_["31-60"].count})]}),a.jsxs("div",{className:"p-1.5 sm:p-2 bg-red-50 rounded-md min-w-[70px] flex-shrink-0 text-center","data-matrix-id":"src/pages/InvoicingPage.tsx:620:12","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"620","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-1.5%20sm%3Ap-2%20bg-red-50%20rounded-md%20min-w-%5B70px%5D%20flex-shrink-0%20text-center%22%7D",children:[a.jsx("p",{className:"text-[9px] sm:text-[10px] text-neutral-500","data-matrix-id":"src/pages/InvoicingPage.tsx:621:14","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"621","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-%5B9px%5D%20sm%3Atext-%5B10px%5D%20text-neutral-500%22%7D",children:"61-90d"}),a.jsx("p",{className:"text-xs sm:text-sm font-semibold text-red-600","data-matrix-id":"src/pages/InvoicingPage.tsx:622:14","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"622","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20sm%3Atext-sm%20font-semibold%20text-red-600%22%7D",children:q(_["61-90"].amount)}),a.jsx("p",{className:"text-[8px] sm:text-[9px] text-neutral-400","data-matrix-id":"src/pages/InvoicingPage.tsx:623:14","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"623","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-%5B8px%5D%20sm%3Atext-%5B9px%5D%20text-neutral-400%22%7D",children:_["61-90"].count})]}),a.jsxs("div",{className:"p-1.5 sm:p-2 bg-red-100 rounded-md min-w-[70px] flex-shrink-0 text-center","data-matrix-id":"src/pages/InvoicingPage.tsx:625:12","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"625","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-1.5%20sm%3Ap-2%20bg-red-100%20rounded-md%20min-w-%5B70px%5D%20flex-shrink-0%20text-center%22%7D",children:[a.jsx("p",{className:"text-[9px] sm:text-[10px] text-neutral-500","data-matrix-id":"src/pages/InvoicingPage.tsx:626:14","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"626","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-%5B9px%5D%20sm%3Atext-%5B10px%5D%20text-neutral-500%22%7D",children:"90+d"}),a.jsx("p",{className:"text-xs sm:text-sm font-semibold text-red-700","data-matrix-id":"src/pages/InvoicingPage.tsx:627:14","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"627","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20sm%3Atext-sm%20font-semibold%20text-red-700%22%7D",children:q(_["90+"].amount)}),a.jsx("p",{className:"text-[8px] sm:text-[9px] text-neutral-400","data-matrix-id":"src/pages/InvoicingPage.tsx:628:14","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"628","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-%5B8px%5D%20sm%3Atext-%5B9px%5D%20text-neutral-400%22%7D",children:_["90+"].count})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-wrap","data-matrix-id":"src/pages/InvoicingPage.tsx:635:6","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"635","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%20sm%3Agap-3%20flex-wrap%22%7D",children:[a.jsxs("div",{className:"relative flex-1 min-w-[200px]","data-matrix-id":"src/pages/InvoicingPage.tsx:636:8","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"636","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22relative%20flex-1%20min-w-%5B200px%5D%22%7D",children:[a.jsx(yt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-neutral-400","data-matrix-id":"src/pages/InvoicingPage.tsx:637:10","data-matrix-name":"Search","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"637","data-component-file":"InvoicingPage.tsx","data-component-name":"Search","data-component-content":"%7B%22className%22%3A%22absolute%20left-3%20top-1%2F2%20-translate-y-1%2F2%20w-3.5%20h-3.5%20text-neutral-400%22%7D"}),a.jsx("input",{type:"text",placeholder:"Search invoices...",value:x,onChange:e=>j(e.target.value),className:"w-full pl-9 pr-3 py-2 rounded-lg border border-neutral-200 focus:ring-1 focus:ring-[#476E66] focus:border-[#476E66] outline-none text-sm","data-matrix-id":"src/pages/InvoicingPage.tsx:638:10","data-matrix-name":"input","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"638","data-component-file":"InvoicingPage.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22text%22%2C%22placeholder%22%3A%22Search%20invoices...%22%2C%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20pl-9%20pr-3%20py-2%20rounded-lg%20border%20border-neutral-200%20focus%3Aring-1%20focus%3Aring-%5B%23476E66%5D%20focus%3Aborder-%5B%23476E66%5D%20outline-none%20text-sm%22%7D"})]}),a.jsxs("select",{value:sa,onChange:e=>D(e.target.value),className:"px-3 py-2 border border-neutral-200 rounded-lg focus:ring-1 focus:ring-[#476E66] focus:border-[#476E66] outline-none text-sm","data-matrix-id":"src/pages/InvoicingPage.tsx:646:8","data-matrix-name":"select","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"646","data-component-file":"InvoicingPage.tsx","data-component-name":"select","data-component-content":"%7B%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22px-3%20py-2%20border%20border-neutral-200%20rounded-lg%20focus%3Aring-1%20focus%3Aring-%5B%23476E66%5D%20focus%3Aborder-%5B%23476E66%5D%20outline-none%20text-sm%22%7D",children:[a.jsx("option",{value:"all","data-matrix-id":"src/pages/InvoicingPage.tsx:651:10","data-matrix-name":"option","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"651","data-component-file":"InvoicingPage.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22all%22%7D",children:"All Status"}),a.jsx("option",{value:"draft","data-matrix-id":"src/pages/InvoicingPage.tsx:652:10","data-matrix-name":"option","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"652","data-component-file":"InvoicingPage.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22draft%22%7D",children:"Draft"}),a.jsx("option",{value:"sent","data-matrix-id":"src/pages/InvoicingPage.tsx:653:10","data-matrix-name":"option","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"653","data-component-file":"InvoicingPage.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22sent%22%7D",children:"Sent"}),a.jsx("option",{value:"paid","data-matrix-id":"src/pages/InvoicingPage.tsx:654:10","data-matrix-name":"option","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"654","data-component-file":"InvoicingPage.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22paid%22%7D",children:"Paid"}),a.jsx("option",{value:"overdue","data-matrix-id":"src/pages/InvoicingPage.tsx:655:10","data-matrix-name":"option","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"655","data-component-file":"InvoicingPage.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22overdue%22%7D",children:"Overdue"})]}),a.jsxs("div",{className:"flex items-center gap-0.5 p-0.5 bg-neutral-100 rounded-lg","data-matrix-id":"src/pages/InvoicingPage.tsx:657:8","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"657","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-0.5%20p-0.5%20bg-neutral-100%20rounded-lg%22%7D",children:[a.jsx("button",{onClick:()=>na("list"),className:`p-1.5 rounded-md transition-colors ${R==="list"?"bg-white shadow-sm":"hover:bg-neutral-200"}`,title:"List View","data-matrix-id":"src/pages/InvoicingPage.tsx:658:10","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"658","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BTemplateLiteral%5D%22%2C%22title%22%3A%22List%20View%22%7D",children:a.jsx(jt,{className:"w-3.5 h-3.5","data-matrix-id":"src/pages/InvoicingPage.tsx:663:12","data-matrix-name":"List","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"663","data-component-file":"InvoicingPage.tsx","data-component-name":"List","data-component-content":"%7B%22className%22%3A%22w-3.5%20h-3.5%22%7D"})}),a.jsx("button",{onClick:()=>na("client"),className:`p-1.5 rounded-md transition-colors ${R==="client"?"bg-white shadow-sm":"hover:bg-neutral-200"}`,title:"Client View","data-matrix-id":"src/pages/InvoicingPage.tsx:665:10","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"665","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BTemplateLiteral%5D%22%2C%22title%22%3A%22Client%20View%22%7D",children:a.jsx(Mt,{className:"w-3.5 h-3.5","data-matrix-id":"src/pages/InvoicingPage.tsx:670:12","data-matrix-name":"LayoutGrid","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"670","data-component-file":"InvoicingPage.tsx","data-component-name":"LayoutGrid","data-component-content":"%7B%22className%22%3A%22w-3.5%20h-3.5%22%7D"})})]})]}),R==="list"?a.jsx("div",{className:"bg-white rounded-lg overflow-x-auto",style:{boxShadow:"var(--shadow-card)"},"data-matrix-id":"src/pages/InvoicingPage.tsx:677:8","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"677","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-white%20rounded-lg%20overflow-x-auto%22%2C%22style%22%3A%7B%22boxShadow%22%3A%22var(--shadow-card)%22%7D%7D",children:a.jsxs("table",{className:"w-full","data-matrix-id":"src/pages/InvoicingPage.tsx:678:10","data-matrix-name":"table","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"678","data-component-file":"InvoicingPage.tsx","data-component-name":"table","data-component-content":"%7B%22className%22%3A%22w-full%22%7D",children:[a.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-100","data-matrix-id":"src/pages/InvoicingPage.tsx:679:12","data-matrix-name":"thead","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"679","data-component-file":"InvoicingPage.tsx","data-component-name":"thead","data-component-content":"%7B%22className%22%3A%22bg-neutral-50%20border-b%20border-neutral-100%22%7D",children:a.jsxs("tr",{"data-matrix-id":"src/pages/InvoicingPage.tsx:680:14","data-matrix-name":"tr","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"680","data-component-file":"InvoicingPage.tsx","data-component-name":"tr",children:[a.jsx("th",{className:"w-8 px-2 py-2","data-matrix-id":"src/pages/InvoicingPage.tsx:681:16","data-matrix-name":"th","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"681","data-component-file":"InvoicingPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22w-8%20px-2%20py-2%22%7D",children:a.jsx("input",{type:"checkbox",checked:la.length>0&&$.size===la.length,onChange:l,onClick:e=>e.stopPropagation(),className:"w-3.5 h-3.5 rounded border-neutral-300 text-[#476E66] focus:ring-[#476E66]","data-matrix-id":"src/pages/InvoicingPage.tsx:682:18","data-matrix-name":"input","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"682","data-component-file":"InvoicingPage.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22checkbox%22%2C%22checked%22%3A%22%5BLogicalExpression%5D%22%2C%22onChange%22%3A%22%5BIdentifier%5D%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-3.5%20h-3.5%20rounded%20border-neutral-300%20text-%5B%23476E66%5D%20focus%3Aring-%5B%23476E66%5D%22%7D"})}),a.jsx("th",{className:"text-left px-2 py-2 text-xs font-medium text-neutral-600","data-matrix-id":"src/pages/InvoicingPage.tsx:690:16","data-matrix-name":"th","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"690","data-component-file":"InvoicingPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-left%20px-2%20py-2%20text-xs%20font-medium%20text-neutral-600%22%7D",children:"Invoice"}),a.jsx("th",{className:"text-left px-2 py-2 text-xs font-medium text-neutral-600","data-matrix-id":"src/pages/InvoicingPage.tsx:691:16","data-matrix-name":"th","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"691","data-component-file":"InvoicingPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-left%20px-2%20py-2%20text-xs%20font-medium%20text-neutral-600%22%7D",children:"Client"}),h==="sent"&&a.jsx("th",{className:"text-left px-2 py-2 text-xs font-medium text-neutral-600 hidden sm:table-cell","data-matrix-id":"src/pages/InvoicingPage.tsx:692:41","data-matrix-name":"th","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"692","data-component-file":"InvoicingPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-left%20px-2%20py-2%20text-xs%20font-medium%20text-neutral-600%20hidden%20sm%3Atable-cell%22%7D",children:"Sent To"}),h!=="sent"&&a.jsx("th",{className:"text-left px-2 py-2 text-xs font-medium text-neutral-600 hidden sm:table-cell","data-matrix-id":"src/pages/InvoicingPage.tsx:693:41","data-matrix-name":"th","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"693","data-component-file":"InvoicingPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-left%20px-2%20py-2%20text-xs%20font-medium%20text-neutral-600%20hidden%20sm%3Atable-cell%22%7D",children:"Project"}),a.jsx("th",{className:"text-right px-2 py-2 text-xs font-medium text-neutral-600","data-matrix-id":"src/pages/InvoicingPage.tsx:694:16","data-matrix-name":"th","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"694","data-component-file":"InvoicingPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-right%20px-2%20py-2%20text-xs%20font-medium%20text-neutral-600%22%7D",children:"Amount"}),h==="aging"&&a.jsx("th",{className:"text-center px-2 py-2 text-xs font-medium text-neutral-600","data-matrix-id":"src/pages/InvoicingPage.tsx:695:42","data-matrix-name":"th","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"695","data-component-file":"InvoicingPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-center%20px-2%20py-2%20text-xs%20font-medium%20text-neutral-600%22%7D",children:"Days Overdue"}),h!=="aging"&&a.jsx("th",{className:"text-left px-2 py-2 text-xs font-medium text-neutral-600 hidden md:table-cell","data-matrix-id":"src/pages/InvoicingPage.tsx:696:42","data-matrix-name":"th","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"696","data-component-file":"InvoicingPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-left%20px-2%20py-2%20text-xs%20font-medium%20text-neutral-600%20hidden%20md%3Atable-cell%22%7D",children:"Status"}),a.jsx("th",{className:"text-left px-2 py-2 text-xs font-medium text-neutral-600 hidden lg:table-cell","data-matrix-id":"src/pages/InvoicingPage.tsx:697:16","data-matrix-name":"th","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"697","data-component-file":"InvoicingPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-left%20px-2%20py-2%20text-xs%20font-medium%20text-neutral-600%20hidden%20lg%3Atable-cell%22%7D",children:"Views"}),a.jsx("th",{className:"text-left px-2 py-2 text-xs font-medium text-neutral-600 hidden md:table-cell","data-matrix-id":"src/pages/InvoicingPage.tsx:698:16","data-matrix-name":"th","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"698","data-component-file":"InvoicingPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-left%20px-2%20py-2%20text-xs%20font-medium%20text-neutral-600%20hidden%20md%3Atable-cell%22%7D",children:"Due Date"}),a.jsx("th",{className:"w-8","data-matrix-id":"src/pages/InvoicingPage.tsx:699:16","data-matrix-name":"th","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"699","data-component-file":"InvoicingPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22w-8%22%7D",children:$.size>0&&a.jsx("button",{onClick:ra,disabled:ba,className:"p-1 text-red-600 hover:bg-red-50 rounded",title:`Delete ${$.size} selected`,"data-matrix-id":"src/pages/InvoicingPage.tsx:701:20","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"701","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22disabled%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22p-1%20text-red-600%20hover%3Abg-red-50%20rounded%22%2C%22title%22%3A%22%5BTemplateLiteral%5D%22%7D",children:a.jsx($a,{className:"w-3.5 h-3.5","data-matrix-id":"src/pages/InvoicingPage.tsx:707:22","data-matrix-name":"Trash2","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"707","data-component-file":"InvoicingPage.tsx","data-component-name":"Trash2","data-component-content":"%7B%22className%22%3A%22w-3.5%20h-3.5%22%7D"})})})]})}),a.jsx("tbody",{className:"divide-y divide-neutral-50","data-matrix-id":"src/pages/InvoicingPage.tsx:713:12","data-matrix-name":"tbody","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"713","data-component-file":"InvoicingPage.tsx","data-component-name":"tbody","data-component-content":"%7B%22className%22%3A%22divide-y%20divide-neutral-50%22%7D",children:la.length===0?a.jsx("tr",{"data-matrix-id":"src/pages/InvoicingPage.tsx:715:16","data-matrix-name":"tr","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"715","data-component-file":"InvoicingPage.tsx","data-component-name":"tr",children:a.jsx("td",{colSpan:8,className:"text-center py-12 text-neutral-500 text-sm","data-matrix-id":"src/pages/InvoicingPage.tsx:716:18","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"716","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22colSpan%22%3A8%2C%22className%22%3A%22text-center%20py-12%20text-neutral-500%20text-sm%22%7D",children:"No invoices found"})}):la.map(e=>{var i,p,u;return a.jsxs("tr",{className:`hover:bg-neutral-50/50 transition-colors cursor-pointer ${$.has(e.id)?"bg-[#476E66]/5":""}`,onClick:()=>aa(e),"data-matrix-id":"src/pages/InvoicingPage.tsx:720:18","data-matrix-name":"tr","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"720","data-component-file":"InvoicingPage.tsx","data-component-name":"tr","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%7D",children:[a.jsx("td",{className:"px-2 py-2",onClick:m=>m.stopPropagation(),"data-matrix-id":"src/pages/InvoicingPage.tsx:721:20","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"721","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-2%20py-2%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%7D",children:a.jsx("input",{type:"checkbox",checked:$.has(e.id),onChange:()=>A(e.id),className:"w-3.5 h-3.5 rounded border-neutral-300 text-[#476E66] focus:ring-[#476E66]","data-matrix-id":"src/pages/InvoicingPage.tsx:722:22","data-matrix-name":"input","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"722","data-component-file":"InvoicingPage.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22checkbox%22%2C%22checked%22%3A%22%5BCallExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-3.5%20h-3.5%20rounded%20border-neutral-300%20text-%5B%23476E66%5D%20focus%3Aring-%5B%23476E66%5D%22%7D"})}),a.jsxs("td",{className:"px-2 py-2","data-matrix-id":"src/pages/InvoicingPage.tsx:729:20","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"729","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-2%20py-2%22%7D",children:[a.jsx("p",{className:"text-sm font-medium text-neutral-900","data-matrix-id":"src/pages/InvoicingPage.tsx:730:22","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"730","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20font-medium%20text-neutral-900%22%7D",children:e.invoice_number}),a.jsx("p",{className:"text-xs text-neutral-500","data-matrix-id":"src/pages/InvoicingPage.tsx:731:22","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"731","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-neutral-500%22%7D",children:new Date(e.created_at||"").toLocaleDateString("en-US",{month:"short",day:"numeric"})})]}),a.jsx("td",{className:"px-2 py-2 text-sm text-neutral-600","data-matrix-id":"src/pages/InvoicingPage.tsx:733:20","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"733","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-2%20py-2%20text-sm%20text-neutral-600%22%7D",children:((i=e.client)==null?void 0:i.name)||"-"}),h==="sent"&&a.jsx("td",{className:"px-2 py-2 text-sm text-neutral-600 hidden sm:table-cell","data-matrix-id":"src/pages/InvoicingPage.tsx:735:22","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"735","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-2%20py-2%20text-sm%20text-neutral-600%20hidden%20sm%3Atable-cell%22%7D",children:a.jsxs("div",{className:"flex items-center gap-1","data-matrix-id":"src/pages/InvoicingPage.tsx:736:24","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"736","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-1%22%7D",children:[a.jsx(Ha,{className:"w-3 h-3 text-neutral-400","data-matrix-id":"src/pages/InvoicingPage.tsx:737:26","data-matrix-name":"Mail","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"737","data-component-file":"InvoicingPage.tsx","data-component-name":"Mail","data-component-content":"%7B%22className%22%3A%22w-3%20h-3%20text-neutral-400%22%7D"}),a.jsx("span",{className:"truncate max-w-[120px]","data-matrix-id":"src/pages/InvoicingPage.tsx:738:26","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"738","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22truncate%20max-w-%5B120px%5D%22%7D",children:((p=e.client)==null?void 0:p.email)||"-"})]})}),h!=="sent"&&a.jsx("td",{className:"px-2 py-2 text-sm text-neutral-600 hidden sm:table-cell","data-matrix-id":"src/pages/InvoicingPage.tsx:742:45","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"742","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-2%20py-2%20text-sm%20text-neutral-600%20hidden%20sm%3Atable-cell%22%7D",children:((u=e.project)==null?void 0:u.name)||"-"}),a.jsx("td",{className:"px-2 py-2 text-right text-sm font-medium text-neutral-900","data-matrix-id":"src/pages/InvoicingPage.tsx:743:20","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"743","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-2%20py-2%20text-right%20text-sm%20font-medium%20text-neutral-900%22%7D",children:q(e.total)}),h==="aging"&&a.jsx("td",{className:"px-2 py-2 text-center","data-matrix-id":"src/pages/InvoicingPage.tsx:745:22","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"745","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-2%20py-2%20text-center%22%7D",children:(()=>{const m=e.daysOverdue||0,N=m<=0?"bg-emerald-100 text-emerald-700":m<=30?"bg-yellow-100 text-yellow-700":m<=60?"bg-orange-100 text-orange-700":"bg-red-100 text-red-700";return a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${N}`,"data-matrix-id":"src/pages/InvoicingPage.tsx:752:28","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"752","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:m<=0?"Current":`${m}d`})})()}),h!=="aging"&&a.jsx("td",{className:"px-2 py-2 hidden md:table-cell","data-matrix-id":"src/pages/InvoicingPage.tsx:759:46","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"759","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-2%20py-2%20hidden%20md%3Atable-cell%22%7D",children:a.jsxs("div",{className:"flex items-center gap-1.5","data-matrix-id":"src/pages/InvoicingPage.tsx:760:22","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"760","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-1.5%22%7D",children:[a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Aa(e.status)}`,"data-matrix-id":"src/pages/InvoicingPage.tsx:761:24","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"761","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:e.status||"draft"}),V.some(m=>m.template_invoice_id===e.id&&m.is_active)&&a.jsxs("span",{className:"flex items-center gap-1 px-1.5 py-0.5 bg-[#476E66]/10 text-[#476E66] rounded text-xs","data-matrix-id":"src/pages/InvoicingPage.tsx:765:26","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"765","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-1%20px-1.5%20py-0.5%20bg-%5B%23476E66%5D%2F10%20text-%5B%23476E66%5D%20rounded%20text-xs%22%7D",children:[a.jsx(Xa,{className:"w-3 h-3","data-matrix-id":"src/pages/InvoicingPage.tsx:766:28","data-matrix-name":"Repeat","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"766","data-component-file":"InvoicingPage.tsx","data-component-name":"Repeat","data-component-content":"%7B%22className%22%3A%22w-3%20h-3%22%7D"})," Recurring"]})]})}),a.jsx("td",{className:"px-2 py-2 hidden lg:table-cell","data-matrix-id":"src/pages/InvoicingPage.tsx:771:20","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"771","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-2%20py-2%20hidden%20lg%3Atable-cell%22%7D",children:e.view_count?a.jsxs("div",{className:"flex flex-col","data-matrix-id":"src/pages/InvoicingPage.tsx:773:24","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"773","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20flex-col%22%7D",children:[a.jsxs("span",{className:"text-xs font-medium text-neutral-900","data-matrix-id":"src/pages/InvoicingPage.tsx:774:26","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"774","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-xs%20font-medium%20text-neutral-900%22%7D",children:[e.view_count," view",e.view_count!==1?"s":""]}),e.last_viewed_at&&a.jsxs("span",{className:"text-[10px] text-neutral-500","data-matrix-id":"src/pages/InvoicingPage.tsx:776:28","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"776","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-%5B10px%5D%20text-neutral-500%22%7D",children:[new Date(e.last_viewed_at).toLocaleDateString("en-US",{month:"short",day:"numeric"})," at ",new Date(e.last_viewed_at).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})]})]}):a.jsx("span",{className:"text-xs text-neutral-400","data-matrix-id":"src/pages/InvoicingPage.tsx:782:24","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"782","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-xs%20text-neutral-400%22%7D",children:""})}),a.jsx("td",{className:"px-2 py-2 text-xs text-neutral-600 hidden md:table-cell","data-matrix-id":"src/pages/InvoicingPage.tsx:785:20","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"785","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-2%20py-2%20text-xs%20text-neutral-600%20hidden%20md%3Atable-cell%22%7D",children:e.due_date?new Date(e.due_date).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"-"}),a.jsxs("td",{className:"px-1 py-2 relative","data-matrix-id":"src/pages/InvoicingPage.tsx:788:20","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"788","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-1%20py-2%20relative%22%7D",children:[a.jsx("button",{onClick:m=>{m.stopPropagation(),K(va===e.id?null:e.id)},className:"p-1 hover:bg-neutral-100 rounded","data-matrix-id":"src/pages/InvoicingPage.tsx:789:22","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"789","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22p-1%20hover%3Abg-neutral-100%20rounded%22%7D",children:a.jsx(Ct,{className:"w-3.5 h-3.5 text-neutral-400","data-matrix-id":"src/pages/InvoicingPage.tsx:793:24","data-matrix-name":"MoreHorizontal","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"793","data-component-file":"InvoicingPage.tsx","data-component-name":"MoreHorizontal","data-component-content":"%7B%22className%22%3A%22w-3.5%20h-3.5%20text-neutral-400%22%7D"})}),va===e.id&&a.jsxs("div",{ref:w,className:"absolute right-0 mt-1 w-52 bg-white rounded-xl shadow-lg border border-neutral-100 py-1 z-20","data-matrix-id":"src/pages/InvoicingPage.tsx:796:24","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"796","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20right-0%20mt-1%20w-52%20bg-white%20rounded-xl%20shadow-lg%20border%20border-neutral-100%20py-1%20z-20%22%7D",children:[a.jsxs("button",{onClick:m=>{m.stopPropagation(),aa(e),K(null)},className:"w-full flex items-center gap-2 px-4 py-2 text-left text-sm text-neutral-700 hover:bg-neutral-50","data-matrix-id":"src/pages/InvoicingPage.tsx:797:26","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"797","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20flex%20items-center%20gap-2%20px-4%20py-2%20text-left%20text-sm%20text-neutral-700%20hover%3Abg-neutral-50%22%7D",children:[a.jsx(St,{className:"w-4 h-4","data-matrix-id":"src/pages/InvoicingPage.tsx:798:28","data-matrix-name":"Eye","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"798","data-component-file":"InvoicingPage.tsx","data-component-name":"Eye","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"})," View Invoice"]}),a.jsxs("button",{onClick:m=>{m.stopPropagation(),Va(e)},className:"w-full flex items-center gap-2 px-4 py-2 text-left text-sm text-neutral-700 hover:bg-neutral-50","data-matrix-id":"src/pages/InvoicingPage.tsx:800:26","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"800","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20flex%20items-center%20gap-2%20px-4%20py-2%20text-left%20text-sm%20text-neutral-700%20hover%3Abg-neutral-50%22%7D",children:[a.jsx(ut,{className:"w-4 h-4","data-matrix-id":"src/pages/InvoicingPage.tsx:801:28","data-matrix-name":"Printer","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"801","data-component-file":"InvoicingPage.tsx","data-component-name":"Printer","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"})," Download PDF"]}),a.jsxs("button",{onClick:m=>{m.stopPropagation(),za(e)},className:"w-full flex items-center gap-2 px-4 py-2 text-left text-sm text-neutral-700 hover:bg-neutral-50","data-matrix-id":"src/pages/InvoicingPage.tsx:803:26","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"803","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20flex%20items-center%20gap-2%20px-4%20py-2%20text-left%20text-sm%20text-neutral-700%20hover%3Abg-neutral-50%22%7D",children:[a.jsx(kt,{className:"w-4 h-4","data-matrix-id":"src/pages/InvoicingPage.tsx:804:28","data-matrix-name":"Copy","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"804","data-component-file":"InvoicingPage.tsx","data-component-name":"Copy","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"})," Duplicate Invoice"]}),e.status==="draft"&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:m=>{m.stopPropagation(),qa(e)},className:"w-full flex items-center gap-2 px-4 py-2 text-left text-sm text-blue-600 hover:bg-neutral-100","data-matrix-id":"src/pages/InvoicingPage.tsx:808:30","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"808","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20flex%20items-center%20gap-2%20px-4%20py-2%20text-left%20text-sm%20text-blue-600%20hover%3Abg-neutral-100%22%7D",children:[a.jsx(Ha,{className:"w-4 h-4","data-matrix-id":"src/pages/InvoicingPage.tsx:809:32","data-matrix-name":"Mail","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"809","data-component-file":"InvoicingPage.tsx","data-component-name":"Mail","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"})," Send to Client"]}),a.jsxs("button",{onClick:m=>{m.stopPropagation(),Oa(e.id,"sent")},className:"w-full flex items-center gap-2 px-4 py-2 text-left text-sm text-neutral-700 hover:bg-neutral-50","data-matrix-id":"src/pages/InvoicingPage.tsx:811:30","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"811","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20flex%20items-center%20gap-2%20px-4%20py-2%20text-left%20text-sm%20text-neutral-700%20hover%3Abg-neutral-50%22%7D",children:[a.jsx(wa,{className:"w-4 h-4","data-matrix-id":"src/pages/InvoicingPage.tsx:812:32","data-matrix-name":"Send","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"812","data-component-file":"InvoicingPage.tsx","data-component-name":"Send","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"})," Mark as Sent"]})]}),(e.status==="sent"||e.status==="draft")&&a.jsxs("button",{onClick:m=>{m.stopPropagation(),Ua(e)},className:"w-full flex items-center gap-2 px-4 py-2 text-left text-sm text-neutral-900 hover:bg-neutral-100","data-matrix-id":"src/pages/InvoicingPage.tsx:817:28","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"817","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20flex%20items-center%20gap-2%20px-4%20py-2%20text-left%20text-sm%20text-neutral-900%20hover%3Abg-neutral-100%22%7D",children:[a.jsx(Ta,{className:"w-4 h-4","data-matrix-id":"src/pages/InvoicingPage.tsx:818:30","data-matrix-name":"CreditCard","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"818","data-component-file":"InvoicingPage.tsx","data-component-name":"CreditCard","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"})," Record Payment"]}),a.jsx("div",{className:"border-t border-neutral-100 my-1","data-matrix-id":"src/pages/InvoicingPage.tsx:821:26","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"821","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22border-t%20border-neutral-100%20my-1%22%7D"}),a.jsxs("button",{onClick:m=>{m.stopPropagation(),K(null),E(e.id)},className:"w-full flex items-center gap-2 px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50","data-matrix-id":"src/pages/InvoicingPage.tsx:822:26","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"822","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20flex%20items-center%20gap-2%20px-4%20py-2%20text-left%20text-sm%20text-red-600%20hover%3Abg-red-50%22%7D",children:[a.jsx($a,{className:"w-4 h-4","data-matrix-id":"src/pages/InvoicingPage.tsx:823:28","data-matrix-name":"Trash2","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"823","data-component-file":"InvoicingPage.tsx","data-component-name":"Trash2","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"})," Delete Invoice"]})]})]})]},e.id)})})]})}):a.jsxs("div",{className:"space-y-4","data-matrix-id":"src/pages/InvoicingPage.tsx:836:8","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"836","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-4%22%7D",children:[(()=>{const e={};return la.forEach(p=>{var m;const u=((m=p.client)==null?void 0:m.name)||"Unassigned";e[u]||(e[u]=[]),e[u].push(p)}),Object.keys(e).sort((p,u)=>p==="Unassigned"?1:u==="Unassigned"?-1:p.localeCompare(u)).map(p=>{const u=e[p],m=u.reduce((N,g)=>N+Number(g.total||0),0);return a.jsxs("div",{className:"bg-white rounded-2xl border border-neutral-100 overflow-hidden","data-matrix-id":"src/pages/InvoicingPage.tsx:849:16","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"849","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-white%20rounded-2xl%20border%20border-neutral-100%20overflow-hidden%22%7D",children:[a.jsxs("button",{onClick:()=>s(p),className:"w-full flex items-center justify-between px-6 py-4 bg-neutral-50 hover:bg-neutral-100 transition-colors","data-matrix-id":"src/pages/InvoicingPage.tsx:850:18","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"850","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20flex%20items-center%20justify-between%20px-6%20py-4%20bg-neutral-50%20hover%3Abg-neutral-100%20transition-colors%22%7D",children:[a.jsxs("div",{className:"flex items-center gap-3","data-matrix-id":"src/pages/InvoicingPage.tsx:854:20","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"854","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-3%22%7D",children:[Na.has(p)?a.jsx(At,{className:"w-5 h-5 text-neutral-500","data-matrix-id":"src/pages/InvoicingPage.tsx:855:57","data-matrix-name":"ChevronDown","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"855","data-component-file":"InvoicingPage.tsx","data-component-name":"ChevronDown","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-neutral-500%22%7D"}):a.jsx(it,{className:"w-5 h-5 text-neutral-500","data-matrix-id":"src/pages/InvoicingPage.tsx:855:112","data-matrix-name":"ChevronRight","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"855","data-component-file":"InvoicingPage.tsx","data-component-name":"ChevronRight","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-neutral-500%22%7D"}),a.jsx("span",{className:"font-semibold text-neutral-900","data-matrix-id":"src/pages/InvoicingPage.tsx:856:22","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"856","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-neutral-900%22%7D",children:p}),a.jsxs("span",{className:"text-sm text-neutral-500","data-matrix-id":"src/pages/InvoicingPage.tsx:857:22","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"857","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-sm%20text-neutral-500%22%7D",children:["(",u.length," invoice",u.length!==1?"s":"",")"]})]}),a.jsx("span",{className:"font-semibold text-neutral-900","data-matrix-id":"src/pages/InvoicingPage.tsx:859:20","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"859","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-neutral-900%22%7D",children:q(m)})]}),Na.has(p)&&a.jsx("div",{className:"divide-y divide-neutral-100","data-matrix-id":"src/pages/InvoicingPage.tsx:862:20","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"862","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22divide-y%20divide-neutral-100%22%7D",children:u.map(N=>{var g;return a.jsxs("div",{onClick:()=>aa(N),className:"flex items-center gap-4 px-6 py-4 hover:bg-neutral-50 cursor-pointer","data-matrix-id":"src/pages/InvoicingPage.tsx:864:24","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"864","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22flex%20items-center%20gap-4%20px-6%20py-4%20hover%3Abg-neutral-50%20cursor-pointer%22%7D",children:[a.jsxs("div",{className:"flex-1","data-matrix-id":"src/pages/InvoicingPage.tsx:869:26","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"869","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-1%22%7D",children:[a.jsx("p",{className:"font-medium text-neutral-900","data-matrix-id":"src/pages/InvoicingPage.tsx:870:28","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"870","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22font-medium%20text-neutral-900%22%7D",children:N.invoice_number}),a.jsxs("p",{className:"text-sm text-neutral-500","data-matrix-id":"src/pages/InvoicingPage.tsx:871:28","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"871","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-neutral-500%22%7D",children:[((g=N.project)==null?void 0:g.name)||"No project","  ",new Date(N.created_at||"").toLocaleDateString()]})]}),a.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${Aa(N.status)}`,"data-matrix-id":"src/pages/InvoicingPage.tsx:875:26","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"875","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:N.status||"draft"}),a.jsx("span",{className:"font-medium text-neutral-900 w-28 text-right","data-matrix-id":"src/pages/InvoicingPage.tsx:878:26","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"878","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-medium%20text-neutral-900%20w-28%20text-right%22%7D",children:q(N.total)}),a.jsx("span",{className:"text-sm text-neutral-500 w-24","data-matrix-id":"src/pages/InvoicingPage.tsx:879:26","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"879","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-sm%20text-neutral-500%20w-24%22%7D",children:N.due_date?new Date(N.due_date).toLocaleDateString():"-"}),a.jsx(it,{className:"w-4 h-4 text-neutral-400","data-matrix-id":"src/pages/InvoicingPage.tsx:882:26","data-matrix-name":"ChevronRight","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"882","data-component-file":"InvoicingPage.tsx","data-component-name":"ChevronRight","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20text-neutral-400%22%7D"})]},N.id)})})]},p)})})(),la.length===0&&a.jsx("div",{className:"text-center py-12 text-neutral-500 bg-white rounded-2xl border border-neutral-100","data-matrix-id":"src/pages/InvoicingPage.tsx:892:12","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"892","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%20py-12%20text-neutral-500%20bg-white%20rounded-2xl%20border%20border-neutral-100%22%7D",children:"No invoices found"})]}),ua&&a.jsx(Yt,{clients:S,projects:T,companyId:(n==null?void 0:n.company_id)||"",onClose:()=>W(!1),onSave:()=>{M(),W(!1)},"data-matrix-id":"src/pages/InvoicingPage.tsx:899:8","data-matrix-name":"InvoiceModal","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"899","data-component-file":"InvoicingPage.tsx","data-component-name":"InvoiceModal","data-component-content":"%7B%22clients%22%3A%22%5BIdentifier%5D%22%2C%22projects%22%3A%22%5BIdentifier%5D%22%2C%22companyId%22%3A%22%5BLogicalExpression%5D%22%2C%22onClose%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22onSave%22%3A%22%5BArrowFunctionExpression%5D%22%7D"}),ta&&J&&a.jsx(Ht,{invoice:J,onClose:()=>{O(!1),z(null)},onSave:async e=>{var u;const i=(J.amount_paid||0)+e.amount,p=i>=J.total?"paid":"sent";if(await ma.updateInvoice(J.id,{amount_paid:i,status:p,payment_date:e.date,payment_method:e.method}),n!=null&&n.company_id){const m=((u=S.find(g=>g.id===J.client_id))==null?void 0:u.name)||"Client",N=q(e.amount);p==="paid"?Ea.invoicePaid(n.company_id,J.invoice_number,m,N,J.id):Ea.paymentReceived(n.company_id,J.invoice_number,m,N,J.id)}M(),O(!1),z(null),P("Payment recorded successfully","success")},"data-matrix-id":"src/pages/InvoicingPage.tsx:910:8","data-matrix-name":"PaymentModal","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"910","data-component-file":"InvoicingPage.tsx","data-component-name":"PaymentModal","data-component-content":"%7B%22invoice%22%3A%22%5BIdentifier%5D%22%2C%22onClose%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22onSave%22%3A%22%5BArrowFunctionExpression%5D%22%7D"}),Y&&a.jsx(Xt,{clients:S,invoices:f,onClose:()=>ea(!1),onSave:async(e,i)=>{var p;for(const u of e){const m=f.find(N=>N.id===u.invoiceId);if(m){const N=(m.amount_paid||0)+u.amount,g=N>=m.total?"paid":m.status;if(await ma.updateInvoice(u.invoiceId,{amount_paid:N,status:g,payment_date:i.date,payment_method:i.method}),n!=null&&n.company_id){const ca=((p=S.find(Da=>Da.id===m.client_id))==null?void 0:p.name)||"Client",ya=q(u.amount);g==="paid"?Ea.invoicePaid(n.company_id,m.invoice_number,ca,ya,m.id):Ea.paymentReceived(n.company_id,m.invoice_number,ca,ya,m.id)}}}M(),ea(!1),P("Payment recorded successfully","success")},"data-matrix-id":"src/pages/InvoicingPage.tsx:944:8","data-matrix-name":"MakePaymentModal","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"944","data-component-file":"InvoicingPage.tsx","data-component-name":"MakePaymentModal","data-component-content":"%7B%22clients%22%3A%22%5BIdentifier%5D%22%2C%22invoices%22%3A%22%5BIdentifier%5D%22%2C%22onClose%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22onSave%22%3A%22%5BArrowFunctionExpression%5D%22%7D"}),Q&&a.jsx(Gt,{invoice:Q,clients:S,projects:T,companyId:(n==null?void 0:n.company_id)||"",company:oa,onClose:()=>aa(null),onUpdate:()=>{M()},getStatusColor:Aa,formatCurrency:q,"data-matrix-id":"src/pages/InvoicingPage.tsx:983:8","data-matrix-name":"InvoiceDetailView","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"983","data-component-file":"InvoicingPage.tsx","data-component-name":"InvoiceDetailView","data-component-content":"%7B%22invoice%22%3A%22%5BIdentifier%5D%22%2C%22clients%22%3A%22%5BIdentifier%5D%22%2C%22projects%22%3A%22%5BIdentifier%5D%22%2C%22companyId%22%3A%22%5BLogicalExpression%5D%22%2C%22company%22%3A%22%5BIdentifier%5D%22%2C%22onClose%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22onUpdate%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22getStatusColor%22%3A%22%5BIdentifier%5D%22%2C%22formatCurrency%22%3A%22%5BIdentifier%5D%22%7D"})]}):a.jsx("div",{className:"p-12 text-center","data-matrix-id":"src/pages/InvoicingPage.tsx:452:6","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"452","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-12%20text-center%22%7D",children:a.jsx("p",{className:"text-neutral-500","data-matrix-id":"src/pages/InvoicingPage.tsx:453:8","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"453","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-neutral-500%22%7D",children:"Unable to load invoices. Please log in again."})})}function Yt({clients:n,projects:I,companyId:y,onClose:P,onSave:d}){const[f,C]=o.useState(""),[S,v]=o.useState(""),[T,U]=o.useState(""),[V,da]=o.useState("0"),[pa,G]=o.useState(""),[x,j]=o.useState("manual"),[sa,D]=o.useState(""),[h,X]=o.useState([]),[ua,W]=o.useState(["manual","milestone","percentage","time_materials","fixed_fee"]),[va,K]=o.useState(!1),[ta,O]=o.useState([]),[Y,ea]=o.useState(new Map),[J,z]=o.useState(!1),[Q,aa]=o.useState(!1),[c,b]=o.useState("monthly"),R=[{id:"manual",name:"Manual Invoice",description:"Enter a specific dollar amount"},{id:"milestone",name:"By Milestone",description:"Bill entire task budget"},{id:"percentage",name:"By Percentage",description:"Bill % of task budget"},{id:"time_materials",name:"Time & Materials",description:"Bill hours and expenses"},{id:"fixed_fee",name:"Fixed Fee",description:"Bill based on project tasks"}],na=(s,A)=>{const l=new Date(A);switch(s){case"weekly":l.setDate(l.getDate()+7);break;case"bi-weekly":l.setDate(l.getDate()+14);break;case"monthly":l.setMonth(l.getMonth()+1);break;case"quarterly":l.setMonth(l.getMonth()+3);break;case"yearly":l.setFullYear(l.getFullYear()+1);break;default:l.setMonth(l.getMonth()+1)}return l};o.useEffect(()=>{$()},[y]),o.useEffect(()=>{S&&(x==="milestone"||x==="percentage")&&ga()},[S,x]);async function $(){try{const{data:s}=await Ia.from("invoice_settings").select("default_calculator, enabled_calculators").eq("company_id",y).single();s&&(j(s.default_calculator||"manual"),W(s.enabled_calculators||R.map(l=>l.id)));const{data:A}=await Ia.from("invoice_pdf_templates").select("id, name, is_default").eq("company_id",y).order("is_default",{ascending:!1});if(A&&A.length>0){X(A);const l=A.find(E=>E.is_default);l&&D(l.id)}}catch(s){console.error("Failed to load settings:",s)}}async function ga(){if(S){z(!0);try{const s=await ma.getTasksWithBilling(S);O(s)}catch(s){console.error("Failed to load tasks:",s)}z(!1)}}const ba=o.useMemo(()=>{if(x==="milestone"||x==="percentage"){let s=0;return Y.forEach((A,l)=>{const E=ta.find(ra=>ra.id===l);if(E){const ra=E.total_budget||E.estimated_fees||0,w=100-(E.billed_percentage||0);if(A.billingType==="milestone")s+=ra*w/100;else{const M=Math.min(A.percentageToBill,w);s+=ra*M/100}}}),s}return parseFloat(T)||0},[x,Y,ta,T]),ha=ba+(parseFloat(V)||0),Na=(s,A)=>{var E;const l=new Map(Y);l.has(s)&&((E=l.get(s))==null?void 0:E.billingType)===A?l.delete(s):l.set(s,{billingType:A,percentageToBill:A==="milestone"?100:10}),ea(l)},Ba=(s,A)=>{const l=new Map(Y),E=l.get(s);E&&l.set(s,{...E,percentageToBill:A}),ea(l)},oa=async s=>{if(s.preventDefault(),!!f){if((x==="milestone"||x==="percentage")&&Y.size===0){alert("Please select at least one task to bill");return}if(x==="milestone"||x==="percentage"){const A=ta.find(l=>Y.has(l.id)&&l.billing_mode&&l.billing_mode!=="unset"&&l.billing_mode!==x);if(A){alert(`Cannot bill: Task "${A.name}" is locked to ${A.billing_mode} billing mode`);return}}K(!0);try{let A=null;if(x==="milestone"||x==="percentage"){const l=Array.from(Y.entries()).map(([E,ra])=>{const w=ta.find(fa=>fa.id===E),M=(w==null?void 0:w.total_budget)||(w==null?void 0:w.estimated_fees)||0,H=100-((w==null?void 0:w.billed_percentage)||0);let _,Pa;return ra.billingType==="milestone"?(_=H,Pa=M*H/100):(_=Math.min(ra.percentageToBill,H),Pa=M*_/100),{taskId:E,billingType:ra.billingType,percentageToBill:_,amountToBill:Pa,totalBudget:M,previousBilledPercentage:(w==null?void 0:w.billed_percentage)||0,previousBilledAmount:(w==null?void 0:w.billed_amount)||0}});A=await ma.createInvoiceWithTaskBilling({company_id:y,client_id:f,project_id:S||null,invoice_number:`INV-${Date.now().toString().slice(-6)}`,subtotal:ba,tax_amount:parseFloat(V)||0,total:ha,due_date:pa||null,status:"draft",calculator_type:x,pdf_template_id:sa||null},l)}else A=await ma.createInvoice({company_id:y,client_id:f,project_id:S||null,invoice_number:`INV-${Date.now().toString().slice(-6)}`,subtotal:parseFloat(T),tax_amount:parseFloat(V)||0,total:ha,due_date:pa||null,status:"draft",calculator_type:x,pdf_template_id:sa||null});if(Q&&A){const l=na(c,new Date);await lt.create({company_id:y,client_id:f,project_id:S||void 0,template_invoice_id:A.id,frequency:c,next_run_date:l.toISOString().split("T")[0],is_active:!0})}d()}catch(A){console.error("Failed to create invoice:",A)}finally{K(!1)}}},ia=s=>s%1===0?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(s):new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s);return a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4","data-matrix-id":"src/pages/InvoicingPage.tsx:1262:4","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1262","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22fixed%20inset-0%20bg-black%2F50%20flex%20items-center%20justify-center%20z-50%20p-4%22%7D",children:a.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[92vh] overflow-hidden flex flex-col",style:{boxShadow:"var(--shadow-elevated)"},"data-matrix-id":"src/pages/InvoicingPage.tsx:1263:6","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1263","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-white%20rounded-xl%20w-full%20max-w-2xl%20max-h-%5B92vh%5D%20overflow-hidden%20flex%20flex-col%22%2C%22style%22%3A%7B%22boxShadow%22%3A%22var(--shadow-elevated)%22%7D%7D",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 sm:py-4 border-b border-neutral-100 flex-shrink-0","data-matrix-id":"src/pages/InvoicingPage.tsx:1264:8","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1264","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20px-4%20sm%3Apx-5%20py-3%20sm%3Apy-4%20border-b%20border-neutral-100%20flex-shrink-0%22%7D",children:[a.jsx("h2",{className:"text-base sm:text-lg font-semibold text-neutral-900","data-matrix-id":"src/pages/InvoicingPage.tsx:1265:10","data-matrix-name":"h2","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1265","data-component-file":"InvoicingPage.tsx","data-component-name":"h2","data-component-content":"%7B%22className%22%3A%22text-base%20sm%3Atext-lg%20font-semibold%20text-neutral-900%22%7D",children:"Create Invoice"}),a.jsx("button",{onClick:P,className:"p-1.5 hover:bg-neutral-100 rounded-lg transition-colors","data-matrix-id":"src/pages/InvoicingPage.tsx:1266:10","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1266","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22p-1.5%20hover%3Abg-neutral-100%20rounded-lg%20transition-colors%22%7D",children:a.jsx(Ca,{className:"w-4 h-4","data-matrix-id":"src/pages/InvoicingPage.tsx:1266:104","data-matrix-name":"X","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1266","data-component-file":"InvoicingPage.tsx","data-component-name":"X","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"})})]}),a.jsxs("form",{id:"invoice-form",onSubmit:oa,className:"flex-1 overflow-y-auto px-4 sm:px-5 py-4 space-y-3","data-matrix-id":"src/pages/InvoicingPage.tsx:1268:8","data-matrix-name":"form","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1268","data-component-file":"InvoicingPage.tsx","data-component-name":"form","data-component-content":"%7B%22id%22%3A%22invoice-form%22%2C%22onSubmit%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22flex-1%20overflow-y-auto%20px-4%20sm%3Apx-5%20py-4%20space-y-3%22%7D",children:[a.jsxs("div",{"data-matrix-id":"src/pages/InvoicingPage.tsx:1270:10","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1270","data-component-file":"InvoicingPage.tsx","data-component-name":"div",children:[a.jsx("label",{className:"block text-xs font-medium text-neutral-600 mb-1.5","data-matrix-id":"src/pages/InvoicingPage.tsx:1271:12","data-matrix-name":"label","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1271","data-component-file":"InvoicingPage.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-xs%20font-medium%20text-neutral-600%20mb-1.5%22%7D",children:"Invoice Type"}),a.jsx("div",{className:"grid grid-cols-2 gap-2","data-matrix-id":"src/pages/InvoicingPage.tsx:1272:12","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1272","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-2%20gap-2%22%7D",children:R.filter(s=>ua.includes(s.id)).map(s=>a.jsxs("label",{className:`p-2.5 border rounded-lg cursor-pointer transition-colors ${x===s.id?"border-[#476E66] bg-[#476E66]/5 text-[#476E66]":"border-neutral-200 hover:border-neutral-300"}`,style:x!==s.id?{boxShadow:"var(--shadow-sm)"}:void 0,"data-matrix-id":"src/pages/InvoicingPage.tsx:1274:16","data-matrix-name":"label","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1274","data-component-file":"InvoicingPage.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%2C%22style%22%3A%22%5BConditionalExpression%5D%22%7D",children:[a.jsx("input",{type:"radio",name:"calculatorType",value:s.id,checked:x===s.id,onChange:()=>j(s.id),className:"sr-only","data-matrix-id":"src/pages/InvoicingPage.tsx:1283:18","data-matrix-name":"input","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1283","data-component-file":"InvoicingPage.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22radio%22%2C%22name%22%3A%22calculatorType%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22checked%22%3A%22%5BBinaryExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22sr-only%22%7D"}),a.jsx("p",{className:`font-medium text-sm ${x===s.id?"text-[#476E66]":"text-neutral-900"}`,"data-matrix-id":"src/pages/InvoicingPage.tsx:1291:18","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1291","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:s.name}),a.jsx("p",{className:`text-xs ${x===s.id?"text-[#476E66]/70":"text-neutral-500"}`,"data-matrix-id":"src/pages/InvoicingPage.tsx:1292:18","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1292","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:s.description})]},s.id))})]}),a.jsxs("div",{"data-matrix-id":"src/pages/InvoicingPage.tsx:1298:10","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1298","data-component-file":"InvoicingPage.tsx","data-component-name":"div",children:[a.jsx("label",{className:"block text-xs font-medium text-neutral-600 mb-1.5","data-matrix-id":"src/pages/InvoicingPage.tsx:1299:12","data-matrix-name":"label","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1299","data-component-file":"InvoicingPage.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-xs%20font-medium%20text-neutral-600%20mb-1.5%22%7D",children:"Client *"}),a.jsxs("select",{value:f,onChange:s=>C(s.target.value),className:"w-full h-11 px-3 py-2 rounded-lg border border-neutral-200 focus:ring-1 focus:ring-[#476E66] focus:border-[#476E66] outline-none text-sm",required:!0,"data-matrix-id":"src/pages/InvoicingPage.tsx:1300:12","data-matrix-name":"select","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1300","data-component-file":"InvoicingPage.tsx","data-component-name":"select","data-component-content":"%7B%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20h-11%20px-3%20py-2%20rounded-lg%20border%20border-neutral-200%20focus%3Aring-1%20focus%3Aring-%5B%23476E66%5D%20focus%3Aborder-%5B%23476E66%5D%20outline-none%20text-sm%22%2C%22required%22%3Atrue%7D",children:[a.jsx("option",{value:"","data-matrix-id":"src/pages/InvoicingPage.tsx:1301:14","data-matrix-name":"option","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1301","data-component-file":"InvoicingPage.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22%22%7D",children:"Select a client"}),n.map(s=>a.jsx("option",{value:s.id,"data-matrix-id":"src/pages/InvoicingPage.tsx:1302:32","data-matrix-name":"option","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1302","data-component-file":"InvoicingPage.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22%5BMemberExpression%5D%22%7D",children:s.name},s.id))]})]}),a.jsxs("div",{"data-matrix-id":"src/pages/InvoicingPage.tsx:1305:10","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1305","data-component-file":"InvoicingPage.tsx","data-component-name":"div",children:[a.jsxs("label",{className:"block text-xs font-medium text-neutral-600 mb-1.5","data-matrix-id":"src/pages/InvoicingPage.tsx:1306:12","data-matrix-name":"label","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1306","data-component-file":"InvoicingPage.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-xs%20font-medium%20text-neutral-600%20mb-1.5%22%7D",children:["Project ",(x==="milestone"||x==="percentage")&&"*"]}),a.jsxs("select",{value:S,onChange:s=>{v(s.target.value),ea(new Map)},className:"w-full h-11 px-3 py-2 rounded-lg border border-neutral-200 focus:ring-1 focus:ring-[#476E66] focus:border-[#476E66] outline-none text-sm",required:x==="milestone"||x==="percentage","data-matrix-id":"src/pages/InvoicingPage.tsx:1307:12","data-matrix-name":"select","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1307","data-component-file":"InvoicingPage.tsx","data-component-name":"select","data-component-content":"%7B%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20h-11%20px-3%20py-2%20rounded-lg%20border%20border-neutral-200%20focus%3Aring-1%20focus%3Aring-%5B%23476E66%5D%20focus%3Aborder-%5B%23476E66%5D%20outline-none%20text-sm%22%2C%22required%22%3A%22%5BLogicalExpression%5D%22%7D",children:[a.jsx("option",{value:"","data-matrix-id":"src/pages/InvoicingPage.tsx:1313:14","data-matrix-name":"option","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1313","data-component-file":"InvoicingPage.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22%22%7D",children:"Select a project"}),I.filter(s=>s.client_id===f).map(s=>a.jsx("option",{value:s.id,"data-matrix-id":"src/pages/InvoicingPage.tsx:1314:71","data-matrix-name":"option","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1314","data-component-file":"InvoicingPage.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22%5BMemberExpression%5D%22%7D",children:s.name},s.id))]})]}),(x==="milestone"||x==="percentage")&&S&&a.jsxs("div",{"data-matrix-id":"src/pages/InvoicingPage.tsx:1320:12","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1320","data-component-file":"InvoicingPage.tsx","data-component-name":"div",children:[a.jsxs("label",{className:"block text-xs font-medium text-neutral-600 mb-1.5","data-matrix-id":"src/pages/InvoicingPage.tsx:1321:14","data-matrix-name":"label","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1321","data-component-file":"InvoicingPage.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-xs%20font-medium%20text-neutral-600%20mb-1.5%22%7D",children:["Select Tasks to Bill ",x==="milestone"?"(Full Budget)":"(By Percentage)"]}),J?a.jsx("div",{className:"text-center py-4 text-neutral-500 text-sm","data-matrix-id":"src/pages/InvoicingPage.tsx:1325:16","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1325","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%20py-4%20text-neutral-500%20text-sm%22%7D",children:"Loading tasks..."}):ta.length===0?a.jsx("div",{className:"text-center py-4 text-neutral-500 text-sm","data-matrix-id":"src/pages/InvoicingPage.tsx:1327:16","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1327","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%20py-4%20text-neutral-500%20text-sm%22%7D",children:"No tasks found for this project"}):a.jsx("div",{className:"rounded-lg overflow-hidden overflow-x-auto",style:{boxShadow:"var(--shadow-card)"},"data-matrix-id":"src/pages/InvoicingPage.tsx:1329:16","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1329","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22rounded-lg%20overflow-hidden%20overflow-x-auto%22%2C%22style%22%3A%7B%22boxShadow%22%3A%22var(--shadow-card)%22%7D%7D",children:a.jsxs("table",{className:"w-full text-sm min-w-[500px]","data-matrix-id":"src/pages/InvoicingPage.tsx:1330:18","data-matrix-name":"table","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1330","data-component-file":"InvoicingPage.tsx","data-component-name":"table","data-component-content":"%7B%22className%22%3A%22w-full%20text-sm%20min-w-%5B500px%5D%22%7D",children:[a.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-100","data-matrix-id":"src/pages/InvoicingPage.tsx:1331:20","data-matrix-name":"thead","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1331","data-component-file":"InvoicingPage.tsx","data-component-name":"thead","data-component-content":"%7B%22className%22%3A%22bg-neutral-50%20border-b%20border-neutral-100%22%7D",children:a.jsxs("tr",{"data-matrix-id":"src/pages/InvoicingPage.tsx:1332:22","data-matrix-name":"tr","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1332","data-component-file":"InvoicingPage.tsx","data-component-name":"tr",children:[a.jsx("th",{className:"text-left px-1.5 py-1.5 text-xs font-medium text-neutral-600","data-matrix-id":"src/pages/InvoicingPage.tsx:1333:24","data-matrix-name":"th","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1333","data-component-file":"InvoicingPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-left%20px-1.5%20py-1.5%20text-xs%20font-medium%20text-neutral-600%22%7D",children:"Task"}),a.jsx("th",{className:"text-right px-1.5 py-1.5 text-xs font-medium text-neutral-600 w-20","data-matrix-id":"src/pages/InvoicingPage.tsx:1334:24","data-matrix-name":"th","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1334","data-component-file":"InvoicingPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-right%20px-1.5%20py-1.5%20text-xs%20font-medium%20text-neutral-600%20w-20%22%7D",children:"Budget"}),a.jsx("th",{className:"text-right px-1.5 py-1.5 text-xs font-medium text-neutral-600 w-20","data-matrix-id":"src/pages/InvoicingPage.tsx:1335:24","data-matrix-name":"th","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1335","data-component-file":"InvoicingPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-right%20px-1.5%20py-1.5%20text-xs%20font-medium%20text-neutral-600%20w-20%22%7D",children:"Billed"}),a.jsx("th",{className:"text-right px-1.5 py-1.5 text-xs font-medium text-neutral-600 w-24","data-matrix-id":"src/pages/InvoicingPage.tsx:1336:24","data-matrix-name":"th","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1336","data-component-file":"InvoicingPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-right%20px-1.5%20py-1.5%20text-xs%20font-medium%20text-neutral-600%20w-24%22%7D",children:"Remain"}),x==="percentage"&&a.jsx("th",{className:"text-center px-1.5 py-1.5 text-xs font-medium text-neutral-600 w-12","data-matrix-id":"src/pages/InvoicingPage.tsx:1338:26","data-matrix-name":"th","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1338","data-component-file":"InvoicingPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-center%20px-1.5%20py-1.5%20text-xs%20font-medium%20text-neutral-600%20w-12%22%7D",children:"%"}),a.jsx("th",{className:"text-center px-1.5 py-1.5 text-xs font-medium text-neutral-600 w-8","data-matrix-id":"src/pages/InvoicingPage.tsx:1340:24","data-matrix-name":"th","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1340","data-component-file":"InvoicingPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-center%20px-1.5%20py-1.5%20text-xs%20font-medium%20text-neutral-600%20w-8%22%7D",children:a.jsx("input",{type:"checkbox",className:"w-3.5 h-3.5 rounded border-neutral-300",disabled:!0,"data-matrix-id":"src/pages/InvoicingPage.tsx:1341:26","data-matrix-name":"input","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1341","data-component-file":"InvoicingPage.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22checkbox%22%2C%22className%22%3A%22w-3.5%20h-3.5%20rounded%20border-neutral-300%22%2C%22disabled%22%3Atrue%7D"})})]})}),a.jsx("tbody",{className:"divide-y divide-neutral-50","data-matrix-id":"src/pages/InvoicingPage.tsx:1345:20","data-matrix-name":"tbody","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1345","data-component-file":"InvoicingPage.tsx","data-component-name":"tbody","data-component-content":"%7B%22className%22%3A%22divide-y%20divide-neutral-50%22%7D",children:ta.map(s=>{const A=s.total_budget||s.estimated_fees||0,l=s.billed_percentage||0,E=100-l,ra=A*E/100,w=Y.has(s.id),M=Y.get(s.id),H=E<=0,_=s.billing_mode||"unset",Pa=_!=="unset",fa=Pa&&_!==x,la=H||fa;return a.jsxs("tr",{className:`${la?"bg-neutral-50 opacity-50":w?"bg-[#476E66]/5":"hover:bg-neutral-50/50"}`,title:fa?`Task locked to ${_} billing`:void 0,"data-matrix-id":"src/pages/InvoicingPage.tsx:1360:26","data-matrix-name":"tr","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1360","data-component-file":"InvoicingPage.tsx","data-component-name":"tr","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%2C%22title%22%3A%22%5BConditionalExpression%5D%22%7D",children:[a.jsxs("td",{className:"px-1.5 py-1.5","data-matrix-id":"src/pages/InvoicingPage.tsx:1365:28","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1365","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-1.5%20py-1.5%22%7D",children:[a.jsxs("div",{className:"flex items-center gap-1","data-matrix-id":"src/pages/InvoicingPage.tsx:1366:30","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1366","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-1%22%7D",children:[a.jsx("p",{className:"text-xs font-medium text-neutral-900 leading-tight","data-matrix-id":"src/pages/InvoicingPage.tsx:1367:32","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1367","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20font-medium%20text-neutral-900%20leading-tight%22%7D",children:s.name}),Pa&&a.jsx("span",{className:`text-[9px] px-1 py-0.5 rounded font-medium ${_==="time"?"bg-blue-100 text-blue-700":_==="percentage"?"bg-purple-100 text-purple-700":"bg-amber-100 text-amber-700"}`,"data-matrix-id":"src/pages/InvoicingPage.tsx:1369:34","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1369","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:_==="time"?"T&M":_==="percentage"?"%":"MS"})]}),l>0&&a.jsxs("p",{className:"text-xs text-neutral-500 mt-0.5","data-matrix-id":"src/pages/InvoicingPage.tsx:1379:32","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1379","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-neutral-500%20mt-0.5%22%7D",children:[l,"% billed"]})]}),a.jsx("td",{className:"px-1.5 py-1.5 text-right text-xs whitespace-nowrap","data-matrix-id":"src/pages/InvoicingPage.tsx:1382:28","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1382","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-1.5%20py-1.5%20text-right%20text-xs%20whitespace-nowrap%22%7D",children:ia(A)}),a.jsx("td",{className:"px-1.5 py-1.5 text-right text-xs text-neutral-500 whitespace-nowrap","data-matrix-id":"src/pages/InvoicingPage.tsx:1383:28","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1383","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-1.5%20py-1.5%20text-right%20text-xs%20text-neutral-500%20whitespace-nowrap%22%7D",children:ia(s.billed_amount||0)}),a.jsx("td",{className:"px-1.5 py-1.5 text-right","data-matrix-id":"src/pages/InvoicingPage.tsx:1384:28","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1384","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-1.5%20py-1.5%20text-right%22%7D",children:a.jsxs("div",{className:"flex items-center justify-end gap-0.5","data-matrix-id":"src/pages/InvoicingPage.tsx:1385:30","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1385","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-end%20gap-0.5%22%7D",children:[a.jsx("span",{className:"text-xs font-medium text-neutral-900 whitespace-nowrap","data-matrix-id":"src/pages/InvoicingPage.tsx:1386:32","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1386","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-xs%20font-medium%20text-neutral-900%20whitespace-nowrap%22%7D",children:ia(ra)}),a.jsxs("span",{className:"text-xs text-neutral-400","data-matrix-id":"src/pages/InvoicingPage.tsx:1387:32","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1387","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-xs%20text-neutral-400%22%7D",children:["(",E,"%)"]})]})}),x==="percentage"&&a.jsx("td",{className:"px-1.5 py-1.5 text-center","data-matrix-id":"src/pages/InvoicingPage.tsx:1391:30","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1391","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-1.5%20py-1.5%20text-center%22%7D",children:w&&!H&&a.jsx("input",{type:"number",min:"1",max:E,value:(M==null?void 0:M.percentageToBill)||10,onChange:Aa=>Ba(s.id,Math.min(parseFloat(Aa.target.value)||0,E)),className:"w-12 h-7 px-1 py-1 border border-neutral-200 rounded text-center text-xs focus:ring-1 focus:ring-[#476E66] focus:border-[#476E66] outline-none","data-matrix-id":"src/pages/InvoicingPage.tsx:1393:34","data-matrix-name":"input","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1393","data-component-file":"InvoicingPage.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22number%22%2C%22min%22%3A%221%22%2C%22max%22%3A%22%5BIdentifier%5D%22%2C%22value%22%3A%22%5BLogicalExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-12%20h-7%20px-1%20py-1%20border%20border-neutral-200%20rounded%20text-center%20text-xs%20focus%3Aring-1%20focus%3Aring-%5B%23476E66%5D%20focus%3Aborder-%5B%23476E66%5D%20outline-none%22%7D"})}),a.jsx("td",{className:"px-1.5 py-1.5 text-center","data-matrix-id":"src/pages/InvoicingPage.tsx:1404:28","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1404","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-1.5%20py-1.5%20text-center%22%7D",children:a.jsx("input",{type:"checkbox",checked:w,disabled:la,onChange:()=>Na(s.id,x),className:"w-3.5 h-3.5 text-[#476E66] rounded border-neutral-300 focus:ring-[#476E66]","data-matrix-id":"src/pages/InvoicingPage.tsx:1405:30","data-matrix-name":"input","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1405","data-component-file":"InvoicingPage.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22checkbox%22%2C%22checked%22%3A%22%5BIdentifier%5D%22%2C%22disabled%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-3.5%20h-3.5%20text-%5B%23476E66%5D%20rounded%20border-neutral-300%20focus%3Aring-%5B%23476E66%5D%22%7D"})})]},s.id)})})]})})]}),x!=="milestone"&&x!=="percentage"&&a.jsxs("div",{className:"grid grid-cols-2 gap-3","data-matrix-id":"src/pages/InvoicingPage.tsx:1425:12","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1425","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-2%20gap-3%22%7D",children:[a.jsxs("div",{"data-matrix-id":"src/pages/InvoicingPage.tsx:1426:14","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1426","data-component-file":"InvoicingPage.tsx","data-component-name":"div",children:[a.jsx("label",{className:"block text-xs font-medium text-neutral-600 mb-1.5","data-matrix-id":"src/pages/InvoicingPage.tsx:1427:16","data-matrix-name":"label","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1427","data-component-file":"InvoicingPage.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-xs%20font-medium%20text-neutral-600%20mb-1.5%22%7D",children:"Subtotal *"}),a.jsx("input",{type:"number",step:"0.01",value:T,onChange:s=>U(s.target.value),className:"w-full h-11 px-3 py-2 rounded-lg border border-neutral-200 focus:ring-1 focus:ring-[#476E66] focus:border-[#476E66] outline-none text-sm",required:!0,"data-matrix-id":"src/pages/InvoicingPage.tsx:1428:16","data-matrix-name":"input","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1428","data-component-file":"InvoicingPage.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22number%22%2C%22step%22%3A%220.01%22%2C%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20h-11%20px-3%20py-2%20rounded-lg%20border%20border-neutral-200%20focus%3Aring-1%20focus%3Aring-%5B%23476E66%5D%20focus%3Aborder-%5B%23476E66%5D%20outline-none%20text-sm%22%2C%22required%22%3Atrue%7D"})]}),a.jsxs("div",{"data-matrix-id":"src/pages/InvoicingPage.tsx:1430:14","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1430","data-component-file":"InvoicingPage.tsx","data-component-name":"div",children:[a.jsx("label",{className:"block text-xs font-medium text-neutral-600 mb-1.5","data-matrix-id":"src/pages/InvoicingPage.tsx:1431:16","data-matrix-name":"label","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1431","data-component-file":"InvoicingPage.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-xs%20font-medium%20text-neutral-600%20mb-1.5%22%7D",children:"Tax"}),a.jsx("input",{type:"number",step:"0.01",value:V,onChange:s=>da(s.target.value),className:"w-full h-11 px-3 py-2 rounded-lg border border-neutral-200 focus:ring-1 focus:ring-[#476E66] focus:border-[#476E66] outline-none text-sm","data-matrix-id":"src/pages/InvoicingPage.tsx:1432:16","data-matrix-name":"input","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1432","data-component-file":"InvoicingPage.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22number%22%2C%22step%22%3A%220.01%22%2C%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20h-11%20px-3%20py-2%20rounded-lg%20border%20border-neutral-200%20focus%3Aring-1%20focus%3Aring-%5B%23476E66%5D%20focus%3Aborder-%5B%23476E66%5D%20outline-none%20text-sm%22%7D"})]})]}),(x==="milestone"||x==="percentage")&&a.jsxs("div",{"data-matrix-id":"src/pages/InvoicingPage.tsx:1439:12","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1439","data-component-file":"InvoicingPage.tsx","data-component-name":"div",children:[a.jsx("label",{className:"block text-xs font-medium text-neutral-600 mb-1.5","data-matrix-id":"src/pages/InvoicingPage.tsx:1440:14","data-matrix-name":"label","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1440","data-component-file":"InvoicingPage.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-xs%20font-medium%20text-neutral-600%20mb-1.5%22%7D",children:"Tax Amount"}),a.jsx("input",{type:"number",step:"0.01",value:V,onChange:s=>da(s.target.value),className:"w-full h-11 px-3 py-2 rounded-lg border border-neutral-200 focus:ring-1 focus:ring-[#476E66] focus:border-[#476E66] outline-none text-sm","data-matrix-id":"src/pages/InvoicingPage.tsx:1441:14","data-matrix-name":"input","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1441","data-component-file":"InvoicingPage.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22number%22%2C%22step%22%3A%220.01%22%2C%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20h-11%20px-3%20py-2%20rounded-lg%20border%20border-neutral-200%20focus%3Aring-1%20focus%3Aring-%5B%23476E66%5D%20focus%3Aborder-%5B%23476E66%5D%20outline-none%20text-sm%22%7D"})]}),a.jsxs("div",{"data-matrix-id":"src/pages/InvoicingPage.tsx:1445:10","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1445","data-component-file":"InvoicingPage.tsx","data-component-name":"div",children:[a.jsx("label",{className:"block text-xs font-medium text-neutral-600 mb-1.5","data-matrix-id":"src/pages/InvoicingPage.tsx:1446:12","data-matrix-name":"label","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1446","data-component-file":"InvoicingPage.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-xs%20font-medium%20text-neutral-600%20mb-1.5%22%7D",children:"Due Date"}),a.jsx("input",{type:"date",value:pa,onChange:s=>G(s.target.value),className:"w-full h-11 px-3 py-2 rounded-lg border border-neutral-200 focus:ring-1 focus:ring-[#476E66] focus:border-[#476E66] outline-none text-sm","data-matrix-id":"src/pages/InvoicingPage.tsx:1447:12","data-matrix-name":"input","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1447","data-component-file":"InvoicingPage.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22date%22%2C%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20h-11%20px-3%20py-2%20rounded-lg%20border%20border-neutral-200%20focus%3Aring-1%20focus%3Aring-%5B%23476E66%5D%20focus%3Aborder-%5B%23476E66%5D%20outline-none%20text-sm%22%7D"})]}),h.length>0&&a.jsxs("div",{"data-matrix-id":"src/pages/InvoicingPage.tsx:1452:12","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1452","data-component-file":"InvoicingPage.tsx","data-component-name":"div",children:[a.jsx("label",{className:"block text-xs font-medium text-neutral-600 mb-1.5","data-matrix-id":"src/pages/InvoicingPage.tsx:1453:14","data-matrix-name":"label","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1453","data-component-file":"InvoicingPage.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-xs%20font-medium%20text-neutral-600%20mb-1.5%22%7D",children:"PDF Template"}),a.jsxs("select",{value:sa,onChange:s=>D(s.target.value),className:"w-full h-11 px-3 py-2 rounded-lg border border-neutral-200 focus:ring-1 focus:ring-[#476E66] focus:border-[#476E66] outline-none text-sm","data-matrix-id":"src/pages/InvoicingPage.tsx:1454:14","data-matrix-name":"select","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1454","data-component-file":"InvoicingPage.tsx","data-component-name":"select","data-component-content":"%7B%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20h-11%20px-3%20py-2%20rounded-lg%20border%20border-neutral-200%20focus%3Aring-1%20focus%3Aring-%5B%23476E66%5D%20focus%3Aborder-%5B%23476E66%5D%20outline-none%20text-sm%22%7D",children:[a.jsx("option",{value:"","data-matrix-id":"src/pages/InvoicingPage.tsx:1459:16","data-matrix-name":"option","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1459","data-component-file":"InvoicingPage.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22%22%7D",children:"Use default template"}),h.map(s=>a.jsxs("option",{value:s.id,"data-matrix-id":"src/pages/InvoicingPage.tsx:1461:18","data-matrix-name":"option","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1461","data-component-file":"InvoicingPage.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22%5BMemberExpression%5D%22%7D",children:[s.name," ",s.is_default?"(Default)":""]},s.id))]})]}),a.jsxs("div",{className:"rounded-lg p-2.5 bg-neutral-50",style:{boxShadow:"var(--shadow-sm)"},"data-matrix-id":"src/pages/InvoicingPage.tsx:1470:10","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1470","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22rounded-lg%20p-2.5%20bg-neutral-50%22%2C%22style%22%3A%7B%22boxShadow%22%3A%22var(--shadow-sm)%22%7D%7D",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer","data-matrix-id":"src/pages/InvoicingPage.tsx:1471:12","data-matrix-name":"label","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1471","data-component-file":"InvoicingPage.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%20cursor-pointer%22%7D",children:[a.jsx("input",{type:"checkbox",checked:Q,onChange:s=>aa(s.target.checked),className:"w-3.5 h-3.5 rounded border-neutral-300 text-[#476E66] focus:ring-[#476E66]","data-matrix-id":"src/pages/InvoicingPage.tsx:1472:14","data-matrix-name":"input","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1472","data-component-file":"InvoicingPage.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22checkbox%22%2C%22checked%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-3.5%20h-3.5%20rounded%20border-neutral-300%20text-%5B%23476E66%5D%20focus%3Aring-%5B%23476E66%5D%22%7D"}),a.jsxs("div",{className:"flex items-center gap-1.5","data-matrix-id":"src/pages/InvoicingPage.tsx:1478:14","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1478","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-1.5%22%7D",children:[a.jsx(Xa,{className:"w-3.5 h-3.5 text-neutral-500","data-matrix-id":"src/pages/InvoicingPage.tsx:1479:16","data-matrix-name":"Repeat","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1479","data-component-file":"InvoicingPage.tsx","data-component-name":"Repeat","data-component-content":"%7B%22className%22%3A%22w-3.5%20h-3.5%20text-neutral-500%22%7D"}),a.jsx("span",{className:"text-sm font-medium text-neutral-900","data-matrix-id":"src/pages/InvoicingPage.tsx:1480:16","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1480","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-sm%20font-medium%20text-neutral-900%22%7D",children:"Make this a recurring invoice"})]})]}),Q&&a.jsxs("div",{className:"mt-2 pl-5","data-matrix-id":"src/pages/InvoicingPage.tsx:1484:14","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1484","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mt-2%20pl-5%22%7D",children:[a.jsx("label",{className:"block text-xs font-medium text-neutral-600 mb-1","data-matrix-id":"src/pages/InvoicingPage.tsx:1485:16","data-matrix-name":"label","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1485","data-component-file":"InvoicingPage.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-xs%20font-medium%20text-neutral-600%20mb-1%22%7D",children:"Frequency"}),a.jsxs("select",{value:c,onChange:s=>b(s.target.value),className:"w-full h-10 px-3 py-2 rounded-lg border border-neutral-200 text-sm focus:ring-1 focus:ring-[#476E66] focus:border-[#476E66] outline-none","data-matrix-id":"src/pages/InvoicingPage.tsx:1486:16","data-matrix-name":"select","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1486","data-component-file":"InvoicingPage.tsx","data-component-name":"select","data-component-content":"%7B%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20h-10%20px-3%20py-2%20rounded-lg%20border%20border-neutral-200%20text-sm%20focus%3Aring-1%20focus%3Aring-%5B%23476E66%5D%20focus%3Aborder-%5B%23476E66%5D%20outline-none%22%7D",children:[a.jsx("option",{value:"weekly","data-matrix-id":"src/pages/InvoicingPage.tsx:1491:18","data-matrix-name":"option","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1491","data-component-file":"InvoicingPage.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22weekly%22%7D",children:"Weekly"}),a.jsx("option",{value:"bi-weekly","data-matrix-id":"src/pages/InvoicingPage.tsx:1492:18","data-matrix-name":"option","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1492","data-component-file":"InvoicingPage.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22bi-weekly%22%7D",children:"Bi-weekly"}),a.jsx("option",{value:"monthly","data-matrix-id":"src/pages/InvoicingPage.tsx:1493:18","data-matrix-name":"option","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1493","data-component-file":"InvoicingPage.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22monthly%22%7D",children:"Monthly"}),a.jsx("option",{value:"quarterly","data-matrix-id":"src/pages/InvoicingPage.tsx:1494:18","data-matrix-name":"option","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1494","data-component-file":"InvoicingPage.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22quarterly%22%7D",children:"Quarterly"}),a.jsx("option",{value:"yearly","data-matrix-id":"src/pages/InvoicingPage.tsx:1495:18","data-matrix-name":"option","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1495","data-component-file":"InvoicingPage.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22yearly%22%7D",children:"Yearly"})]}),a.jsx("p",{className:"text-xs text-neutral-500 mt-1 leading-relaxed","data-matrix-id":"src/pages/InvoicingPage.tsx:1497:16","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1497","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-neutral-500%20mt-1%20leading-relaxed%22%7D",children:"A new invoice will be automatically created based on this schedule."})]})]}),a.jsxs("div",{className:"p-3 bg-[#476E66] text-white rounded-lg space-y-1.5","data-matrix-id":"src/pages/InvoicingPage.tsx:1504:10","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1504","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-3%20bg-%5B%23476E66%5D%20text-white%20rounded-lg%20space-y-1.5%22%7D",children:[a.jsxs("div",{className:"flex justify-between text-xs text-white/70","data-matrix-id":"src/pages/InvoicingPage.tsx:1505:12","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1505","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20text-xs%20text-white%2F70%22%7D",children:[a.jsx("span",{"data-matrix-id":"src/pages/InvoicingPage.tsx:1506:14","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1506","data-component-file":"InvoicingPage.tsx","data-component-name":"span",children:"Subtotal"}),a.jsx("span",{className:"text-white","data-matrix-id":"src/pages/InvoicingPage.tsx:1507:14","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1507","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-white%22%7D",children:ia(ba)})]}),a.jsxs("div",{className:"flex justify-between text-xs text-white/70","data-matrix-id":"src/pages/InvoicingPage.tsx:1509:12","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1509","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20text-xs%20text-white%2F70%22%7D",children:[a.jsx("span",{"data-matrix-id":"src/pages/InvoicingPage.tsx:1510:14","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1510","data-component-file":"InvoicingPage.tsx","data-component-name":"span",children:"Tax"}),a.jsx("span",{className:"text-white","data-matrix-id":"src/pages/InvoicingPage.tsx:1511:14","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1511","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-white%22%7D",children:ia(parseFloat(V)||0)})]}),a.jsxs("div",{className:"flex justify-between text-base font-semibold border-t border-white/20 pt-1.5 mt-1.5","data-matrix-id":"src/pages/InvoicingPage.tsx:1513:12","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1513","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20text-base%20font-semibold%20border-t%20border-white%2F20%20pt-1.5%20mt-1.5%22%7D",children:[a.jsx("span",{"data-matrix-id":"src/pages/InvoicingPage.tsx:1514:14","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1514","data-component-file":"InvoicingPage.tsx","data-component-name":"span",children:"Total"}),a.jsx("span",{"data-matrix-id":"src/pages/InvoicingPage.tsx:1515:14","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1515","data-component-file":"InvoicingPage.tsx","data-component-name":"span",children:ia(ha)})]})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-2 px-4 sm:px-5 py-3 border-t border-neutral-100 flex-shrink-0 bg-neutral-50","data-matrix-id":"src/pages/InvoicingPage.tsx:1519:8","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1519","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-end%20gap-2%20px-4%20sm%3Apx-5%20py-3%20border-t%20border-neutral-100%20flex-shrink-0%20bg-neutral-50%22%7D",children:[a.jsx("button",{type:"button",onClick:P,className:"flex-1 sm:flex-none px-4 py-2 text-sm border border-neutral-200 rounded-lg hover:bg-white transition-colors font-medium","data-matrix-id":"src/pages/InvoicingPage.tsx:1520:10","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1520","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22type%22%3A%22button%22%2C%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22flex-1%20sm%3Aflex-none%20px-4%20py-2%20text-sm%20border%20border-neutral-200%20rounded-lg%20hover%3Abg-white%20transition-colors%20font-medium%22%7D",children:"Cancel"}),a.jsx("button",{type:"submit",form:"invoice-form",disabled:va,className:"flex-1 sm:flex-none px-6 py-2 text-sm bg-[#476E66] text-white rounded-lg hover:bg-[#3A5B54] transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed","data-matrix-id":"src/pages/InvoicingPage.tsx:1521:10","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1521","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22type%22%3A%22submit%22%2C%22form%22%3A%22invoice-form%22%2C%22disabled%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22flex-1%20sm%3Aflex-none%20px-6%20py-2%20text-sm%20bg-%5B%23476E66%5D%20text-white%20rounded-lg%20hover%3Abg-%5B%233A5B54%5D%20transition-colors%20font-medium%20disabled%3Aopacity-50%20disabled%3Acursor-not-allowed%22%7D",children:va?"Creating...":"Create Invoice"})]})]})})}function Zt({invoice:n,sentDate:I,formatCurrency:y}){var j,sa;const{showToast:P}=rt(),[d,f]=o.useState(45),[C,S]=o.useState(""),[v,T]=o.useState(!1),[U,V]=o.useState(!1),[da,pa]=o.useState(!1);o.useEffect(()=>{const D=I?new Date(I):new Date,h=new Date(D);h.setDate(h.getDate()+d),S(h.toISOString().split("T")[0])},[I,d]);const G=async()=>{var D;if(!((D=n.client)!=null&&D.email)){P("Client does not have an email address","error");return}V(!0);try{const{error:h}=await Ia.from("invoice_reminders").upsert({invoice_id:n.id,reminder_date:C,reminder_days:d,status:"scheduled",created_at:new Date().toISOString()},{onConflict:"invoice_id"});if(h)throw h;pa(!0),T(!1),P(`Payment reminder scheduled for ${new Date(C).toLocaleDateString()}`,"success")}catch(h){console.error("Failed to schedule reminder:",h),P((h==null?void 0:h.message)||"Failed to schedule reminder","error")}V(!1)},x=async()=>{var D;if(!((D=n.client)!=null&&D.email)){P("Client does not have an email address","error");return}V(!0);try{const X=await(await fetch("https://bqxnagmmegdbqrzhheip.supabase.co/functions/v1/send-payment-reminder",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJxeG5hZ21tZWdkYnFyemhoZWlwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2OTM5NTgsImV4cCI6MjA2ODI2OTk1OH0.LBb7KaCSs7LpsD9NZCOcartkcDIIALBIrpnYcv5Y0yY"},body:JSON.stringify({invoiceId:n.id,clientEmail:n.client.email,clientName:n.client.name,invoiceNumber:n.invoice_number,totalAmount:y(n.total),dueDate:n.due_date?new Date(n.due_date).toLocaleDateString():"N/A",portalUrl:`${window.location.origin}/invoice-view/${n.id}`})})).json();if(X.error)throw new Error(X.error);P("Payment reminder sent successfully","success"),T(!1)}catch(h){console.error("Failed to send reminder:",h),P((h==null?void 0:h.message)||"Failed to send reminder","error")}V(!1)};return n.status==="paid"||n.status==="draft"?null:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-amber-50 rounded-xl p-4 space-y-3 border border-amber-200","data-matrix-id":"src/pages/InvoicingPage.tsx:1646:6","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1646","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-amber-50%20rounded-xl%20p-4%20space-y-3%20border%20border-amber-200%22%7D",children:[a.jsxs("div",{className:"flex items-center gap-2","data-matrix-id":"src/pages/InvoicingPage.tsx:1647:8","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1647","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%22%7D",children:[a.jsx(Sa,{className:"w-4 h-4 text-amber-600","data-matrix-id":"src/pages/InvoicingPage.tsx:1648:10","data-matrix-name":"Bell","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1648","data-component-file":"InvoicingPage.tsx","data-component-name":"Bell","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20text-amber-600%22%7D"}),a.jsx("label",{className:"block text-xs font-medium text-amber-700","data-matrix-id":"src/pages/InvoicingPage.tsx:1649:10","data-matrix-name":"label","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1649","data-component-file":"InvoicingPage.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-xs%20font-medium%20text-amber-700%22%7D",children:"Payment Reminder"})]}),a.jsx("p",{className:"text-xs text-amber-600","data-matrix-id":"src/pages/InvoicingPage.tsx:1652:8","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1652","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-amber-600%22%7D",children:da?`Reminder scheduled for ${new Date(C).toLocaleDateString()}`:"Set up automatic reminder if payment not received"}),a.jsxs("button",{onClick:()=>T(!0),className:"w-full flex items-center justify-center gap-2 px-3 py-2 bg-amber-100 hover:bg-amber-200 text-amber-800 rounded-lg text-sm font-medium transition-colors","data-matrix-id":"src/pages/InvoicingPage.tsx:1659:8","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1659","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20flex%20items-center%20justify-center%20gap-2%20px-3%20py-2%20bg-amber-100%20hover%3Abg-amber-200%20text-amber-800%20rounded-lg%20text-sm%20font-medium%20transition-colors%22%7D",children:[a.jsx(Sa,{className:"w-4 h-4","data-matrix-id":"src/pages/InvoicingPage.tsx:1663:10","data-matrix-name":"Bell","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1663","data-component-file":"InvoicingPage.tsx","data-component-name":"Bell","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"}),da?"Edit Reminder":"Set Reminder"]})]}),v&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50","data-matrix-id":"src/pages/InvoicingPage.tsx:1670:8","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1670","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22fixed%20inset-0%20bg-black%2F50%20flex%20items-center%20justify-center%20z-50%22%7D",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl mx-4","data-matrix-id":"src/pages/InvoicingPage.tsx:1671:10","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1671","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-white%20rounded-2xl%20w-full%20max-w-md%20shadow-2xl%20mx-4%22%7D",children:[a.jsx("div",{className:"p-6 border-b border-neutral-100","data-matrix-id":"src/pages/InvoicingPage.tsx:1672:12","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1672","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-6%20border-b%20border-neutral-100%22%7D",children:a.jsxs("div",{className:"flex items-center justify-between","data-matrix-id":"src/pages/InvoicingPage.tsx:1673:14","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1673","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%22%7D",children:[a.jsxs("div",{className:"flex items-center gap-3","data-matrix-id":"src/pages/InvoicingPage.tsx:1674:16","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1674","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-3%22%7D",children:[a.jsx("div",{className:"w-10 h-10 bg-amber-100 rounded-xl flex items-center justify-center","data-matrix-id":"src/pages/InvoicingPage.tsx:1675:18","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1675","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-10%20h-10%20bg-amber-100%20rounded-xl%20flex%20items-center%20justify-center%22%7D",children:a.jsx(Sa,{className:"w-5 h-5 text-amber-600","data-matrix-id":"src/pages/InvoicingPage.tsx:1676:20","data-matrix-name":"Bell","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1676","data-component-file":"InvoicingPage.tsx","data-component-name":"Bell","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-amber-600%22%7D"})}),a.jsxs("div",{"data-matrix-id":"src/pages/InvoicingPage.tsx:1678:18","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1678","data-component-file":"InvoicingPage.tsx","data-component-name":"div",children:[a.jsx("h3",{className:"text-lg font-semibold","data-matrix-id":"src/pages/InvoicingPage.tsx:1679:20","data-matrix-name":"h3","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1679","data-component-file":"InvoicingPage.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-lg%20font-semibold%22%7D",children:"Payment Reminder"}),a.jsxs("p",{className:"text-sm text-neutral-500","data-matrix-id":"src/pages/InvoicingPage.tsx:1680:20","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1680","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-neutral-500%22%7D",children:["Invoice ",n.invoice_number]})]})]}),a.jsx("button",{onClick:()=>T(!1),className:"p-2 hover:bg-neutral-100 rounded-lg","data-matrix-id":"src/pages/InvoicingPage.tsx:1683:16","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1683","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22p-2%20hover%3Abg-neutral-100%20rounded-lg%22%7D",children:a.jsx(Ca,{className:"w-5 h-5","data-matrix-id":"src/pages/InvoicingPage.tsx:1684:18","data-matrix-name":"X","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1684","data-component-file":"InvoicingPage.tsx","data-component-name":"X","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%22%7D"})})]})}),a.jsxs("div",{className:"p-6 space-y-4","data-matrix-id":"src/pages/InvoicingPage.tsx:1689:12","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1689","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-6%20space-y-4%22%7D",children:[a.jsxs("div",{className:"bg-neutral-50 rounded-lg p-4","data-matrix-id":"src/pages/InvoicingPage.tsx:1690:14","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1690","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-neutral-50%20rounded-lg%20p-4%22%7D",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2","data-matrix-id":"src/pages/InvoicingPage.tsx:1691:16","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1691","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20items-center%20mb-2%22%7D",children:[a.jsx("span",{className:"text-sm text-neutral-600","data-matrix-id":"src/pages/InvoicingPage.tsx:1692:18","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1692","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-sm%20text-neutral-600%22%7D",children:"Amount Due"}),a.jsx("span",{className:"font-semibold text-lg","data-matrix-id":"src/pages/InvoicingPage.tsx:1693:18","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1693","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-lg%22%7D",children:y(n.total)})]}),a.jsxs("div",{className:"flex justify-between items-center","data-matrix-id":"src/pages/InvoicingPage.tsx:1695:16","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1695","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20items-center%22%7D",children:[a.jsx("span",{className:"text-sm text-neutral-600","data-matrix-id":"src/pages/InvoicingPage.tsx:1696:18","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1696","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-sm%20text-neutral-600%22%7D",children:"Client"}),a.jsx("span",{className:"text-sm font-medium","data-matrix-id":"src/pages/InvoicingPage.tsx:1697:18","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1697","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-sm%20font-medium%22%7D",children:(j=n.client)==null?void 0:j.name})]})]}),a.jsxs("div",{"data-matrix-id":"src/pages/InvoicingPage.tsx:1701:14","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1701","data-component-file":"InvoicingPage.tsx","data-component-name":"div",children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2","data-matrix-id":"src/pages/InvoicingPage.tsx:1702:16","data-matrix-name":"label","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1702","data-component-file":"InvoicingPage.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-neutral-700%20mb-2%22%7D",children:"Reminder after (days from sent date)"}),a.jsx("div",{className:"flex gap-2","data-matrix-id":"src/pages/InvoicingPage.tsx:1705:16","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1705","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20gap-2%22%7D",children:[30,45,60,90].map(D=>a.jsxs("button",{onClick:()=>f(D),className:`flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${d===D?"bg-[#476E66] text-white":"bg-neutral-100 text-neutral-700 hover:bg-neutral-200"}`,"data-matrix-id":"src/pages/InvoicingPage.tsx:1707:20","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1707","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:[D," days"]},D))})]}),a.jsxs("div",{"data-matrix-id":"src/pages/InvoicingPage.tsx:1722:14","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1722","data-component-file":"InvoicingPage.tsx","data-component-name":"div",children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1","data-matrix-id":"src/pages/InvoicingPage.tsx:1723:16","data-matrix-name":"label","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1723","data-component-file":"InvoicingPage.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-neutral-700%20mb-1%22%7D",children:"Or choose specific date"}),a.jsxs("div",{className:"relative","data-matrix-id":"src/pages/InvoicingPage.tsx:1726:16","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1726","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22relative%22%7D",children:[a.jsx(dt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-neutral-400","data-matrix-id":"src/pages/InvoicingPage.tsx:1727:18","data-matrix-name":"Calendar","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1727","data-component-file":"InvoicingPage.tsx","data-component-name":"Calendar","data-component-content":"%7B%22className%22%3A%22absolute%20left-3%20top-1%2F2%20-translate-y-1%2F2%20w-4%20h-4%20text-neutral-400%22%7D"}),a.jsx("input",{type:"date",value:C,onChange:D=>S(D.target.value),min:new Date().toISOString().split("T")[0],className:"w-full pl-10 pr-4 py-2.5 border border-neutral-200 rounded-lg text-sm focus:ring-2 focus:ring-[#476E66]/20 focus:border-[#476E66] outline-none","data-matrix-id":"src/pages/InvoicingPage.tsx:1728:18","data-matrix-name":"input","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1728","data-component-file":"InvoicingPage.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22date%22%2C%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22min%22%3A%22%5BMemberExpression%5D%22%2C%22className%22%3A%22w-full%20pl-10%20pr-4%20py-2.5%20border%20border-neutral-200%20rounded-lg%20text-sm%20focus%3Aring-2%20focus%3Aring-%5B%23476E66%5D%2F20%20focus%3Aborder-%5B%23476E66%5D%20outline-none%22%7D"})]})]}),a.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200","data-matrix-id":"src/pages/InvoicingPage.tsx:1738:14","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1738","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-blue-50%20rounded-lg%20p-4%20border%20border-blue-200%22%7D",children:[a.jsx("p",{className:"text-sm font-medium text-blue-800 mb-2","data-matrix-id":"src/pages/InvoicingPage.tsx:1739:16","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1739","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20font-medium%20text-blue-800%20mb-2%22%7D",children:"Email Preview"}),a.jsxs("div",{className:"text-xs text-blue-700 space-y-1","data-matrix-id":"src/pages/InvoicingPage.tsx:1740:16","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1740","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-xs%20text-blue-700%20space-y-1%22%7D",children:[a.jsxs("p",{"data-matrix-id":"src/pages/InvoicingPage.tsx:1741:18","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1741","data-component-file":"InvoicingPage.tsx","data-component-name":"p",children:[a.jsx("strong",{"data-matrix-id":"src/pages/InvoicingPage.tsx:1741:21","data-matrix-name":"strong","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1741","data-component-file":"InvoicingPage.tsx","data-component-name":"strong",children:"Subject:"})," Payment Reminder - Invoice ",n.invoice_number]}),a.jsxs("p",{className:"mt-2","data-matrix-id":"src/pages/InvoicingPage.tsx:1742:18","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1742","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22mt-2%22%7D",children:["Dear ",(sa=n.client)==null?void 0:sa.name,","]}),a.jsxs("p",{className:"mt-1","data-matrix-id":"src/pages/InvoicingPage.tsx:1743:18","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1743","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22mt-1%22%7D",children:["This is a friendly reminder that we haven't received payment for Invoice ",n.invoice_number," in the amount of ",y(n.total),"."]}),a.jsx("p",{className:"mt-1","data-matrix-id":"src/pages/InvoicingPage.tsx:1744:18","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1744","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22mt-1%22%7D",children:"Please review the attached invoice and process payment at your earliest convenience."}),a.jsx("p",{className:"mt-1 text-blue-600","data-matrix-id":"src/pages/InvoicingPage.tsx:1745:18","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1745","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22mt-1%20text-blue-600%22%7D",children:"[Invoice PDF will be attached]"})]})]})]}),a.jsxs("div",{className:"p-6 bg-neutral-50 border-t border-neutral-100 flex gap-3","data-matrix-id":"src/pages/InvoicingPage.tsx:1750:12","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1750","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-6%20bg-neutral-50%20border-t%20border-neutral-100%20flex%20gap-3%22%7D",children:[a.jsxs("button",{onClick:x,disabled:U,className:"flex-1 px-4 py-2.5 border border-neutral-300 rounded-xl hover:bg-white transition-colors flex items-center justify-center gap-2","data-matrix-id":"src/pages/InvoicingPage.tsx:1751:14","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1751","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22disabled%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22flex-1%20px-4%20py-2.5%20border%20border-neutral-300%20rounded-xl%20hover%3Abg-white%20transition-colors%20flex%20items-center%20justify-center%20gap-2%22%7D",children:[a.jsx(wa,{className:"w-4 h-4","data-matrix-id":"src/pages/InvoicingPage.tsx:1756:16","data-matrix-name":"Send","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1756","data-component-file":"InvoicingPage.tsx","data-component-name":"Send","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"}),"Send Now"]}),a.jsx("button",{onClick:G,disabled:U,className:"flex-1 px-4 py-2.5 bg-[#476E66] text-white rounded-xl hover:bg-[#3a5b54] transition-colors disabled:opacity-50 flex items-center justify-center gap-2","data-matrix-id":"src/pages/InvoicingPage.tsx:1759:14","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1759","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22disabled%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22flex-1%20px-4%20py-2.5%20bg-%5B%23476E66%5D%20text-white%20rounded-xl%20hover%3Abg-%5B%233a5b54%5D%20transition-colors%20disabled%3Aopacity-50%20flex%20items-center%20justify-center%20gap-2%22%7D",children:U?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin","data-matrix-id":"src/pages/InvoicingPage.tsx:1766:20","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1766","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20border-2%20border-white%2F30%20border-t-white%20rounded-full%20animate-spin%22%7D"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Sa,{className:"w-4 h-4","data-matrix-id":"src/pages/InvoicingPage.tsx:1771:20","data-matrix-name":"Bell","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"1771","data-component-file":"InvoicingPage.tsx","data-component-name":"Bell","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"}),"Schedule Reminder"]})})]})]})})]})}function Gt({invoice:n,clients:I,projects:y,companyId:P,company:d,onClose:f,onUpdate:C,getStatusColor:S,formatCurrency:v}){var ca,ya,Da,Ya,Za,Ga,Wa,Ka,Qa,at,tt,et,nt,ot;const{profile:T}=pt(),[U,V]=o.useState("preview"),[da,pa]=o.useState([]),[G,x]=o.useState(n.pdf_template_id||""),[j,sa]=o.useState(n.calculator_type||"time_material"),[D,h]=o.useState(!0),[X,ua]=o.useState(!1),[W,va]=o.useState(n.invoice_number||""),[K,ta]=o.useState(""),[O,Y]=o.useState("Net 30"),[ea,J]=o.useState(n.status||"draft"),[z]=o.useState(n.created_at?new Date(n.created_at).toISOString().split("T")[0]:""),[Q,aa]=o.useState(n.sent_at?new Date(n.sent_at).toISOString().split("T")[0]:""),[c,b]=o.useState(n.due_date?n.due_date.split("T")[0]:""),[R,na]=o.useState(""),[$,ga]=o.useState(!1),[ba,ha]=o.useState(!1),[Na,Ba]=o.useState("");o.useEffect(()=>{var t,r;if($&&((t=n.client)!=null&&t.name)){const B=`Please find attached Invoice ${W} for ${((r=n.project)==null?void 0:r.name)||"services rendered"}.

The total amount due is ${v(n.total)}${c?` and payment is due by ${new Date(c).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})}`:""}.

Thank you for your business. Please don't hesitate to reach out if you have any questions.`;Ba(B)}},[$,n,W,c]),o.useEffect(()=>{if(Q&&O){const t=new Date(Q);let r=30;O==="Due on Receipt"?r=0:O==="Net 15"?r=15:O==="Net 30"||O==="1% 10 Net 30"||O==="2% 10 Net 30"?r=30:O==="Net 45"?r=45:O==="Net 60"&&(r=60),t.setDate(t.getDate()+r),b(t.toISOString().split("T")[0])}},[Q,O]);const[oa,ia]=o.useState([]),[s,A]=o.useState(!1),[l,E]=o.useState([]),[ra,w]=o.useState(0),[M,H]=o.useState([]),[_,Pa]=o.useState(0),[fa,la]=o.useState([]),[Aa,q]=o.useState(!1),Ra=[{id:"preview",label:"Preview"},{id:"detail",label:"Invoice Detail"},{id:"time",label:`Time (${v(ra)})`},{id:"expenses",label:`Expenses (${v(_)})`},{id:"history",label:`History (${fa.length})`}];o.useEffect(()=>{qa(),za(),Ua(),Va(),Oa()},[P,n.id]);async function Oa(){q(!0);try{const t=await Dt.getHistory(P,n.id);la(t)}catch(t){console.error("Failed to load reminder history:",t)}q(!1)}async function za(){var t,r;try{const{data:B}=await Ia.from("invoice_line_items").select("id, description, quantity, unit_price, amount, billing_type, billed_percentage, task_id").eq("invoice_id",n.id);if(B&&B.length>0){let L={};if(n.project_id){const{data:F}=await Ia.from("tasks").select("id, name, total_budget, estimated_fees").eq("project_id",n.project_id);F&&(L=Object.fromEntries(F.map(Z=>[Z.id,Z])))}const k={};if(n.project_id&&n.created_at){const{data:F}=await Ia.from("invoice_line_items").select("task_id, billed_percentage, invoice_id, invoices!inner(created_at, project_id)").eq("invoices.project_id",n.project_id).lt("invoices.created_at",n.created_at).not("task_id","is",null);F&&F.forEach(Z=>{Z.task_id&&Z.billed_percentage&&(k[Z.task_id]=(k[Z.task_id]||0)+Number(Z.billed_percentage))})}const xa=B.map(F=>{const Z=F.task_id?L[F.task_id]:null,ja=(Z==null?void 0:Z.total_budget)||(Z==null?void 0:Z.estimated_fees)||F.amount,ht=F.billed_percentage||(ja>0?F.amount/ja*100:0),Pt=F.task_id&&k[F.task_id]||0;return{id:F.id,description:F.description||"Service",quantity:F.quantity||1,rate:F.unit_price||F.amount||0,amount:F.amount||0,unit:"unit",billedPercentage:Math.round(ht),priorBilledPercentage:Math.round(Pt),taskBudget:ja}});ia(xa),A(!0);return}if(n.project_id){const{data:L}=await Ia.from("tasks").select("id, name, estimated_fees, estimated_hours, actual_hours, billing_unit").eq("project_id",n.project_id);if(L&&L.length>0){const k=L.map(xa=>{const F=xa.billing_unit!=="unit",Z=F&&(xa.actual_hours||xa.estimated_hours)||1,ja=F?xa.estimated_fees?xa.estimated_fees/(xa.estimated_hours||1):0:xa.estimated_fees||0;return{id:xa.id,description:xa.name,quantity:Z,rate:ja,amount:xa.estimated_fees||0,unit:F?"hr":"unit"}});ia(k)}else ia([{id:"1",description:(t=n.project)!=null&&t.name?`Services for ${n.project.name}`:"Professional Services",quantity:1,rate:n.subtotal||0,amount:n.subtotal||0}])}else ia([{id:"1",description:"Professional Services",quantity:1,rate:n.subtotal||0,amount:n.subtotal||0}]);A(!0)}catch(B){console.error("Failed to load line items:",B),ia([{id:"1",description:(r=n.project)!=null&&r.name?`Services for ${n.project.name}`:"Professional Services",quantity:1,rate:n.subtotal||0,amount:n.subtotal||0}]),A(!0)}}async function qa(){try{const{data:t}=await Ia.from("invoice_pdf_templates").select("id, name, is_default").eq("company_id",P).order("is_default",{ascending:!1});if(t&&(pa(t),!G&&t.length>0)){const r=t.find(B=>B.is_default);r&&x(r.id)}}catch(t){console.error("Failed to load PDF templates:",t)}}async function Ua(){if(n.project_id)try{const{data:t}=await Ia.from("time_entries").select("*, profiles(full_name), tasks(name)").eq("project_id",n.project_id).eq("approval_status","approved");if(t){E(t);const r=t.reduce((B,L)=>B+(L.billable_amount||0),0);w(r)}}catch(t){console.error("Failed to load time entries:",t)}}async function Va(){if(n.project_id)try{const{data:t}=await Ia.from("expenses").select("*").eq("project_id",n.project_id).eq("approval_status","approved");if(t){H(t);const r=t.reduce((B,L)=>B+(L.amount||0),0);Pa(r)}}catch(t){console.error("Failed to load expenses:",t)}}const e=oa.reduce((t,r)=>t+r.amount,0),i=n.tax_amount||0,p=e+i,u=()=>{ia([...oa,{id:Date.now().toString(),description:"",quantity:1,rate:0,amount:0}])},m=(t,r,B)=>{ia(oa.map(L=>{if(L.id===t){const k={...L,[r]:B};return(r==="quantity"||r==="rate")&&(k.amount=k.quantity*k.rate),k}return L}))},N=t=>{oa.length>1&&ia(oa.filter(r=>r.id!==t))},g=async()=>{ua(!0);try{await ma.updateInvoice(n.id,{subtotal:e,total:e+i,due_date:c||null,status:ea,pdf_template_id:G||null,calculator_type:j}),C()}catch(t){console.error("Failed to save invoice:",t)}ua(!1)};return da.find(t=>t.id===G),a.jsxs("div",{className:"fixed inset-0 bg-neutral-100 z-50 overflow-hidden flex flex-col","data-matrix-id":"src/pages/InvoicingPage.tsx:2133:4","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2133","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22fixed%20inset-0%20bg-neutral-100%20z-50%20overflow-hidden%20flex%20flex-col%22%7D",children:[a.jsx("div",{className:"bg-white border-b border-neutral-200 px-6 py-4","data-matrix-id":"src/pages/InvoicingPage.tsx:2135:6","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2135","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-white%20border-b%20border-neutral-200%20px-6%20py-4%22%7D",children:a.jsx("div",{className:"flex items-center justify-between","data-matrix-id":"src/pages/InvoicingPage.tsx:2136:8","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2136","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%22%7D",children:a.jsxs("div",{className:"flex items-center gap-4","data-matrix-id":"src/pages/InvoicingPage.tsx:2137:10","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2137","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-4%22%7D",children:[a.jsxs("button",{onClick:f,className:"flex items-center gap-2 text-neutral-600 hover:text-neutral-900","data-matrix-id":"src/pages/InvoicingPage.tsx:2138:12","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2138","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22flex%20items-center%20gap-2%20text-neutral-600%20hover%3Atext-neutral-900%22%7D",children:[a.jsx(Et,{className:"w-5 h-5","data-matrix-id":"src/pages/InvoicingPage.tsx:2139:14","data-matrix-name":"ChevronLeft","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2139","data-component-file":"InvoicingPage.tsx","data-component-name":"ChevronLeft","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%22%7D"}),a.jsx("span",{className:"text-sm","data-matrix-id":"src/pages/InvoicingPage.tsx:2140:14","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2140","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-sm%22%7D",children:"Back to Invoices"})]}),a.jsx("div",{className:"h-6 w-px bg-neutral-200","data-matrix-id":"src/pages/InvoicingPage.tsx:2142:12","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2142","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22h-6%20w-px%20bg-neutral-200%22%7D"}),a.jsx("div",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2143:12","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2143","data-component-file":"InvoicingPage.tsx","data-component-name":"div",children:a.jsxs("h1",{className:"text-lg font-semibold text-neutral-900","data-matrix-id":"src/pages/InvoicingPage.tsx:2144:14","data-matrix-name":"h1","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2144","data-component-file":"InvoicingPage.tsx","data-component-name":"h1","data-component-content":"%7B%22className%22%3A%22text-lg%20font-semibold%20text-neutral-900%22%7D",children:[(ca=n.client)==null?void 0:ca.name," - Draft Date ",z]})})]})})}),a.jsx("div",{className:"bg-white border-b border-neutral-200 px-6","data-matrix-id":"src/pages/InvoicingPage.tsx:2153:6","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2153","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-white%20border-b%20border-neutral-200%20px-6%22%7D",children:a.jsxs("div",{className:"flex items-center gap-6","data-matrix-id":"src/pages/InvoicingPage.tsx:2154:8","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2154","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-6%22%7D",children:[a.jsx("div",{className:"flex","data-matrix-id":"src/pages/InvoicingPage.tsx:2155:10","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2155","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%22%7D",children:Ra.map(t=>a.jsx("button",{onClick:()=>V(t.id),className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${U===t.id?"border-neutral-500 text-neutral-600":"border-transparent text-neutral-500 hover:text-neutral-700"}`,"data-matrix-id":"src/pages/InvoicingPage.tsx:2157:14","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2157","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:t.label},t.id))}),a.jsx("div",{className:"ml-auto flex items-center gap-4","data-matrix-id":"src/pages/InvoicingPage.tsx:2170:10","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2170","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22ml-auto%20flex%20items-center%20gap-4%22%7D",children:a.jsxs("div",{className:"flex items-center gap-2","data-matrix-id":"src/pages/InvoicingPage.tsx:2171:12","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2171","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%22%7D",children:[a.jsx("button",{className:"p-2 hover:bg-neutral-100 rounded-lg text-neutral-500","data-matrix-id":"src/pages/InvoicingPage.tsx:2172:14","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2172","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22className%22%3A%22p-2%20hover%3Abg-neutral-100%20rounded-lg%20text-neutral-500%22%7D",children:a.jsx(Bt,{className:"w-4 h-4","data-matrix-id":"src/pages/InvoicingPage.tsx:2173:16","data-matrix-name":"RefreshCw","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2173","data-component-file":"InvoicingPage.tsx","data-component-name":"RefreshCw","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"})}),a.jsx("button",{onClick:()=>{const t=I.find(k=>k.id===n.client_id),r=y.find(k=>k.id===n.project_id);let B="";j==="milestone"||j==="percentage"?B=`
                      <table>
                        <thead>
                          <tr>
                            <th style="text-align:left;">Task</th>
                            <th style="text-align:center;width:80px;">Prior</th>
                            <th style="text-align:center;width:80px;">Current</th>
                            <th style="text-align:right;width:100px;">Budget</th>
                            <th style="text-align:right;width:100px;">Amount</th>
                          </tr>
                        </thead>
                        <tbody>
                          ${oa.map(k=>{const xa=k.priorBilledPercentage||0,F=k.billedPercentage||0,Z=k.taskBudget||k.amount;return`<tr>
                              <td>${k.description}</td>
                              <td style="text-align:center;">${xa}%</td>
                              <td style="text-align:center;color:#16a34a;font-weight:600;">${F}%</td>
                              <td style="text-align:right;">${v(Z)}</td>
                              <td style="text-align:right;font-weight:600;">${v(k.amount)}</td>
                            </tr>`}).join("")}
                        </tbody>
                      </table>`:B=`
                      <table>
                        <thead>
                          <tr>
                            <th style="text-align:left;">Description</th>
                            <th style="text-align:center;width:80px;">Qty</th>
                            <th style="text-align:right;width:100px;">Rate</th>
                            <th style="text-align:right;width:100px;">Amount</th>
                          </tr>
                        </thead>
                        <tbody>
                          ${oa.map(k=>`<tr>
                            <td>${k.description}</td>
                            <td style="text-align:center;">${k.quantity}</td>
                            <td style="text-align:right;">${v(k.rate)}</td>
                            <td style="text-align:right;font-weight:600;">${v(k.amount)}</td>
                          </tr>`).join("")}
                        </tbody>
                      </table>`;const L=window.open("","_blank");L&&(L.document.write(`<!DOCTYPE html>
<html>
<head>
  <title>Invoice ${W}</title>
  <style>
    @page { size: letter; margin: 0.6in; }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif; font-size: 11px; color: #333; line-height: 1.4; }
    .header { display: flex; justify-content: space-between; margin-bottom: 30px; }
    .logo { width: 50px; height: 50px; background: #111; border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 20px; margin-bottom: 12px; }
    .company-info { font-size: 11px; color: #666; }
    .company-name { font-weight: 600; color: #111; font-size: 13px; margin-bottom: 2px; }
    .invoice-title { font-size: 28px; font-weight: bold; color: #111; text-align: right; margin-bottom: 12px; }
    .invoice-meta { text-align: right; font-size: 11px; }
    .invoice-meta span { color: #666; }
    .bill-to { margin-bottom: 24px; }
    .bill-to-label { font-size: 10px; color: #666; margin-bottom: 4px; }
    .bill-to-name { font-size: 14px; font-weight: 600; }
    .calc-type { font-size: 13px; font-weight: 600; margin-bottom: 12px; color: #111; }
    table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
    th { background: #f5f5f5; padding: 8px 10px; font-size: 10px; font-weight: 600; color: #666; text-transform: uppercase; border-bottom: 1px solid #ddd; }
    td { padding: 10px; border-bottom: 1px solid #eee; font-size: 11px; }
    .totals { display: flex; justify-content: flex-end; }
    .totals-box { width: 200px; }
    .totals-row { display: flex; justify-content: space-between; padding: 6px 0; font-size: 11px; }
    .totals-row.total { border-top: 2px solid #111; margin-top: 6px; padding-top: 10px; font-size: 14px; font-weight: bold; }
  </style>
</head>
<body>
  <div class="header">
    <div>
      <div class="logo">P</div>
      <div class="company-info">
        <div class="company-name">Your Company</div>
        <div>123 Business Ave</div>
        <div>City, State 12345</div>
      </div>
    </div>
    <div>
      <div class="invoice-title">INVOICE</div>
      <div class="invoice-meta">
        <div><span>Date:</span> ${z?new Date(z).toLocaleDateString():new Date().toLocaleDateString()}</div>
        <div><span>Number:</span> ${W}</div>
        <div><span>Terms:</span> ${O}</div>
        ${r?`<div><span>Project:</span> ${r.name}</div>`:""}
      </div>
    </div>
  </div>
  
  <div class="bill-to">
    <div class="bill-to-label">Bill To:</div>
    <div class="bill-to-name">${(t==null?void 0:t.name)||"Client"}</div>
    ${t!=null&&t.address?`<div>${t.address}</div>`:""}
    ${t!=null&&t.city||t!=null&&t.state||t!=null&&t.zip?`<div>${[t==null?void 0:t.city,t==null?void 0:t.state,t==null?void 0:t.zip].filter(Boolean).join(", ")}</div>`:""}
    ${t!=null&&t.phone?`<div>${t.phone}</div>`:""}
  </div>

  <div class="calc-type">${j==="percentage"?"Percentage Billing":j==="milestone"?"Milestone Billing":j==="time_material"?"Time & Materials":"Fixed Fee"}</div>
  
  ${B}
  
  <div class="totals">
    <div class="totals-box">
      <div class="totals-row"><span>Subtotal</span><span>${v(e)}</span></div>
      ${i>0?`<div class="totals-row"><span>Tax</span><span>${v(i)}</span></div>`:""}
      <div class="totals-row total"><span>Total</span><span>${v(p)}</span></div>
    </div>
  </div>
</body>
</html>`),L.document.close(),setTimeout(()=>{L.print()},300))},className:"p-2 hover:bg-neutral-100 rounded-lg text-neutral-500",title:"Download as PDF","data-matrix-id":"src/pages/InvoicingPage.tsx:2175:14","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2175","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22p-2%20hover%3Abg-neutral-100%20rounded-lg%20text-neutral-500%22%2C%22title%22%3A%22Download%20as%20PDF%22%7D",children:a.jsx(xt,{className:"w-4 h-4","data-matrix-id":"src/pages/InvoicingPage.tsx:2310:16","data-matrix-name":"Download","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2310","data-component-file":"InvoicingPage.tsx","data-component-name":"Download","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"})}),a.jsx("button",{className:"p-2 hover:bg-neutral-100 rounded-lg text-neutral-500","data-matrix-id":"src/pages/InvoicingPage.tsx:2312:14","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2312","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22className%22%3A%22p-2%20hover%3Abg-neutral-100%20rounded-lg%20text-neutral-500%22%7D",children:a.jsx(ut,{className:"w-4 h-4","data-matrix-id":"src/pages/InvoicingPage.tsx:2313:16","data-matrix-name":"Printer","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2313","data-component-file":"InvoicingPage.tsx","data-component-name":"Printer","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"})})]})})]})}),a.jsxs("div",{className:"flex-1 overflow-hidden flex","data-matrix-id":"src/pages/InvoicingPage.tsx:2321:6","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2321","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-1%20overflow-hidden%20flex%22%7D",children:[U==="preview"&&a.jsxs("div",{className:"flex-1 bg-neutral-200 p-6 overflow-auto","data-matrix-id":"src/pages/InvoicingPage.tsx:2324:10","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2324","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-1%20bg-neutral-200%20p-6%20overflow-auto%22%7D",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6","data-matrix-id":"src/pages/InvoicingPage.tsx:2326:12","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2326","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-3%20mb-6%22%7D",children:[a.jsxs("select",{value:j,onChange:t=>sa(t.target.value),className:"px-4 py-2 rounded-lg border border-neutral-300 bg-white text-sm font-medium","data-matrix-id":"src/pages/InvoicingPage.tsx:2327:14","data-matrix-name":"select","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2327","data-component-file":"InvoicingPage.tsx","data-component-name":"select","data-component-content":"%7B%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22px-4%20py-2%20rounded-lg%20border%20border-neutral-300%20bg-white%20text-sm%20font-medium%22%7D",children:[a.jsx("option",{value:"time_material","data-matrix-id":"src/pages/InvoicingPage.tsx:2328:16","data-matrix-name":"option","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2328","data-component-file":"InvoicingPage.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22time_material%22%7D",children:"Time & Material"}),a.jsx("option",{value:"fixed_fee","data-matrix-id":"src/pages/InvoicingPage.tsx:2329:16","data-matrix-name":"option","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2329","data-component-file":"InvoicingPage.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22fixed_fee%22%7D",children:"Fixed Fee"}),a.jsx("option",{value:"milestone","data-matrix-id":"src/pages/InvoicingPage.tsx:2330:16","data-matrix-name":"option","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2330","data-component-file":"InvoicingPage.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22milestone%22%7D",children:"Milestone"}),a.jsx("option",{value:"percentage","data-matrix-id":"src/pages/InvoicingPage.tsx:2331:16","data-matrix-name":"option","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2331","data-component-file":"InvoicingPage.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22percentage%22%7D",children:"Percentage"}),a.jsx("option",{value:"summary","data-matrix-id":"src/pages/InvoicingPage.tsx:2332:16","data-matrix-name":"option","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2332","data-component-file":"InvoicingPage.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22summary%22%7D",children:"Summary Only"})]}),a.jsx("button",{className:"px-4 py-2 text-sm text-neutral-900 hover:bg-neutral-100 rounded-lg font-medium","data-matrix-id":"src/pages/InvoicingPage.tsx:2334:14","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2334","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22className%22%3A%22px-4%20py-2%20text-sm%20text-neutral-900%20hover%3Abg-neutral-100%20rounded-lg%20font-medium%22%7D",children:"Edit"}),a.jsx("button",{className:"px-4 py-2 bg-white border border-neutral-300 rounded-lg text-sm font-medium hover:bg-neutral-50","data-matrix-id":"src/pages/InvoicingPage.tsx:2335:14","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2335","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22className%22%3A%22px-4%20py-2%20bg-white%20border%20border-neutral-300%20rounded-lg%20text-sm%20font-medium%20hover%3Abg-neutral-50%22%7D",children:"Refresh"}),a.jsx("button",{className:"px-4 py-2 bg-white border border-neutral-300 rounded-lg text-sm font-medium hover:bg-neutral-50","data-matrix-id":"src/pages/InvoicingPage.tsx:2336:14","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2336","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22className%22%3A%22px-4%20py-2%20bg-white%20border%20border-neutral-300%20rounded-lg%20text-sm%20font-medium%20hover%3Abg-neutral-50%22%7D",children:"Snapshot"}),a.jsxs("button",{onClick:()=>ga(!0),className:"px-4 py-2 bg-[#476E66] text-white rounded-lg text-sm font-medium hover:bg-[#3a5b54] flex items-center gap-2","data-matrix-id":"src/pages/InvoicingPage.tsx:2337:14","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2337","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22px-4%20py-2%20bg-%5B%23476E66%5D%20text-white%20rounded-lg%20text-sm%20font-medium%20hover%3Abg-%5B%233a5b54%5D%20flex%20items-center%20gap-2%22%7D",children:[a.jsx(wa,{className:"w-4 h-4","data-matrix-id":"src/pages/InvoicingPage.tsx:2341:16","data-matrix-name":"Send","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2341","data-component-file":"InvoicingPage.tsx","data-component-name":"Send","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"})," Send Invoice"]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 invoice-preview-content","data-matrix-id":"src/pages/InvoicingPage.tsx:2346:12","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2346","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-white%20rounded-xl%20shadow-lg%20p-8%20invoice-preview-content%22%7D",children:[a.jsxs("div",{className:"flex justify-between items-start mb-8","data-matrix-id":"src/pages/InvoicingPage.tsx:2348:14","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2348","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20items-start%20mb-8%22%7D",children:[a.jsxs("div",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2349:16","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2349","data-component-file":"InvoicingPage.tsx","data-component-name":"div",children:[d!=null&&d.logo_url?a.jsx("img",{src:d.logo_url,alt:"",className:"h-16 w-auto object-contain mb-4","data-matrix-id":"src/pages/InvoicingPage.tsx:2351:20","data-matrix-name":"img","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2351","data-component-file":"InvoicingPage.tsx","data-component-name":"img","data-component-content":"%7B%22src%22%3A%22%5BMemberExpression%5D%22%2C%22alt%22%3A%22%22%2C%22className%22%3A%22h-16%20w-auto%20object-contain%20mb-4%22%7D"}):a.jsx("div",{className:"w-16 h-16 bg-[#476E66] rounded-xl flex items-center justify-center text-white font-bold text-2xl mb-4","data-matrix-id":"src/pages/InvoicingPage.tsx:2353:20","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2353","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-16%20h-16%20bg-%5B%23476E66%5D%20rounded-xl%20flex%20items-center%20justify-center%20text-white%20font-bold%20text-2xl%20mb-4%22%7D",children:((ya=d==null?void 0:d.company_name)==null?void 0:ya.charAt(0))||"C"}),a.jsxs("div",{className:"text-sm text-neutral-600","data-matrix-id":"src/pages/InvoicingPage.tsx:2357:18","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2357","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-sm%20text-neutral-600%22%7D",children:[a.jsx("p",{className:"font-semibold text-neutral-900 text-base","data-matrix-id":"src/pages/InvoicingPage.tsx:2358:20","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2358","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-neutral-900%20text-base%22%7D",children:(d==null?void 0:d.company_name)||"Your Company"}),(d==null?void 0:d.address)&&a.jsx("p",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2359:41","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2359","data-component-file":"InvoicingPage.tsx","data-component-name":"p",children:d.address}),((d==null?void 0:d.city)||(d==null?void 0:d.state)||(d==null?void 0:d.zip))&&a.jsx("p",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2361:22","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2361","data-component-file":"InvoicingPage.tsx","data-component-name":"p",children:[d.city,d.state,d.zip].filter(Boolean).join(", ")}),(d==null?void 0:d.phone)&&a.jsx("p",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2363:39","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2363","data-component-file":"InvoicingPage.tsx","data-component-name":"p",children:d.phone})]})]}),a.jsxs("div",{className:"text-right","data-matrix-id":"src/pages/InvoicingPage.tsx:2366:16","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2366","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-right%22%7D",children:[a.jsx("h2",{className:"text-3xl font-bold text-neutral-900 mb-4","data-matrix-id":"src/pages/InvoicingPage.tsx:2367:18","data-matrix-name":"h2","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2367","data-component-file":"InvoicingPage.tsx","data-component-name":"h2","data-component-content":"%7B%22className%22%3A%22text-3xl%20font-bold%20text-neutral-900%20mb-4%22%7D",children:"INVOICE"}),a.jsxs("div",{className:"text-sm space-y-1","data-matrix-id":"src/pages/InvoicingPage.tsx:2368:18","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2368","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-sm%20space-y-1%22%7D",children:[a.jsxs("p",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2369:20","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2369","data-component-file":"InvoicingPage.tsx","data-component-name":"p",children:[a.jsx("span",{className:"text-neutral-500","data-matrix-id":"src/pages/InvoicingPage.tsx:2369:23","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2369","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-neutral-500%22%7D",children:"Invoice Date:"})," ",z?new Date(z).toLocaleDateString():new Date().toLocaleDateString()]}),a.jsxs("p",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2370:20","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2370","data-component-file":"InvoicingPage.tsx","data-component-name":"p",children:[a.jsx("span",{className:"text-neutral-500","data-matrix-id":"src/pages/InvoicingPage.tsx:2370:23","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2370","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-neutral-500%22%7D",children:"Total Amount:"})," ",a.jsx("span",{className:"font-semibold text-lg","data-matrix-id":"src/pages/InvoicingPage.tsx:2370:79","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2370","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-lg%22%7D",children:v(p)})]}),a.jsxs("p",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2371:20","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2371","data-component-file":"InvoicingPage.tsx","data-component-name":"p",children:[a.jsx("span",{className:"text-neutral-500","data-matrix-id":"src/pages/InvoicingPage.tsx:2371:23","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2371","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-neutral-500%22%7D",children:"Number:"})," ",W]}),a.jsxs("p",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2372:20","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2372","data-component-file":"InvoicingPage.tsx","data-component-name":"p",children:[a.jsx("span",{className:"text-neutral-500","data-matrix-id":"src/pages/InvoicingPage.tsx:2372:23","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2372","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-neutral-500%22%7D",children:"Terms:"})," ",O]}),n.project&&a.jsxs("p",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2373:40","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2373","data-component-file":"InvoicingPage.tsx","data-component-name":"p",children:[a.jsx("span",{className:"text-neutral-500","data-matrix-id":"src/pages/InvoicingPage.tsx:2373:43","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2373","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-neutral-500%22%7D",children:"Project:"})," ",n.project.name]})]})]})]}),a.jsxs("div",{className:"mb-8","data-matrix-id":"src/pages/InvoicingPage.tsx:2379:14","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2379","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mb-8%22%7D",children:[a.jsx("p",{className:"text-sm text-neutral-500 mb-1","data-matrix-id":"src/pages/InvoicingPage.tsx:2380:16","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2380","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-neutral-500%20mb-1%22%7D",children:"Bill To:"}),a.jsx("p",{className:"font-semibold text-lg","data-matrix-id":"src/pages/InvoicingPage.tsx:2381:16","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2381","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-lg%22%7D",children:(Da=n.client)==null?void 0:Da.name}),((Ya=n.client)==null?void 0:Ya.address)&&a.jsx("p",{className:"text-neutral-600","data-matrix-id":"src/pages/InvoicingPage.tsx:2382:44","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2382","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-neutral-600%22%7D",children:n.client.address}),(((Za=n.client)==null?void 0:Za.city)||((Ga=n.client)==null?void 0:Ga.state)||((Wa=n.client)==null?void 0:Wa.zip))&&a.jsx("p",{className:"text-neutral-600","data-matrix-id":"src/pages/InvoicingPage.tsx:2384:18","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2384","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-neutral-600%22%7D",children:[n.client.city,n.client.state,n.client.zip].filter(Boolean).join(", ")}),((Ka=n.client)==null?void 0:Ka.phone)&&a.jsx("p",{className:"text-neutral-600","data-matrix-id":"src/pages/InvoicingPage.tsx:2389:42","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2389","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-neutral-600%22%7D",children:n.client.phone}),((Qa=n.client)==null?void 0:Qa.website)&&a.jsx("p",{className:"text-neutral-600","data-matrix-id":"src/pages/InvoicingPage.tsx:2390:44","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2390","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-neutral-600%22%7D",children:n.client.website})]}),a.jsx("div",{className:"border-t border-b border-neutral-200 py-6 mb-6","data-matrix-id":"src/pages/InvoicingPage.tsx:2394:14","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2394","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22border-t%20border-b%20border-neutral-200%20py-6%20mb-6%22%7D",children:j==="summary"?a.jsxs("div",{className:"text-center py-8","data-matrix-id":"src/pages/InvoicingPage.tsx:2397:18","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2397","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%20py-8%22%7D",children:[a.jsxs("p",{className:"text-xl font-medium text-neutral-700 mb-2","data-matrix-id":"src/pages/InvoicingPage.tsx:2398:20","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2398","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xl%20font-medium%20text-neutral-700%20mb-2%22%7D",children:["Professional Services for ",((at=n.project)==null?void 0:at.name)||"Project"]}),a.jsxs("p",{className:"text-neutral-500","data-matrix-id":"src/pages/InvoicingPage.tsx:2401:20","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2401","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-neutral-500%22%7D",children:["Period: ",z?new Date(z).toLocaleDateString():new Date().toLocaleDateString()]})]}):j==="milestone"||j==="percentage"?a.jsxs(a.Fragment,{children:[a.jsx("h4",{className:"font-semibold text-neutral-900 mb-4 text-lg","data-matrix-id":"src/pages/InvoicingPage.tsx:2406:20","data-matrix-name":"h4","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2406","data-component-file":"InvoicingPage.tsx","data-component-name":"h4","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-neutral-900%20mb-4%20text-lg%22%7D",children:j==="milestone"?"Milestone Billing":"Percentage Billing"}),a.jsxs("table",{className:"w-full","data-matrix-id":"src/pages/InvoicingPage.tsx:2407:20","data-matrix-name":"table","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2407","data-component-file":"InvoicingPage.tsx","data-component-name":"table","data-component-content":"%7B%22className%22%3A%22w-full%22%7D",children:[a.jsx("thead",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2408:22","data-matrix-name":"thead","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2408","data-component-file":"InvoicingPage.tsx","data-component-name":"thead",children:a.jsxs("tr",{className:"text-left text-neutral-500 text-sm border-b border-neutral-200","data-matrix-id":"src/pages/InvoicingPage.tsx:2409:24","data-matrix-name":"tr","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2409","data-component-file":"InvoicingPage.tsx","data-component-name":"tr","data-component-content":"%7B%22className%22%3A%22text-left%20text-neutral-500%20text-sm%20border-b%20border-neutral-200%22%7D",children:[a.jsx("th",{className:"pb-3 font-medium","data-matrix-id":"src/pages/InvoicingPage.tsx:2410:26","data-matrix-name":"th","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2410","data-component-file":"InvoicingPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22pb-3%20font-medium%22%7D",children:"Task"}),a.jsx("th",{className:"pb-3 font-medium text-center w-20","data-matrix-id":"src/pages/InvoicingPage.tsx:2411:26","data-matrix-name":"th","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2411","data-component-file":"InvoicingPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22pb-3%20font-medium%20text-center%20w-20%22%7D",children:"Prior"}),a.jsx("th",{className:"pb-3 font-medium text-center w-20","data-matrix-id":"src/pages/InvoicingPage.tsx:2412:26","data-matrix-name":"th","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2412","data-component-file":"InvoicingPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22pb-3%20font-medium%20text-center%20w-20%22%7D",children:"Current"}),a.jsx("th",{className:"pb-3 font-medium text-right w-28","data-matrix-id":"src/pages/InvoicingPage.tsx:2413:26","data-matrix-name":"th","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2413","data-component-file":"InvoicingPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22pb-3%20font-medium%20text-right%20w-28%22%7D",children:"Budget"}),a.jsx("th",{className:"pb-3 font-medium text-right w-28","data-matrix-id":"src/pages/InvoicingPage.tsx:2414:26","data-matrix-name":"th","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2414","data-component-file":"InvoicingPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22pb-3%20font-medium%20text-right%20w-28%22%7D",children:"Amount"})]})}),a.jsx("tbody",{className:"divide-y divide-neutral-100","data-matrix-id":"src/pages/InvoicingPage.tsx:2417:22","data-matrix-name":"tbody","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2417","data-component-file":"InvoicingPage.tsx","data-component-name":"tbody","data-component-content":"%7B%22className%22%3A%22divide-y%20divide-neutral-100%22%7D",children:oa.map(t=>{const r=(t.taskBudget||t.amount)*(t.priorBilledPercentage||0)/100,B=(t.taskBudget||t.amount)*(t.billedPercentage||0)/100;return a.jsxs("tr",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2422:26","data-matrix-name":"tr","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2422","data-component-file":"InvoicingPage.tsx","data-component-name":"tr",children:[a.jsx("td",{className:"py-3","data-matrix-id":"src/pages/InvoicingPage.tsx:2423:28","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2423","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22py-3%22%7D",children:t.description}),a.jsx("td",{className:"py-3 text-center","data-matrix-id":"src/pages/InvoicingPage.tsx:2424:28","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2424","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22py-3%20text-center%22%7D",children:a.jsxs("div",{className:"text-xs","data-matrix-id":"src/pages/InvoicingPage.tsx:2425:30","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2425","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-xs%22%7D",children:[a.jsxs("span",{className:"inline-flex items-center justify-center w-14 h-5 bg-neutral-100 rounded font-medium text-neutral-500","data-matrix-id":"src/pages/InvoicingPage.tsx:2426:32","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2426","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22inline-flex%20items-center%20justify-center%20w-14%20h-5%20bg-neutral-100%20rounded%20font-medium%20text-neutral-500%22%7D",children:[t.priorBilledPercentage||0,"%"]}),a.jsx("p",{className:"text-neutral-500 mt-0.5","data-matrix-id":"src/pages/InvoicingPage.tsx:2429:32","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2429","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-neutral-500%20mt-0.5%22%7D",children:v(r)})]})}),a.jsx("td",{className:"py-3 text-center","data-matrix-id":"src/pages/InvoicingPage.tsx:2432:28","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2432","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22py-3%20text-center%22%7D",children:a.jsxs("div",{className:"text-xs","data-matrix-id":"src/pages/InvoicingPage.tsx:2433:30","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2433","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-xs%22%7D",children:[a.jsxs("span",{className:"inline-flex items-center justify-center w-14 h-5 bg-green-100 rounded font-medium text-green-700","data-matrix-id":"src/pages/InvoicingPage.tsx:2434:32","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2434","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22inline-flex%20items-center%20justify-center%20w-14%20h-5%20bg-green-100%20rounded%20font-medium%20text-green-700%22%7D",children:[t.billedPercentage||0,"%"]}),a.jsx("p",{className:"text-green-600 mt-0.5","data-matrix-id":"src/pages/InvoicingPage.tsx:2437:32","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2437","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-green-600%20mt-0.5%22%7D",children:v(B)})]})}),a.jsx("td",{className:"py-3 text-right text-neutral-500","data-matrix-id":"src/pages/InvoicingPage.tsx:2440:28","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2440","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22py-3%20text-right%20text-neutral-500%22%7D",children:v(t.taskBudget||t.amount)}),a.jsx("td",{className:"py-3 text-right font-medium","data-matrix-id":"src/pages/InvoicingPage.tsx:2441:28","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2441","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22py-3%20text-right%20font-medium%22%7D",children:v(t.amount)})]},t.id)})})]}),a.jsx("div",{className:"mt-4 pt-4 border-t border-neutral-100 bg-blue-50 rounded-lg p-4","data-matrix-id":"src/pages/InvoicingPage.tsx:2447:20","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2447","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mt-4%20pt-4%20border-t%20border-neutral-100%20bg-blue-50%20rounded-lg%20p-4%22%7D",children:a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm","data-matrix-id":"src/pages/InvoicingPage.tsx:2448:22","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2448","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-3%20gap-4%20text-sm%22%7D",children:[a.jsxs("div",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2449:24","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2449","data-component-file":"InvoicingPage.tsx","data-component-name":"div",children:[a.jsx("p",{className:"text-neutral-500 mb-1","data-matrix-id":"src/pages/InvoicingPage.tsx:2450:26","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2450","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-neutral-500%20mb-1%22%7D",children:"Prior Billed"}),a.jsx("p",{className:"font-medium text-neutral-700","data-matrix-id":"src/pages/InvoicingPage.tsx:2451:26","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2451","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22font-medium%20text-neutral-700%22%7D",children:v(oa.reduce((t,r)=>t+(r.taskBudget||r.amount)*(r.priorBilledPercentage||0)/100,0))})]}),a.jsxs("div",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2455:24","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2455","data-component-file":"InvoicingPage.tsx","data-component-name":"div",children:[a.jsx("p",{className:"text-green-600 mb-1","data-matrix-id":"src/pages/InvoicingPage.tsx:2456:26","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2456","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-green-600%20mb-1%22%7D",children:"This Invoice"}),a.jsx("p",{className:"font-medium text-green-700","data-matrix-id":"src/pages/InvoicingPage.tsx:2457:26","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2457","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22font-medium%20text-green-700%22%7D",children:v(e)})]}),a.jsxs("div",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2459:24","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2459","data-component-file":"InvoicingPage.tsx","data-component-name":"div",children:[a.jsx("p",{className:"text-neutral-500 mb-1","data-matrix-id":"src/pages/InvoicingPage.tsx:2460:26","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2460","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-neutral-500%20mb-1%22%7D",children:"Total After"}),a.jsx("p",{className:"font-medium text-neutral-900","data-matrix-id":"src/pages/InvoicingPage.tsx:2461:26","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2461","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22font-medium%20text-neutral-900%22%7D",children:v(oa.reduce((t,r)=>{const B=r.taskBudget||r.amount,L=(r.priorBilledPercentage||0)+(r.billedPercentage||0);return t+B*L/100},0))})]})]})})]}):j==="time_material"?a.jsxs(a.Fragment,{children:[a.jsx("h4",{className:"font-semibold text-neutral-900 mb-4 text-lg","data-matrix-id":"src/pages/InvoicingPage.tsx:2475:20","data-matrix-name":"h4","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2475","data-component-file":"InvoicingPage.tsx","data-component-name":"h4","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-neutral-900%20mb-4%20text-lg%22%7D",children:"Time & Material Details"}),a.jsxs("table",{className:"w-full","data-matrix-id":"src/pages/InvoicingPage.tsx:2476:20","data-matrix-name":"table","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2476","data-component-file":"InvoicingPage.tsx","data-component-name":"table","data-component-content":"%7B%22className%22%3A%22w-full%22%7D",children:[a.jsx("thead",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2477:22","data-matrix-name":"thead","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2477","data-component-file":"InvoicingPage.tsx","data-component-name":"thead",children:a.jsxs("tr",{className:"text-left text-neutral-500 text-sm border-b border-neutral-200","data-matrix-id":"src/pages/InvoicingPage.tsx:2478:24","data-matrix-name":"tr","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2478","data-component-file":"InvoicingPage.tsx","data-component-name":"tr","data-component-content":"%7B%22className%22%3A%22text-left%20text-neutral-500%20text-sm%20border-b%20border-neutral-200%22%7D",children:[a.jsx("th",{className:"pb-3 font-medium","data-matrix-id":"src/pages/InvoicingPage.tsx:2479:26","data-matrix-name":"th","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2479","data-component-file":"InvoicingPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22pb-3%20font-medium%22%7D",children:"Description"}),a.jsx("th",{className:"pb-3 font-medium text-center w-24","data-matrix-id":"src/pages/InvoicingPage.tsx:2480:26","data-matrix-name":"th","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2480","data-component-file":"InvoicingPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22pb-3%20font-medium%20text-center%20w-24%22%7D",children:"Hours"}),a.jsx("th",{className:"pb-3 font-medium text-right w-32","data-matrix-id":"src/pages/InvoicingPage.tsx:2481:26","data-matrix-name":"th","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2481","data-component-file":"InvoicingPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22pb-3%20font-medium%20text-right%20w-32%22%7D",children:"Rate"}),a.jsx("th",{className:"pb-3 font-medium text-right w-32","data-matrix-id":"src/pages/InvoicingPage.tsx:2482:26","data-matrix-name":"th","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2482","data-component-file":"InvoicingPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22pb-3%20font-medium%20text-right%20w-32%22%7D",children:"Amount"})]})}),a.jsx("tbody",{className:"divide-y divide-neutral-100","data-matrix-id":"src/pages/InvoicingPage.tsx:2485:22","data-matrix-name":"tbody","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2485","data-component-file":"InvoicingPage.tsx","data-component-name":"tbody","data-component-content":"%7B%22className%22%3A%22divide-y%20divide-neutral-100%22%7D",children:oa.map(t=>a.jsxs("tr",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2487:26","data-matrix-name":"tr","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2487","data-component-file":"InvoicingPage.tsx","data-component-name":"tr",children:[a.jsx("td",{className:"py-3","data-matrix-id":"src/pages/InvoicingPage.tsx:2488:28","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2488","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22py-3%22%7D",children:t.description||"Service"}),a.jsxs("td",{className:"py-3 text-center","data-matrix-id":"src/pages/InvoicingPage.tsx:2489:28","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2489","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22py-3%20text-center%22%7D",children:[t.quantity,t.unit==="hr"?"h":""]}),a.jsxs("td",{className:"py-3 text-right","data-matrix-id":"src/pages/InvoicingPage.tsx:2490:28","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2490","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22py-3%20text-right%22%7D",children:[v(t.rate),t.unit==="hr"?"/hr":"/unit"]}),a.jsx("td",{className:"py-3 text-right font-medium","data-matrix-id":"src/pages/InvoicingPage.tsx:2491:28","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2491","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22py-3%20text-right%20font-medium%22%7D",children:v(t.amount)})]},t.id))})]}),l.length>0&&a.jsxs("div",{className:"mt-6 pt-4 border-t border-neutral-100","data-matrix-id":"src/pages/InvoicingPage.tsx:2497:22","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2497","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mt-6%20pt-4%20border-t%20border-neutral-100%22%7D",children:[a.jsx("p",{className:"text-sm text-neutral-500 mb-2 font-medium","data-matrix-id":"src/pages/InvoicingPage.tsx:2498:24","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2498","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-neutral-500%20mb-2%20font-medium%22%7D",children:"Time Entries Included:"}),a.jsx("div",{className:"text-sm text-neutral-600 space-y-1 max-h-32 overflow-y-auto","data-matrix-id":"src/pages/InvoicingPage.tsx:2499:24","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2499","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-sm%20text-neutral-600%20space-y-1%20max-h-32%20overflow-y-auto%22%7D",children:l.map(t=>a.jsxs("p",{className:"flex justify-between","data-matrix-id":"src/pages/InvoicingPage.tsx:2501:28","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2501","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%22%7D",children:[a.jsxs("span",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2502:30","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2502","data-component-file":"InvoicingPage.tsx","data-component-name":"span",children:[" ",t.description||"Time entry"," (",new Date(t.date).toLocaleDateString(),")"]}),a.jsxs("span",{className:"font-medium","data-matrix-id":"src/pages/InvoicingPage.tsx:2503:30","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2503","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-medium%22%7D",children:[Number(t.hours||0).toFixed(1),"h"]})]},t.id))})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("h4",{className:"font-semibold text-neutral-900 mb-4 text-lg","data-matrix-id":"src/pages/InvoicingPage.tsx:2513:20","data-matrix-name":"h4","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2513","data-component-file":"InvoicingPage.tsx","data-component-name":"h4","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-neutral-900%20mb-4%20text-lg%22%7D",children:"Fixed Fee Invoice"}),a.jsxs("table",{className:"w-full","data-matrix-id":"src/pages/InvoicingPage.tsx:2514:20","data-matrix-name":"table","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2514","data-component-file":"InvoicingPage.tsx","data-component-name":"table","data-component-content":"%7B%22className%22%3A%22w-full%22%7D",children:[a.jsx("thead",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2515:22","data-matrix-name":"thead","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2515","data-component-file":"InvoicingPage.tsx","data-component-name":"thead",children:a.jsxs("tr",{className:"text-left text-neutral-500 text-sm border-b border-neutral-200","data-matrix-id":"src/pages/InvoicingPage.tsx:2516:24","data-matrix-name":"tr","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2516","data-component-file":"InvoicingPage.tsx","data-component-name":"tr","data-component-content":"%7B%22className%22%3A%22text-left%20text-neutral-500%20text-sm%20border-b%20border-neutral-200%22%7D",children:[a.jsx("th",{className:"pb-3 font-medium","data-matrix-id":"src/pages/InvoicingPage.tsx:2517:26","data-matrix-name":"th","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2517","data-component-file":"InvoicingPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22pb-3%20font-medium%22%7D",children:"Description"}),a.jsx("th",{className:"pb-3 font-medium text-right w-40","data-matrix-id":"src/pages/InvoicingPage.tsx:2518:26","data-matrix-name":"th","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2518","data-component-file":"InvoicingPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22pb-3%20font-medium%20text-right%20w-40%22%7D",children:"Amount"})]})}),a.jsx("tbody",{className:"divide-y divide-neutral-100","data-matrix-id":"src/pages/InvoicingPage.tsx:2521:22","data-matrix-name":"tbody","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2521","data-component-file":"InvoicingPage.tsx","data-component-name":"tbody","data-component-content":"%7B%22className%22%3A%22divide-y%20divide-neutral-100%22%7D",children:oa.map(t=>a.jsxs("tr",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2523:26","data-matrix-name":"tr","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2523","data-component-file":"InvoicingPage.tsx","data-component-name":"tr",children:[a.jsx("td",{className:"py-3","data-matrix-id":"src/pages/InvoicingPage.tsx:2524:28","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2524","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22py-3%22%7D",children:t.description||"Service"}),a.jsx("td",{className:"py-3 text-right font-medium","data-matrix-id":"src/pages/InvoicingPage.tsx:2525:28","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2525","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22py-3%20text-right%20font-medium%22%7D",children:v(t.amount)})]},t.id))})]})]})}),a.jsx("div",{className:"flex justify-end","data-matrix-id":"src/pages/InvoicingPage.tsx:2535:14","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2535","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-end%22%7D",children:a.jsxs("div",{className:"w-72","data-matrix-id":"src/pages/InvoicingPage.tsx:2536:16","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2536","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-72%22%7D",children:[a.jsxs("div",{className:"flex justify-between py-2 text-neutral-600","data-matrix-id":"src/pages/InvoicingPage.tsx:2537:18","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2537","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20py-2%20text-neutral-600%22%7D",children:[a.jsx("span",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2538:20","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2538","data-component-file":"InvoicingPage.tsx","data-component-name":"span",children:"Subtotal"}),a.jsx("span",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2539:20","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2539","data-component-file":"InvoicingPage.tsx","data-component-name":"span",children:v(e)})]}),i>0&&a.jsxs("div",{className:"flex justify-between py-2 text-neutral-600","data-matrix-id":"src/pages/InvoicingPage.tsx:2542:20","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2542","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20py-2%20text-neutral-600%22%7D",children:[a.jsx("span",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2543:22","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2543","data-component-file":"InvoicingPage.tsx","data-component-name":"span",children:"Tax"}),a.jsx("span",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2544:22","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2544","data-component-file":"InvoicingPage.tsx","data-component-name":"span",children:v(i)})]}),a.jsxs("div",{className:"flex justify-between py-3 text-xl font-bold border-t border-neutral-300 mt-2","data-matrix-id":"src/pages/InvoicingPage.tsx:2547:18","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2547","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20py-3%20text-xl%20font-bold%20border-t%20border-neutral-300%20mt-2%22%7D",children:[a.jsx("span",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2548:20","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2548","data-component-file":"InvoicingPage.tsx","data-component-name":"span",children:"Total"}),a.jsx("span",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2549:20","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2549","data-component-file":"InvoicingPage.tsx","data-component-name":"span",children:v(p)})]})]})}),M.filter(t=>t.billable).length>0&&j!=="summary"&&a.jsxs("div",{className:"mt-6 pt-6 border-t border-neutral-200","data-matrix-id":"src/pages/InvoicingPage.tsx:2556:16","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2556","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mt-6%20pt-6%20border-t%20border-neutral-200%22%7D",children:[a.jsx("h4",{className:"font-semibold text-neutral-900 mb-3","data-matrix-id":"src/pages/InvoicingPage.tsx:2557:18","data-matrix-name":"h4","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2557","data-component-file":"InvoicingPage.tsx","data-component-name":"h4","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-neutral-900%20mb-3%22%7D",children:"Billable Expenses"}),a.jsx("div",{className:"text-sm space-y-2","data-matrix-id":"src/pages/InvoicingPage.tsx:2558:18","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2558","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-sm%20space-y-2%22%7D",children:M.filter(t=>t.billable).map(t=>a.jsxs("div",{className:"flex justify-between","data-matrix-id":"src/pages/InvoicingPage.tsx:2560:22","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2560","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%22%7D",children:[a.jsxs("span",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2561:24","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2561","data-component-file":"InvoicingPage.tsx","data-component-name":"span",children:[t.description," - ",t.category||"Expense"]}),a.jsx("span",{className:"font-medium","data-matrix-id":"src/pages/InvoicingPage.tsx:2562:24","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2562","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-medium%22%7D",children:v(t.amount)})]},t.id))})]})]})]}),U==="detail"&&a.jsxs("div",{className:"flex-1 flex overflow-hidden","data-matrix-id":"src/pages/InvoicingPage.tsx:2574:10","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2574","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-1%20flex%20overflow-hidden%22%7D",children:[a.jsxs("div",{className:"flex-1 p-6 overflow-auto","data-matrix-id":"src/pages/InvoicingPage.tsx:2576:12","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2576","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-1%20p-6%20overflow-auto%22%7D",children:[a.jsxs("div",{className:"flex items-start justify-between mb-6","data-matrix-id":"src/pages/InvoicingPage.tsx:2578:14","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2578","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-start%20justify-between%20mb-6%22%7D",children:[a.jsx("div",{className:"flex items-center gap-4","data-matrix-id":"src/pages/InvoicingPage.tsx:2579:16","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2579","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-4%22%7D",children:a.jsxs("div",{className:"text-sm","data-matrix-id":"src/pages/InvoicingPage.tsx:2580:18","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2580","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-sm%22%7D",children:[a.jsx("a",{href:"#",className:"text-neutral-600 hover:underline font-medium","data-matrix-id":"src/pages/InvoicingPage.tsx:2581:20","data-matrix-name":"a","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2581","data-component-file":"InvoicingPage.tsx","data-component-name":"a","data-component-content":"%7B%22href%22%3A%22%23%22%2C%22className%22%3A%22text-neutral-600%20hover%3Aunderline%20font-medium%22%7D",children:(tt=n.client)==null?void 0:tt.name}),a.jsx("p",{className:"text-neutral-500","data-matrix-id":"src/pages/InvoicingPage.tsx:2582:20","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2582","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-neutral-500%22%7D",children:"Client"})]})}),a.jsx("div",{className:"text-right","data-matrix-id":"src/pages/InvoicingPage.tsx:2585:16","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2585","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-right%22%7D",children:a.jsx("p",{className:"text-3xl font-bold text-neutral-900","data-matrix-id":"src/pages/InvoicingPage.tsx:2586:18","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2586","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-3xl%20font-bold%20text-neutral-900%22%7D",children:v(p)})})]}),a.jsx("div",{className:"bg-white rounded-xl border border-neutral-200 overflow-hidden mb-6","data-matrix-id":"src/pages/InvoicingPage.tsx:2591:14","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2591","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-white%20rounded-xl%20border%20border-neutral-200%20overflow-hidden%20mb-6%22%7D",children:a.jsxs("table",{className:"w-full","data-matrix-id":"src/pages/InvoicingPage.tsx:2592:16","data-matrix-name":"table","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2592","data-component-file":"InvoicingPage.tsx","data-component-name":"table","data-component-content":"%7B%22className%22%3A%22w-full%22%7D",children:[a.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200","data-matrix-id":"src/pages/InvoicingPage.tsx:2593:18","data-matrix-name":"thead","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2593","data-component-file":"InvoicingPage.tsx","data-component-name":"thead","data-component-content":"%7B%22className%22%3A%22bg-neutral-50%20border-b%20border-neutral-200%22%7D",children:a.jsxs("tr",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2594:20","data-matrix-name":"tr","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2594","data-component-file":"InvoicingPage.tsx","data-component-name":"tr",children:[a.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-neutral-600 uppercase","data-matrix-id":"src/pages/InvoicingPage.tsx:2595:22","data-matrix-name":"th","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2595","data-component-file":"InvoicingPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-left%20px-4%20py-3%20text-xs%20font-semibold%20text-neutral-600%20uppercase%22%7D",children:"Description"}),a.jsx("th",{className:"text-center px-4 py-3 text-xs font-semibold text-neutral-600 uppercase w-20","data-matrix-id":"src/pages/InvoicingPage.tsx:2596:22","data-matrix-name":"th","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2596","data-component-file":"InvoicingPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-center%20px-4%20py-3%20text-xs%20font-semibold%20text-neutral-600%20uppercase%20w-20%22%7D",children:"Qty"}),a.jsx("th",{className:"text-right px-4 py-3 text-xs font-semibold text-neutral-600 uppercase w-28","data-matrix-id":"src/pages/InvoicingPage.tsx:2597:22","data-matrix-name":"th","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2597","data-component-file":"InvoicingPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-right%20px-4%20py-3%20text-xs%20font-semibold%20text-neutral-600%20uppercase%20w-28%22%7D",children:"Rate"}),a.jsx("th",{className:"text-right px-4 py-3 text-xs font-semibold text-neutral-600 uppercase w-28","data-matrix-id":"src/pages/InvoicingPage.tsx:2598:22","data-matrix-name":"th","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2598","data-component-file":"InvoicingPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-right%20px-4%20py-3%20text-xs%20font-semibold%20text-neutral-600%20uppercase%20w-28%22%7D",children:"Amount"}),a.jsx("th",{className:"w-10","data-matrix-id":"src/pages/InvoicingPage.tsx:2599:22","data-matrix-name":"th","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2599","data-component-file":"InvoicingPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22w-10%22%7D"})]})}),a.jsx("tbody",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2602:18","data-matrix-name":"tbody","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2602","data-component-file":"InvoicingPage.tsx","data-component-name":"tbody",children:oa.map(t=>a.jsxs("tr",{className:"border-b border-neutral-100","data-matrix-id":"src/pages/InvoicingPage.tsx:2604:22","data-matrix-name":"tr","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2604","data-component-file":"InvoicingPage.tsx","data-component-name":"tr","data-component-content":"%7B%22className%22%3A%22border-b%20border-neutral-100%22%7D",children:[a.jsx("td",{className:"px-4 py-2","data-matrix-id":"src/pages/InvoicingPage.tsx:2605:24","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2605","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-4%20py-2%22%7D",children:a.jsx("input",{type:"text",value:t.description,onChange:r=>m(t.id,"description",r.target.value),className:"w-full px-2 py-1 border border-neutral-200 rounded focus:ring-2 focus:ring-primary-500 outline-none text-sm","data-matrix-id":"src/pages/InvoicingPage.tsx:2606:26","data-matrix-name":"input","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2606","data-component-file":"InvoicingPage.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22text%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20px-2%20py-1%20border%20border-neutral-200%20rounded%20focus%3Aring-2%20focus%3Aring-primary-500%20outline-none%20text-sm%22%7D"})}),a.jsx("td",{className:"px-4 py-2","data-matrix-id":"src/pages/InvoicingPage.tsx:2613:24","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2613","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-4%20py-2%22%7D",children:a.jsx("input",{type:"number",value:t.quantity,onChange:r=>m(t.id,"quantity",parseFloat(r.target.value)||0),className:"w-full px-2 py-1 border border-neutral-200 rounded text-center focus:ring-2 focus:ring-primary-500 outline-none text-sm","data-matrix-id":"src/pages/InvoicingPage.tsx:2614:26","data-matrix-name":"input","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2614","data-component-file":"InvoicingPage.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22number%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20px-2%20py-1%20border%20border-neutral-200%20rounded%20text-center%20focus%3Aring-2%20focus%3Aring-primary-500%20outline-none%20text-sm%22%7D"})}),a.jsx("td",{className:"px-4 py-2","data-matrix-id":"src/pages/InvoicingPage.tsx:2621:24","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2621","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-4%20py-2%22%7D",children:a.jsx("input",{type:"number",step:"0.01",value:t.rate,onChange:r=>m(t.id,"rate",parseFloat(r.target.value)||0),className:"w-full px-2 py-1 border border-neutral-200 rounded text-right focus:ring-2 focus:ring-primary-500 outline-none text-sm","data-matrix-id":"src/pages/InvoicingPage.tsx:2622:26","data-matrix-name":"input","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2622","data-component-file":"InvoicingPage.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22number%22%2C%22step%22%3A%220.01%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20px-2%20py-1%20border%20border-neutral-200%20rounded%20text-right%20focus%3Aring-2%20focus%3Aring-primary-500%20outline-none%20text-sm%22%7D"})}),a.jsx("td",{className:"px-4 py-2 text-right font-medium text-sm","data-matrix-id":"src/pages/InvoicingPage.tsx:2630:24","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2630","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-4%20py-2%20text-right%20font-medium%20text-sm%22%7D",children:v(t.amount)}),a.jsx("td",{className:"px-2 py-2","data-matrix-id":"src/pages/InvoicingPage.tsx:2633:24","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2633","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-2%20py-2%22%7D",children:a.jsx("button",{onClick:()=>N(t.id),className:"p-1 text-neutral-400 hover:text-neutral-700","data-matrix-id":"src/pages/InvoicingPage.tsx:2634:26","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2634","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22p-1%20text-neutral-400%20hover%3Atext-neutral-700%22%7D",children:a.jsx($a,{className:"w-4 h-4","data-matrix-id":"src/pages/InvoicingPage.tsx:2638:28","data-matrix-name":"Trash2","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2638","data-component-file":"InvoicingPage.tsx","data-component-name":"Trash2","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"})})})]},t.id))})]})}),a.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-3 py-1.5 bg-[#476E66] text-white text-sm rounded-lg hover:bg-[#3A5B54] mb-6","data-matrix-id":"src/pages/InvoicingPage.tsx:2647:14","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2647","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22flex%20items-center%20gap-2%20px-3%20py-1.5%20bg-%5B%23476E66%5D%20text-white%20text-sm%20rounded-lg%20hover%3Abg-%5B%233A5B54%5D%20mb-6%22%7D",children:[a.jsx(gt,{className:"w-4 h-4","data-matrix-id":"src/pages/InvoicingPage.tsx:2651:16","data-matrix-name":"Plus","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2651","data-component-file":"InvoicingPage.tsx","data-component-name":"Plus","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"})," Add Line Item"]}),a.jsx("div",{className:"flex justify-end","data-matrix-id":"src/pages/InvoicingPage.tsx:2655:14","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2655","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-end%22%7D",children:a.jsxs("div",{className:"w-64 text-sm","data-matrix-id":"src/pages/InvoicingPage.tsx:2656:16","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2656","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-64%20text-sm%22%7D",children:[a.jsxs("div",{className:"flex justify-between py-2 border-t border-neutral-200","data-matrix-id":"src/pages/InvoicingPage.tsx:2657:18","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2657","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20py-2%20border-t%20border-neutral-200%22%7D",children:[a.jsx("span",{className:"text-neutral-600","data-matrix-id":"src/pages/InvoicingPage.tsx:2658:20","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2658","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-neutral-600%22%7D",children:"Subtotal"}),a.jsx("span",{className:"font-medium","data-matrix-id":"src/pages/InvoicingPage.tsx:2659:20","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2659","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-medium%22%7D",children:v(e)})]}),a.jsxs("div",{className:"flex justify-between py-2 text-lg font-bold border-t border-neutral-300","data-matrix-id":"src/pages/InvoicingPage.tsx:2661:18","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2661","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20py-2%20text-lg%20font-bold%20border-t%20border-neutral-300%22%7D",children:[a.jsx("span",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2662:20","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2662","data-component-file":"InvoicingPage.tsx","data-component-name":"span",children:"Total"}),a.jsx("span",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2663:20","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2663","data-component-file":"InvoicingPage.tsx","data-component-name":"span",children:v(p)})]})]})})]}),a.jsxs("div",{className:"w-72 shrink-0 bg-white border-l border-neutral-200 p-4 overflow-auto space-y-4","data-matrix-id":"src/pages/InvoicingPage.tsx:2670:12","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2670","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-72%20shrink-0%20bg-white%20border-l%20border-neutral-200%20p-4%20overflow-auto%20space-y-4%22%7D",children:[a.jsxs("div",{className:"bg-neutral-50 rounded-xl p-4 space-y-3","data-matrix-id":"src/pages/InvoicingPage.tsx:2672:14","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2672","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-neutral-50%20rounded-xl%20p-4%20space-y-3%22%7D",children:[a.jsxs("div",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2673:16","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2673","data-component-file":"InvoicingPage.tsx","data-component-name":"div",children:[a.jsx("label",{className:"block text-xs font-medium text-neutral-500 mb-1","data-matrix-id":"src/pages/InvoicingPage.tsx:2674:18","data-matrix-name":"label","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2674","data-component-file":"InvoicingPage.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-xs%20font-medium%20text-neutral-500%20mb-1%22%7D",children:"Invoice #"}),a.jsx("input",{type:"text",value:W,onChange:t=>va(t.target.value),className:"w-full px-3 py-2 border border-neutral-200 rounded-lg text-sm bg-white","data-matrix-id":"src/pages/InvoicingPage.tsx:2675:18","data-matrix-name":"input","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2675","data-component-file":"InvoicingPage.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22text%22%2C%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20px-3%20py-2%20border%20border-neutral-200%20rounded-lg%20text-sm%20bg-white%22%7D"})]}),a.jsxs("div",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2678:16","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2678","data-component-file":"InvoicingPage.tsx","data-component-name":"div",children:[a.jsx("label",{className:"block text-xs font-medium text-neutral-500 mb-1","data-matrix-id":"src/pages/InvoicingPage.tsx:2679:18","data-matrix-name":"label","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2679","data-component-file":"InvoicingPage.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-xs%20font-medium%20text-neutral-500%20mb-1%22%7D",children:"Period"}),a.jsx("select",{className:"w-full px-3 py-2 border border-neutral-200 rounded-lg text-sm bg-white","data-matrix-id":"src/pages/InvoicingPage.tsx:2680:18","data-matrix-name":"select","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2680","data-component-file":"InvoicingPage.tsx","data-component-name":"select","data-component-content":"%7B%22className%22%3A%22w-full%20px-3%20py-2%20border%20border-neutral-200%20rounded-lg%20text-sm%20bg-white%22%7D",children:a.jsx("option",{value:"current","data-matrix-id":"src/pages/InvoicingPage.tsx:2681:20","data-matrix-name":"option","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2681","data-component-file":"InvoicingPage.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22current%22%7D",children:"Current Invoice"})})]}),a.jsxs("div",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2685:16","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2685","data-component-file":"InvoicingPage.tsx","data-component-name":"div",children:[a.jsx("label",{className:"block text-xs font-medium text-neutral-500 mb-1","data-matrix-id":"src/pages/InvoicingPage.tsx:2686:18","data-matrix-name":"label","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2686","data-component-file":"InvoicingPage.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-xs%20font-medium%20text-neutral-500%20mb-1%22%7D",children:"PO Number"}),a.jsx("input",{type:"text",value:K,onChange:t=>ta(t.target.value),placeholder:"Enter PO #",className:"w-full px-3 py-2 border border-neutral-200 rounded-lg text-sm bg-white","data-matrix-id":"src/pages/InvoicingPage.tsx:2687:18","data-matrix-name":"input","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2687","data-component-file":"InvoicingPage.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22text%22%2C%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22placeholder%22%3A%22Enter%20PO%20%23%22%2C%22className%22%3A%22w-full%20px-3%20py-2%20border%20border-neutral-200%20rounded-lg%20text-sm%20bg-white%22%7D"})]}),a.jsxs("div",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2690:16","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2690","data-component-file":"InvoicingPage.tsx","data-component-name":"div",children:[a.jsx("label",{className:"block text-xs font-medium text-neutral-500 mb-1","data-matrix-id":"src/pages/InvoicingPage.tsx:2691:18","data-matrix-name":"label","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2691","data-component-file":"InvoicingPage.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-xs%20font-medium%20text-neutral-500%20mb-1%22%7D",children:"Terms"}),a.jsxs("select",{value:O,onChange:t=>Y(t.target.value),className:"w-full px-3 py-2 border border-neutral-200 rounded-lg text-sm bg-white","data-matrix-id":"src/pages/InvoicingPage.tsx:2692:18","data-matrix-name":"select","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2692","data-component-file":"InvoicingPage.tsx","data-component-name":"select","data-component-content":"%7B%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20px-3%20py-2%20border%20border-neutral-200%20rounded-lg%20text-sm%20bg-white%22%7D",children:[a.jsx("option",{value:"Due on Receipt","data-matrix-id":"src/pages/InvoicingPage.tsx:2693:20","data-matrix-name":"option","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2693","data-component-file":"InvoicingPage.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22Due%20on%20Receipt%22%7D",children:"Due on Receipt"}),a.jsx("option",{value:"Net 15","data-matrix-id":"src/pages/InvoicingPage.tsx:2694:20","data-matrix-name":"option","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2694","data-component-file":"InvoicingPage.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22Net%2015%22%7D",children:"Net 15"}),a.jsx("option",{value:"Net 30","data-matrix-id":"src/pages/InvoicingPage.tsx:2695:20","data-matrix-name":"option","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2695","data-component-file":"InvoicingPage.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22Net%2030%22%7D",children:"Net 30"}),a.jsx("option",{value:"Net 45","data-matrix-id":"src/pages/InvoicingPage.tsx:2696:20","data-matrix-name":"option","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2696","data-component-file":"InvoicingPage.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22Net%2045%22%7D",children:"Net 45"}),a.jsx("option",{value:"Net 60","data-matrix-id":"src/pages/InvoicingPage.tsx:2697:20","data-matrix-name":"option","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2697","data-component-file":"InvoicingPage.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22Net%2060%22%7D",children:"Net 60"}),a.jsx("option",{value:"1% 10 Net 30","data-matrix-id":"src/pages/InvoicingPage.tsx:2698:20","data-matrix-name":"option","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2698","data-component-file":"InvoicingPage.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%221%25%2010%20Net%2030%22%7D",children:"1% 10 Net 30"}),a.jsx("option",{value:"2% 10 Net 30","data-matrix-id":"src/pages/InvoicingPage.tsx:2699:20","data-matrix-name":"option","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2699","data-component-file":"InvoicingPage.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%222%25%2010%20Net%2030%22%7D",children:"2% 10 Net 30"})]})]})]}),a.jsxs("div",{className:"bg-neutral-50 rounded-xl p-4 space-y-3","data-matrix-id":"src/pages/InvoicingPage.tsx:2705:14","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2705","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-neutral-50%20rounded-xl%20p-4%20space-y-3%22%7D",children:[a.jsxs("div",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2706:16","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2706","data-component-file":"InvoicingPage.tsx","data-component-name":"div",children:[a.jsx("label",{className:"block text-xs font-medium text-neutral-500 mb-1","data-matrix-id":"src/pages/InvoicingPage.tsx:2707:18","data-matrix-name":"label","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2707","data-component-file":"InvoicingPage.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-xs%20font-medium%20text-neutral-500%20mb-1%22%7D",children:"Status"}),a.jsxs("select",{value:ea,onChange:t=>J(t.target.value),className:"w-full px-3 py-2 border border-neutral-200 rounded-lg text-sm bg-white","data-matrix-id":"src/pages/InvoicingPage.tsx:2708:18","data-matrix-name":"select","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2708","data-component-file":"InvoicingPage.tsx","data-component-name":"select","data-component-content":"%7B%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20px-3%20py-2%20border%20border-neutral-200%20rounded-lg%20text-sm%20bg-white%22%7D",children:[a.jsx("option",{value:"draft","data-matrix-id":"src/pages/InvoicingPage.tsx:2709:20","data-matrix-name":"option","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2709","data-component-file":"InvoicingPage.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22draft%22%7D",children:"Draft"}),a.jsx("option",{value:"sent","data-matrix-id":"src/pages/InvoicingPage.tsx:2710:20","data-matrix-name":"option","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2710","data-component-file":"InvoicingPage.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22sent%22%7D",children:"Sent"}),a.jsx("option",{value:"paid","data-matrix-id":"src/pages/InvoicingPage.tsx:2711:20","data-matrix-name":"option","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2711","data-component-file":"InvoicingPage.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22paid%22%7D",children:"Paid"})]})]}),a.jsxs("div",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2715:16","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2715","data-component-file":"InvoicingPage.tsx","data-component-name":"div",children:[a.jsx("label",{className:"block text-xs font-medium text-neutral-500 mb-1","data-matrix-id":"src/pages/InvoicingPage.tsx:2716:18","data-matrix-name":"label","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2716","data-component-file":"InvoicingPage.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-xs%20font-medium%20text-neutral-500%20mb-1%22%7D",children:"Sent Date"}),a.jsx("input",{type:"date",value:Q,onChange:t=>aa(t.target.value),className:"w-full px-3 py-2 border border-neutral-200 rounded-lg text-sm bg-white","data-matrix-id":"src/pages/InvoicingPage.tsx:2717:18","data-matrix-name":"input","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2717","data-component-file":"InvoicingPage.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22date%22%2C%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20px-3%20py-2%20border%20border-neutral-200%20rounded-lg%20text-sm%20bg-white%22%7D"}),a.jsx("p",{className:"text-xs text-neutral-400 mt-1","data-matrix-id":"src/pages/InvoicingPage.tsx:2723:18","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2723","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-neutral-400%20mt-1%22%7D",children:"Due date calculated from sent date + terms"})]}),a.jsxs("div",{className:"space-y-2 pt-2","data-matrix-id":"src/pages/InvoicingPage.tsx:2727:16","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2727","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-2%20pt-2%22%7D",children:[a.jsxs("div",{className:"flex items-center justify-between text-xs","data-matrix-id":"src/pages/InvoicingPage.tsx:2728:18","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2728","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20text-xs%22%7D",children:[a.jsxs("div",{className:"flex items-center gap-2","data-matrix-id":"src/pages/InvoicingPage.tsx:2729:20","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2729","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%22%7D",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${z?"bg-neutral-1000":"bg-neutral-300"}`,"data-matrix-id":"src/pages/InvoicingPage.tsx:2730:22","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2730","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D"}),a.jsx("span",{className:"text-neutral-600","data-matrix-id":"src/pages/InvoicingPage.tsx:2731:22","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2731","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-neutral-600%22%7D",children:"Drafted"})]}),a.jsx("span",{className:"text-neutral-500","data-matrix-id":"src/pages/InvoicingPage.tsx:2733:20","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2733","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-neutral-500%22%7D",children:z?new Date(z).toLocaleDateString():"-"})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs","data-matrix-id":"src/pages/InvoicingPage.tsx:2735:18","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2735","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20text-xs%22%7D",children:[a.jsxs("div",{className:"flex items-center gap-2","data-matrix-id":"src/pages/InvoicingPage.tsx:2736:20","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2736","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%22%7D",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${Q?"bg-neutral-1000":"bg-neutral-300"}`,"data-matrix-id":"src/pages/InvoicingPage.tsx:2737:22","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2737","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D"}),a.jsx("span",{className:"text-neutral-600","data-matrix-id":"src/pages/InvoicingPage.tsx:2738:22","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2738","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-neutral-600%22%7D",children:"Sent"})]}),a.jsx("span",{className:"text-neutral-500","data-matrix-id":"src/pages/InvoicingPage.tsx:2740:20","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2740","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-neutral-500%22%7D",children:Q?new Date(Q).toLocaleDateString():"-"})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs","data-matrix-id":"src/pages/InvoicingPage.tsx:2742:18","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2742","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20text-xs%22%7D",children:[a.jsxs("div",{className:"flex items-center gap-2","data-matrix-id":"src/pages/InvoicingPage.tsx:2743:20","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2743","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%22%7D",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${c?"bg-neutral-1000":"bg-neutral-300"}`,"data-matrix-id":"src/pages/InvoicingPage.tsx:2744:22","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2744","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D"}),a.jsx("span",{className:"text-neutral-600","data-matrix-id":"src/pages/InvoicingPage.tsx:2745:22","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2745","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-neutral-600%22%7D",children:"Due"})]}),a.jsx("span",{className:"text-neutral-500","data-matrix-id":"src/pages/InvoicingPage.tsx:2747:20","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2747","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-neutral-500%22%7D",children:c?new Date(c).toLocaleDateString():"-"})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs","data-matrix-id":"src/pages/InvoicingPage.tsx:2749:18","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2749","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20text-xs%22%7D",children:[a.jsxs("div",{className:"flex items-center gap-2","data-matrix-id":"src/pages/InvoicingPage.tsx:2750:20","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2750","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%22%7D",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${ea==="paid"?"bg-neutral-1000":"bg-neutral-300"}`,"data-matrix-id":"src/pages/InvoicingPage.tsx:2751:22","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2751","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D"}),a.jsx("span",{className:"text-neutral-600","data-matrix-id":"src/pages/InvoicingPage.tsx:2752:22","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2752","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-neutral-600%22%7D",children:"Paid"})]}),a.jsx("span",{className:"text-neutral-500","data-matrix-id":"src/pages/InvoicingPage.tsx:2754:20","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2754","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-neutral-500%22%7D",children:ea==="paid"&&n.paid_at?new Date(n.paid_at).toLocaleDateString():"-"})]})]}),a.jsxs("div",{className:"pt-2","data-matrix-id":"src/pages/InvoicingPage.tsx:2758:16","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2758","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22pt-2%22%7D",children:[a.jsx("label",{className:"block text-xs font-medium text-neutral-500 mb-1","data-matrix-id":"src/pages/InvoicingPage.tsx:2759:18","data-matrix-name":"label","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2759","data-component-file":"InvoicingPage.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-xs%20font-medium%20text-neutral-500%20mb-1%22%7D",children:"Due Date"}),a.jsx("input",{type:"date",value:c,onChange:t=>b(t.target.value),className:"w-full px-3 py-2 border border-neutral-200 rounded-lg text-sm bg-white","data-matrix-id":"src/pages/InvoicingPage.tsx:2760:18","data-matrix-name":"input","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2760","data-component-file":"InvoicingPage.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22date%22%2C%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20px-3%20py-2%20border%20border-neutral-200%20rounded-lg%20text-sm%20bg-white%22%7D"})]})]}),a.jsx(Zt,{invoice:n,sentDate:Q,formatCurrency:v,"data-matrix-id":"src/pages/InvoicingPage.tsx:2765:14","data-matrix-name":"PaymentReminderSection","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2765","data-component-file":"InvoicingPage.tsx","data-component-name":"PaymentReminderSection","data-component-content":"%7B%22invoice%22%3A%22%5BIdentifier%5D%22%2C%22sentDate%22%3A%22%5BIdentifier%5D%22%2C%22formatCurrency%22%3A%22%5BIdentifier%5D%22%7D"}),a.jsxs("div",{className:"bg-neutral-50 rounded-xl p-4 space-y-3","data-matrix-id":"src/pages/InvoicingPage.tsx:2772:14","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2772","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-neutral-50%20rounded-xl%20p-4%20space-y-3%22%7D",children:[a.jsx("label",{className:"block text-xs font-medium text-neutral-500","data-matrix-id":"src/pages/InvoicingPage.tsx:2773:16","data-matrix-name":"label","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2773","data-component-file":"InvoicingPage.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-xs%20font-medium%20text-neutral-500%22%7D",children:"Payment Options"}),a.jsxs("div",{className:"space-y-2","data-matrix-id":"src/pages/InvoicingPage.tsx:2774:16","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2774","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-2%22%7D",children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer","data-matrix-id":"src/pages/InvoicingPage.tsx:2775:18","data-matrix-name":"label","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2775","data-component-file":"InvoicingPage.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%20text-sm%20cursor-pointer%22%7D",children:[a.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4 rounded border-neutral-300 text-neutral-500","data-matrix-id":"src/pages/InvoicingPage.tsx:2776:20","data-matrix-name":"input","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2776","data-component-file":"InvoicingPage.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22checkbox%22%2C%22defaultChecked%22%3Atrue%2C%22className%22%3A%22w-4%20h-4%20rounded%20border-neutral-300%20text-neutral-500%22%7D"}),a.jsx("span",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2777:20","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2777","data-component-file":"InvoicingPage.tsx","data-component-name":"span",children:"Bank Transfer"})]}),a.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer","data-matrix-id":"src/pages/InvoicingPage.tsx:2779:18","data-matrix-name":"label","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2779","data-component-file":"InvoicingPage.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%20text-sm%20cursor-pointer%22%7D",children:[a.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-neutral-300 text-neutral-500","data-matrix-id":"src/pages/InvoicingPage.tsx:2780:20","data-matrix-name":"input","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2780","data-component-file":"InvoicingPage.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22checkbox%22%2C%22className%22%3A%22w-4%20h-4%20rounded%20border-neutral-300%20text-neutral-500%22%7D"}),a.jsx("span",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2781:20","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2781","data-component-file":"InvoicingPage.tsx","data-component-name":"span",children:"Credit Card"})]}),a.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer","data-matrix-id":"src/pages/InvoicingPage.tsx:2783:18","data-matrix-name":"label","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2783","data-component-file":"InvoicingPage.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%20text-sm%20cursor-pointer%22%7D",children:[a.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-neutral-300 text-neutral-500","data-matrix-id":"src/pages/InvoicingPage.tsx:2784:20","data-matrix-name":"input","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2784","data-component-file":"InvoicingPage.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22checkbox%22%2C%22className%22%3A%22w-4%20h-4%20rounded%20border-neutral-300%20text-neutral-500%22%7D"}),a.jsx("span",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2785:20","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2785","data-component-file":"InvoicingPage.tsx","data-component-name":"span",children:"Check"})]})]})]})]})]}),U==="time"&&a.jsx("div",{className:"flex-1 p-6 overflow-auto","data-matrix-id":"src/pages/InvoicingPage.tsx:2795:10","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2795","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-1%20p-6%20overflow-auto%22%7D",children:a.jsxs("div",{className:"bg-white rounded-xl border border-neutral-200 overflow-hidden","data-matrix-id":"src/pages/InvoicingPage.tsx:2796:12","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2796","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-white%20rounded-xl%20border%20border-neutral-200%20overflow-hidden%22%7D",children:[a.jsxs("div",{className:"p-4 border-b border-neutral-200 flex items-center gap-3","data-matrix-id":"src/pages/InvoicingPage.tsx:2797:14","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2797","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-4%20border-b%20border-neutral-200%20flex%20items-center%20gap-3%22%7D",children:[a.jsx("button",{className:"px-4 py-2 bg-white border border-neutral-300 rounded-lg text-sm font-medium hover:bg-neutral-50","data-matrix-id":"src/pages/InvoicingPage.tsx:2798:16","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2798","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22className%22%3A%22px-4%20py-2%20bg-white%20border%20border-neutral-300%20rounded-lg%20text-sm%20font-medium%20hover%3Abg-neutral-50%22%7D",children:"Add Time"}),a.jsx("button",{className:"px-4 py-2 bg-white border border-neutral-300 rounded-lg text-sm font-medium hover:bg-neutral-50","data-matrix-id":"src/pages/InvoicingPage.tsx:2801:16","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2801","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22className%22%3A%22px-4%20py-2%20bg-white%20border%20border-neutral-300%20rounded-lg%20text-sm%20font-medium%20hover%3Abg-neutral-50%22%7D",children:"Update Rates"}),a.jsx("button",{className:"px-4 py-2 bg-neutral-1000 text-white rounded-lg text-sm font-medium hover:bg-emerald-600","data-matrix-id":"src/pages/InvoicingPage.tsx:2804:16","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2804","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22className%22%3A%22px-4%20py-2%20bg-neutral-1000%20text-white%20rounded-lg%20text-sm%20font-medium%20hover%3Abg-emerald-600%22%7D",children:"Recalculate Invoice Amount"})]}),a.jsxs("table",{className:"w-full","data-matrix-id":"src/pages/InvoicingPage.tsx:2809:14","data-matrix-name":"table","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2809","data-component-file":"InvoicingPage.tsx","data-component-name":"table","data-component-content":"%7B%22className%22%3A%22w-full%22%7D",children:[a.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200","data-matrix-id":"src/pages/InvoicingPage.tsx:2810:16","data-matrix-name":"thead","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2810","data-component-file":"InvoicingPage.tsx","data-component-name":"thead","data-component-content":"%7B%22className%22%3A%22bg-neutral-50%20border-b%20border-neutral-200%22%7D",children:a.jsxs("tr",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2811:18","data-matrix-name":"tr","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2811","data-component-file":"InvoicingPage.tsx","data-component-name":"tr",children:[a.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-neutral-600 uppercase","data-matrix-id":"src/pages/InvoicingPage.tsx:2812:20","data-matrix-name":"th","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2812","data-component-file":"InvoicingPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-left%20px-4%20py-3%20text-xs%20font-semibold%20text-neutral-600%20uppercase%22%7D",children:"Staff Member"}),a.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-neutral-600 uppercase","data-matrix-id":"src/pages/InvoicingPage.tsx:2813:20","data-matrix-name":"th","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2813","data-component-file":"InvoicingPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-left%20px-4%20py-3%20text-xs%20font-semibold%20text-neutral-600%20uppercase%22%7D",children:"Date"}),a.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-neutral-600 uppercase","data-matrix-id":"src/pages/InvoicingPage.tsx:2814:20","data-matrix-name":"th","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2814","data-component-file":"InvoicingPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-left%20px-4%20py-3%20text-xs%20font-semibold%20text-neutral-600%20uppercase%22%7D",children:"Category"}),a.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-neutral-600 uppercase","data-matrix-id":"src/pages/InvoicingPage.tsx:2815:20","data-matrix-name":"th","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2815","data-component-file":"InvoicingPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-left%20px-4%20py-3%20text-xs%20font-semibold%20text-neutral-600%20uppercase%22%7D",children:"Notes"}),a.jsx("th",{className:"text-right px-4 py-3 text-xs font-semibold text-neutral-600 uppercase","data-matrix-id":"src/pages/InvoicingPage.tsx:2816:20","data-matrix-name":"th","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2816","data-component-file":"InvoicingPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-right%20px-4%20py-3%20text-xs%20font-semibold%20text-neutral-600%20uppercase%22%7D",children:"Rate"}),a.jsx("th",{className:"text-right px-4 py-3 text-xs font-semibold text-neutral-600 uppercase","data-matrix-id":"src/pages/InvoicingPage.tsx:2817:20","data-matrix-name":"th","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2817","data-component-file":"InvoicingPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-right%20px-4%20py-3%20text-xs%20font-semibold%20text-neutral-600%20uppercase%22%7D",children:"Hours"}),a.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-neutral-600 uppercase","data-matrix-id":"src/pages/InvoicingPage.tsx:2818:20","data-matrix-name":"th","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2818","data-component-file":"InvoicingPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-left%20px-4%20py-3%20text-xs%20font-semibold%20text-neutral-600%20uppercase%22%7D",children:"Task"}),a.jsx("th",{className:"text-right px-4 py-3 text-xs font-semibold text-neutral-600 uppercase","data-matrix-id":"src/pages/InvoicingPage.tsx:2819:20","data-matrix-name":"th","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2819","data-component-file":"InvoicingPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-right%20px-4%20py-3%20text-xs%20font-semibold%20text-neutral-600%20uppercase%22%7D",children:"Fees"})]})}),a.jsx("tbody",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2822:16","data-matrix-name":"tbody","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2822","data-component-file":"InvoicingPage.tsx","data-component-name":"tbody",children:l.length===0?a.jsx("tr",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2824:20","data-matrix-name":"tr","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2824","data-component-file":"InvoicingPage.tsx","data-component-name":"tr",children:a.jsx("td",{colSpan:8,className:"px-4 py-12 text-center text-neutral-500","data-matrix-id":"src/pages/InvoicingPage.tsx:2825:22","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2825","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22colSpan%22%3A8%2C%22className%22%3A%22px-4%20py-12%20text-center%20text-neutral-500%22%7D",children:"No time entries found for this invoice"})}):l.map(t=>{var r;return a.jsxs("tr",{className:"border-b border-neutral-100 hover:bg-neutral-50","data-matrix-id":"src/pages/InvoicingPage.tsx:2831:22","data-matrix-name":"tr","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2831","data-component-file":"InvoicingPage.tsx","data-component-name":"tr","data-component-content":"%7B%22className%22%3A%22border-b%20border-neutral-100%20hover%3Abg-neutral-50%22%7D",children:[a.jsx("td",{className:"px-4 py-3 text-sm","data-matrix-id":"src/pages/InvoicingPage.tsx:2832:24","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2832","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-4%20py-3%20text-sm%22%7D",children:((r=t.profiles)==null?void 0:r.full_name)||"Unknown"}),a.jsx("td",{className:"px-4 py-3 text-sm","data-matrix-id":"src/pages/InvoicingPage.tsx:2833:24","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2833","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-4%20py-3%20text-sm%22%7D",children:new Date(t.date).toLocaleDateString()}),a.jsx("td",{className:"px-4 py-3 text-sm","data-matrix-id":"src/pages/InvoicingPage.tsx:2834:24","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2834","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-4%20py-3%20text-sm%22%7D",children:t.category||"-"}),a.jsx("td",{className:"px-4 py-3 text-sm","data-matrix-id":"src/pages/InvoicingPage.tsx:2835:24","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2835","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-4%20py-3%20text-sm%22%7D",children:t.notes||"-"}),a.jsx("td",{className:"px-4 py-3 text-sm text-right","data-matrix-id":"src/pages/InvoicingPage.tsx:2836:24","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2836","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-4%20py-3%20text-sm%20text-right%22%7D",children:"-"}),a.jsx("td",{className:"px-4 py-3 text-sm text-right","data-matrix-id":"src/pages/InvoicingPage.tsx:2837:24","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2837","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-4%20py-3%20text-sm%20text-right%22%7D",children:(t.hours||0).toFixed(2)}),a.jsx("td",{className:"px-4 py-3 text-sm","data-matrix-id":"src/pages/InvoicingPage.tsx:2838:24","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2838","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-4%20py-3%20text-sm%22%7D",children:t.task_name||"-"}),a.jsx("td",{className:"px-4 py-3 text-sm text-right","data-matrix-id":"src/pages/InvoicingPage.tsx:2839:24","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2839","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-4%20py-3%20text-sm%20text-right%22%7D",children:"-"})]},t.id)})}),a.jsx("tfoot",{className:"bg-neutral-50 border-t border-neutral-200","data-matrix-id":"src/pages/InvoicingPage.tsx:2844:16","data-matrix-name":"tfoot","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2844","data-component-file":"InvoicingPage.tsx","data-component-name":"tfoot","data-component-content":"%7B%22className%22%3A%22bg-neutral-50%20border-t%20border-neutral-200%22%7D",children:a.jsxs("tr",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2845:18","data-matrix-name":"tr","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2845","data-component-file":"InvoicingPage.tsx","data-component-name":"tr",children:[a.jsx("td",{colSpan:5,className:"px-4 py-3 font-semibold","data-matrix-id":"src/pages/InvoicingPage.tsx:2846:20","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2846","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22colSpan%22%3A5%2C%22className%22%3A%22px-4%20py-3%20font-semibold%22%7D",children:"OVERALL TOTALS"}),a.jsx("td",{className:"px-4 py-3 text-right font-semibold","data-matrix-id":"src/pages/InvoicingPage.tsx:2847:20","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2847","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-4%20py-3%20text-right%20font-semibold%22%7D",children:l.reduce((t,r)=>t+(r.hours||0),0).toFixed(2)}),a.jsx("td",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2850:20","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2850","data-component-file":"InvoicingPage.tsx","data-component-name":"td"}),a.jsx("td",{className:"px-4 py-3 text-right font-semibold","data-matrix-id":"src/pages/InvoicingPage.tsx:2851:20","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2851","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-4%20py-3%20text-right%20font-semibold%22%7D",children:"-"})]})})]})]})}),U==="expenses"&&a.jsx("div",{className:"flex-1 p-6 overflow-auto","data-matrix-id":"src/pages/InvoicingPage.tsx:2861:10","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2861","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-1%20p-6%20overflow-auto%22%7D",children:a.jsxs("div",{className:"bg-white rounded-xl border border-neutral-200 overflow-hidden","data-matrix-id":"src/pages/InvoicingPage.tsx:2862:12","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2862","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-white%20rounded-xl%20border%20border-neutral-200%20overflow-hidden%22%7D",children:[a.jsxs("div",{className:"p-4 border-b border-neutral-200 flex items-center gap-3","data-matrix-id":"src/pages/InvoicingPage.tsx:2863:14","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2863","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-4%20border-b%20border-neutral-200%20flex%20items-center%20gap-3%22%7D",children:[a.jsx("button",{className:"px-4 py-2 bg-white border border-neutral-300 rounded-lg text-sm font-medium hover:bg-neutral-50","data-matrix-id":"src/pages/InvoicingPage.tsx:2864:16","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2864","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22className%22%3A%22px-4%20py-2%20bg-white%20border%20border-neutral-300%20rounded-lg%20text-sm%20font-medium%20hover%3Abg-neutral-50%22%7D",children:"Add Expense"}),a.jsx("button",{className:"px-4 py-2 bg-neutral-1000 text-white rounded-lg text-sm font-medium hover:bg-emerald-600","data-matrix-id":"src/pages/InvoicingPage.tsx:2867:16","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2867","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22className%22%3A%22px-4%20py-2%20bg-neutral-1000%20text-white%20rounded-lg%20text-sm%20font-medium%20hover%3Abg-emerald-600%22%7D",children:"Recalculate Invoice Amount"})]}),a.jsxs("table",{className:"w-full","data-matrix-id":"src/pages/InvoicingPage.tsx:2872:14","data-matrix-name":"table","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2872","data-component-file":"InvoicingPage.tsx","data-component-name":"table","data-component-content":"%7B%22className%22%3A%22w-full%22%7D",children:[a.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200","data-matrix-id":"src/pages/InvoicingPage.tsx:2873:16","data-matrix-name":"thead","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2873","data-component-file":"InvoicingPage.tsx","data-component-name":"thead","data-component-content":"%7B%22className%22%3A%22bg-neutral-50%20border-b%20border-neutral-200%22%7D",children:a.jsxs("tr",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2874:18","data-matrix-name":"tr","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2874","data-component-file":"InvoicingPage.tsx","data-component-name":"tr",children:[a.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-neutral-600 uppercase","data-matrix-id":"src/pages/InvoicingPage.tsx:2875:20","data-matrix-name":"th","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2875","data-component-file":"InvoicingPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-left%20px-4%20py-3%20text-xs%20font-semibold%20text-neutral-600%20uppercase%22%7D",children:"Date"}),a.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-neutral-600 uppercase","data-matrix-id":"src/pages/InvoicingPage.tsx:2876:20","data-matrix-name":"th","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2876","data-component-file":"InvoicingPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-left%20px-4%20py-3%20text-xs%20font-semibold%20text-neutral-600%20uppercase%22%7D",children:"Category"}),a.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-neutral-600 uppercase","data-matrix-id":"src/pages/InvoicingPage.tsx:2877:20","data-matrix-name":"th","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2877","data-component-file":"InvoicingPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-left%20px-4%20py-3%20text-xs%20font-semibold%20text-neutral-600%20uppercase%22%7D",children:"Description"}),a.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-neutral-600 uppercase","data-matrix-id":"src/pages/InvoicingPage.tsx:2878:20","data-matrix-name":"th","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2878","data-component-file":"InvoicingPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-left%20px-4%20py-3%20text-xs%20font-semibold%20text-neutral-600%20uppercase%22%7D",children:"Vendor"}),a.jsx("th",{className:"text-right px-4 py-3 text-xs font-semibold text-neutral-600 uppercase","data-matrix-id":"src/pages/InvoicingPage.tsx:2879:20","data-matrix-name":"th","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2879","data-component-file":"InvoicingPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-right%20px-4%20py-3%20text-xs%20font-semibold%20text-neutral-600%20uppercase%22%7D",children:"Amount"}),a.jsx("th",{className:"text-center px-4 py-3 text-xs font-semibold text-neutral-600 uppercase","data-matrix-id":"src/pages/InvoicingPage.tsx:2880:20","data-matrix-name":"th","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2880","data-component-file":"InvoicingPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-center%20px-4%20py-3%20text-xs%20font-semibold%20text-neutral-600%20uppercase%22%7D",children:"Billable"})]})}),a.jsx("tbody",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2883:16","data-matrix-name":"tbody","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2883","data-component-file":"InvoicingPage.tsx","data-component-name":"tbody",children:M.length===0?a.jsx("tr",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2885:20","data-matrix-name":"tr","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2885","data-component-file":"InvoicingPage.tsx","data-component-name":"tr",children:a.jsx("td",{colSpan:6,className:"px-4 py-12 text-center text-neutral-500","data-matrix-id":"src/pages/InvoicingPage.tsx:2886:22","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2886","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22colSpan%22%3A6%2C%22className%22%3A%22px-4%20py-12%20text-center%20text-neutral-500%22%7D",children:"No expenses found for this invoice"})}):M.map(t=>a.jsxs("tr",{className:"border-b border-neutral-100 hover:bg-neutral-50","data-matrix-id":"src/pages/InvoicingPage.tsx:2892:22","data-matrix-name":"tr","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2892","data-component-file":"InvoicingPage.tsx","data-component-name":"tr","data-component-content":"%7B%22className%22%3A%22border-b%20border-neutral-100%20hover%3Abg-neutral-50%22%7D",children:[a.jsx("td",{className:"px-4 py-3 text-sm","data-matrix-id":"src/pages/InvoicingPage.tsx:2893:24","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2893","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-4%20py-3%20text-sm%22%7D",children:new Date(t.date).toLocaleDateString()}),a.jsx("td",{className:"px-4 py-3 text-sm","data-matrix-id":"src/pages/InvoicingPage.tsx:2894:24","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2894","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-4%20py-3%20text-sm%22%7D",children:t.category||"-"}),a.jsx("td",{className:"px-4 py-3 text-sm","data-matrix-id":"src/pages/InvoicingPage.tsx:2895:24","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2895","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-4%20py-3%20text-sm%22%7D",children:t.description||"-"}),a.jsx("td",{className:"px-4 py-3 text-sm","data-matrix-id":"src/pages/InvoicingPage.tsx:2896:24","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2896","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-4%20py-3%20text-sm%22%7D",children:t.vendor||"-"}),a.jsx("td",{className:"px-4 py-3 text-sm text-right","data-matrix-id":"src/pages/InvoicingPage.tsx:2897:24","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2897","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-4%20py-3%20text-sm%20text-right%22%7D",children:v(t.amount)}),a.jsx("td",{className:"px-4 py-3 text-center","data-matrix-id":"src/pages/InvoicingPage.tsx:2898:24","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2898","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-4%20py-3%20text-center%22%7D",children:t.billable?a.jsx(mt,{className:"w-4 h-4 text-neutral-700 mx-auto","data-matrix-id":"src/pages/InvoicingPage.tsx:2899:46","data-matrix-name":"Check","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2899","data-component-file":"InvoicingPage.tsx","data-component-name":"Check","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20text-neutral-700%20mx-auto%22%7D"}):"-"})]},t.id))}),a.jsx("tfoot",{className:"bg-neutral-50 border-t border-neutral-200","data-matrix-id":"src/pages/InvoicingPage.tsx:2905:16","data-matrix-name":"tfoot","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2905","data-component-file":"InvoicingPage.tsx","data-component-name":"tfoot","data-component-content":"%7B%22className%22%3A%22bg-neutral-50%20border-t%20border-neutral-200%22%7D",children:a.jsxs("tr",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2906:18","data-matrix-name":"tr","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2906","data-component-file":"InvoicingPage.tsx","data-component-name":"tr",children:[a.jsx("td",{colSpan:4,className:"px-4 py-3 font-semibold","data-matrix-id":"src/pages/InvoicingPage.tsx:2907:20","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2907","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22colSpan%22%3A4%2C%22className%22%3A%22px-4%20py-3%20font-semibold%22%7D",children:"TOTAL"}),a.jsx("td",{className:"px-4 py-3 text-right font-semibold","data-matrix-id":"src/pages/InvoicingPage.tsx:2908:20","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2908","data-component-file":"InvoicingPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-4%20py-3%20text-right%20font-semibold%22%7D",children:v(M.reduce((t,r)=>t+(r.amount||0),0))}),a.jsx("td",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2911:20","data-matrix-name":"td","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2911","data-component-file":"InvoicingPage.tsx","data-component-name":"td"})]})})]})]})}),U==="history"&&a.jsx("div",{className:"flex-1 p-6 overflow-auto","data-matrix-id":"src/pages/InvoicingPage.tsx:2920:10","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2920","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-1%20p-6%20overflow-auto%22%7D",children:a.jsxs("div",{className:"bg-white rounded-xl border border-neutral-200 overflow-hidden","data-matrix-id":"src/pages/InvoicingPage.tsx:2921:12","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2921","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-white%20rounded-xl%20border%20border-neutral-200%20overflow-hidden%22%7D",children:[a.jsxs("div",{className:"p-4 border-b border-neutral-200","data-matrix-id":"src/pages/InvoicingPage.tsx:2922:14","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2922","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-4%20border-b%20border-neutral-200%22%7D",children:[a.jsx("h3",{className:"font-semibold text-neutral-900","data-matrix-id":"src/pages/InvoicingPage.tsx:2923:16","data-matrix-name":"h3","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2923","data-component-file":"InvoicingPage.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-neutral-900%22%7D",children:"Reminder History"}),a.jsx("p",{className:"text-sm text-neutral-500 mt-1","data-matrix-id":"src/pages/InvoicingPage.tsx:2924:16","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2924","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-neutral-500%20mt-1%22%7D",children:"Track all payment reminders sent for this invoice"})]}),Aa?a.jsx("div",{className:"p-12 text-center","data-matrix-id":"src/pages/InvoicingPage.tsx:2928:16","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2928","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-12%20text-center%22%7D",children:a.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-neutral-400 border-t-transparent rounded-full mx-auto","data-matrix-id":"src/pages/InvoicingPage.tsx:2929:18","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2929","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22animate-spin%20w-6%20h-6%20border-2%20border-neutral-400%20border-t-transparent%20rounded-full%20mx-auto%22%7D"})}):fa.length===0?a.jsxs("div",{className:"p-12 text-center text-neutral-500","data-matrix-id":"src/pages/InvoicingPage.tsx:2932:16","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2932","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-12%20text-center%20text-neutral-500%22%7D",children:[a.jsx(Ha,{className:"w-12 h-12 mx-auto mb-3 text-neutral-300","data-matrix-id":"src/pages/InvoicingPage.tsx:2933:18","data-matrix-name":"Mail","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2933","data-component-file":"InvoicingPage.tsx","data-component-name":"Mail","data-component-content":"%7B%22className%22%3A%22w-12%20h-12%20mx-auto%20mb-3%20text-neutral-300%22%7D"}),a.jsx("p",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2934:18","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2934","data-component-file":"InvoicingPage.tsx","data-component-name":"p",children:"No reminders have been sent for this invoice yet."})]}):a.jsx("div",{className:"divide-y divide-neutral-100","data-matrix-id":"src/pages/InvoicingPage.tsx:2937:16","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2937","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22divide-y%20divide-neutral-100%22%7D",children:fa.map(t=>a.jsx("div",{className:"p-4 hover:bg-neutral-50","data-matrix-id":"src/pages/InvoicingPage.tsx:2939:20","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2939","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-4%20hover%3Abg-neutral-50%22%7D",children:a.jsxs("div",{className:"flex items-start justify-between gap-4","data-matrix-id":"src/pages/InvoicingPage.tsx:2940:22","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2940","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-start%20justify-between%20gap-4%22%7D",children:[a.jsxs("div",{className:"flex items-start gap-3","data-matrix-id":"src/pages/InvoicingPage.tsx:2941:24","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2941","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-start%20gap-3%22%7D",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${t.status==="sent"?"bg-emerald-100 text-emerald-600":"bg-red-100 text-red-600"}`,"data-matrix-id":"src/pages/InvoicingPage.tsx:2942:26","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2942","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:t.status==="sent"?a.jsx(_t,{className:"w-4 h-4","data-matrix-id":"src/pages/InvoicingPage.tsx:2945:55","data-matrix-name":"CheckCircle","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2945","data-component-file":"InvoicingPage.tsx","data-component-name":"CheckCircle","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"}):a.jsx(Ja,{className:"w-4 h-4","data-matrix-id":"src/pages/InvoicingPage.tsx:2945:93","data-matrix-name":"AlertCircle","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2945","data-component-file":"InvoicingPage.tsx","data-component-name":"AlertCircle","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"})}),a.jsxs("div",{"data-matrix-id":"src/pages/InvoicingPage.tsx:2947:26","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2947","data-component-file":"InvoicingPage.tsx","data-component-name":"div",children:[a.jsxs("p",{className:"font-medium text-neutral-900","data-matrix-id":"src/pages/InvoicingPage.tsx:2948:28","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2948","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22font-medium%20text-neutral-900%22%7D",children:["Reminder sent to ",t.recipient_email]}),a.jsx("p",{className:"text-sm text-neutral-500 mt-0.5","data-matrix-id":"src/pages/InvoicingPage.tsx:2951:28","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2951","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-neutral-500%20mt-0.5%22%7D",children:t.sent_at?new Date(t.sent_at).toLocaleString():"Unknown date"}),t.subject&&a.jsxs("p",{className:"text-sm text-neutral-600 mt-2","data-matrix-id":"src/pages/InvoicingPage.tsx:2955:30","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2955","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-neutral-600%20mt-2%22%7D",children:[a.jsx("span",{className:"font-medium","data-matrix-id":"src/pages/InvoicingPage.tsx:2956:32","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2956","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-medium%22%7D",children:"Subject:"})," ",t.subject]})]})]}),a.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${t.status==="sent"?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,"data-matrix-id":"src/pages/InvoicingPage.tsx:2961:24","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2961","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:t.status==="sent"?"Sent":"Failed"})]})},t.id))})]})})]}),a.jsxs("div",{className:"bg-white border-t border-neutral-200 px-6 py-4 flex items-center justify-between","data-matrix-id":"src/pages/InvoicingPage.tsx:2977:6","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2977","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-white%20border-t%20border-neutral-200%20px-6%20py-4%20flex%20items-center%20justify-between%22%7D",children:[a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 text-neutral-900 hover:bg-neutral-100 rounded-lg","data-matrix-id":"src/pages/InvoicingPage.tsx:2978:8","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2978","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%20px-4%20py-2%20text-neutral-900%20hover%3Abg-neutral-100%20rounded-lg%22%7D",children:[a.jsx($a,{className:"w-4 h-4","data-matrix-id":"src/pages/InvoicingPage.tsx:2979:10","data-matrix-name":"Trash2","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2979","data-component-file":"InvoicingPage.tsx","data-component-name":"Trash2","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"})," Delete"]}),a.jsxs("div",{className:"flex items-center gap-3","data-matrix-id":"src/pages/InvoicingPage.tsx:2981:8","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2981","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-3%22%7D",children:[a.jsx("button",{onClick:f,className:"px-4 py-2 border border-neutral-200 rounded-lg hover:bg-neutral-50","data-matrix-id":"src/pages/InvoicingPage.tsx:2982:10","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2982","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22px-4%20py-2%20border%20border-neutral-200%20rounded-lg%20hover%3Abg-neutral-50%22%7D",children:"Cancel"}),a.jsx("button",{onClick:g,disabled:X,className:"px-6 py-2 bg-neutral-1000 text-white rounded-lg hover:bg-emerald-600 disabled:opacity-50 flex items-center gap-2","data-matrix-id":"src/pages/InvoicingPage.tsx:2985:10","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2985","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22disabled%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22px-6%20py-2%20bg-neutral-1000%20text-white%20rounded-lg%20hover%3Abg-emerald-600%20disabled%3Aopacity-50%20flex%20items-center%20gap-2%22%7D",children:X?"Saving...":"Save Changes"})]})]}),$&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50","data-matrix-id":"src/pages/InvoicingPage.tsx:2997:8","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2997","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22fixed%20inset-0%20bg-black%2F50%20flex%20items-center%20justify-center%20z-50%22%7D",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg shadow-2xl","data-matrix-id":"src/pages/InvoicingPage.tsx:2998:10","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2998","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-white%20rounded-2xl%20w-full%20max-w-lg%20shadow-2xl%22%7D",children:[a.jsx("div",{className:"p-6 border-b border-neutral-100","data-matrix-id":"src/pages/InvoicingPage.tsx:2999:12","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"2999","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-6%20border-b%20border-neutral-100%22%7D",children:a.jsxs("div",{className:"flex items-center justify-between","data-matrix-id":"src/pages/InvoicingPage.tsx:3000:14","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"3000","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%22%7D",children:[a.jsx("h3",{className:"text-xl font-semibold","data-matrix-id":"src/pages/InvoicingPage.tsx:3001:16","data-matrix-name":"h3","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"3001","data-component-file":"InvoicingPage.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-xl%20font-semibold%22%7D",children:"Send Invoice"}),a.jsx("button",{onClick:()=>ga(!1),className:"p-2 hover:bg-neutral-100 rounded-lg","data-matrix-id":"src/pages/InvoicingPage.tsx:3002:16","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"3002","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22p-2%20hover%3Abg-neutral-100%20rounded-lg%22%7D",children:a.jsx(Ca,{className:"w-5 h-5","data-matrix-id":"src/pages/InvoicingPage.tsx:3003:18","data-matrix-name":"X","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"3003","data-component-file":"InvoicingPage.tsx","data-component-name":"X","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%22%7D"})})]})}),a.jsxs("div",{className:"p-6 space-y-4","data-matrix-id":"src/pages/InvoicingPage.tsx:3007:12","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"3007","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-6%20space-y-4%22%7D",children:[a.jsxs("div",{"data-matrix-id":"src/pages/InvoicingPage.tsx:3008:14","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"3008","data-component-file":"InvoicingPage.tsx","data-component-name":"div",children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1","data-matrix-id":"src/pages/InvoicingPage.tsx:3009:16","data-matrix-name":"label","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"3009","data-component-file":"InvoicingPage.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-neutral-700%20mb-1%22%7D",children:"Recipient"}),a.jsxs("div",{className:"px-4 py-3 bg-neutral-50 rounded-lg","data-matrix-id":"src/pages/InvoicingPage.tsx:3010:16","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"3010","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22px-4%20py-3%20bg-neutral-50%20rounded-lg%22%7D",children:[a.jsx("p",{className:"font-medium","data-matrix-id":"src/pages/InvoicingPage.tsx:3011:18","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"3011","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22font-medium%22%7D",children:(et=n.client)==null?void 0:et.name}),a.jsx("p",{className:"text-sm text-neutral-500","data-matrix-id":"src/pages/InvoicingPage.tsx:3012:18","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"3012","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-neutral-500%22%7D",children:((nt=n.client)==null?void 0:nt.email)||"No email on file"})]})]}),a.jsxs("div",{"data-matrix-id":"src/pages/InvoicingPage.tsx:3015:14","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"3015","data-component-file":"InvoicingPage.tsx","data-component-name":"div",children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1","data-matrix-id":"src/pages/InvoicingPage.tsx:3016:16","data-matrix-name":"label","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"3016","data-component-file":"InvoicingPage.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-neutral-700%20mb-1%22%7D",children:"Invoice Details"}),a.jsxs("div",{className:"px-4 py-3 bg-neutral-50 rounded-lg flex justify-between items-center","data-matrix-id":"src/pages/InvoicingPage.tsx:3017:16","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"3017","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22px-4%20py-3%20bg-neutral-50%20rounded-lg%20flex%20justify-between%20items-center%22%7D",children:[a.jsxs("span",{className:"text-neutral-600","data-matrix-id":"src/pages/InvoicingPage.tsx:3018:18","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"3018","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-neutral-600%22%7D",children:["Invoice ",W]}),a.jsx("span",{className:"font-semibold text-lg","data-matrix-id":"src/pages/InvoicingPage.tsx:3019:18","data-matrix-name":"span","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"3019","data-component-file":"InvoicingPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-lg%22%7D",children:v(n.total)})]})]}),a.jsxs("div",{"data-matrix-id":"src/pages/InvoicingPage.tsx:3022:14","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"3022","data-component-file":"InvoicingPage.tsx","data-component-name":"div",children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1","data-matrix-id":"src/pages/InvoicingPage.tsx:3023:16","data-matrix-name":"label","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"3023","data-component-file":"InvoicingPage.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-neutral-700%20mb-1%22%7D",children:"Email Message"}),a.jsx("textarea",{value:Na,onChange:t=>Ba(t.target.value),rows:6,className:"w-full px-4 py-3 border border-neutral-200 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-[#476E66]/20 focus:border-[#476E66]",placeholder:"Enter your email message...","data-matrix-id":"src/pages/InvoicingPage.tsx:3024:16","data-matrix-name":"textarea","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"3024","data-component-file":"InvoicingPage.tsx","data-component-name":"textarea","data-component-content":"%7B%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22rows%22%3A6%2C%22className%22%3A%22w-full%20px-4%20py-3%20border%20border-neutral-200%20rounded-lg%20resize-none%20focus%3Aoutline-none%20focus%3Aring-2%20focus%3Aring-%5B%23476E66%5D%2F20%20focus%3Aborder-%5B%23476E66%5D%22%2C%22placeholder%22%3A%22Enter%20your%20email%20message...%22%7D"}),a.jsx("p",{className:"text-xs text-neutral-500 mt-1","data-matrix-id":"src/pages/InvoicingPage.tsx:3031:16","data-matrix-name":"p","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"3031","data-component-file":"InvoicingPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-neutral-500%20mt-1%22%7D",children:"You can customize this message before sending."})]})]}),a.jsxs("div",{className:"p-6 bg-neutral-50 border-t border-neutral-100 flex gap-3","data-matrix-id":"src/pages/InvoicingPage.tsx:3034:12","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"3034","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-6%20bg-neutral-50%20border-t%20border-neutral-100%20flex%20gap-3%22%7D",children:[a.jsx("button",{onClick:()=>ga(!1),className:"flex-1 px-4 py-2.5 border border-neutral-300 rounded-xl hover:bg-white transition-colors","data-matrix-id":"src/pages/InvoicingPage.tsx:3035:14","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"3035","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22flex-1%20px-4%20py-2.5%20border%20border-neutral-300%20rounded-xl%20hover%3Abg-white%20transition-colors%22%7D",children:"Cancel"}),a.jsx("button",{onClick:async()=>{var t,r;if(!((t=n.client)!=null&&t.email)){alert("Client does not have an email address on file.");return}ha(!0);try{const L=await(await fetch("https://bqxnagmmegdbqrzhheip.supabase.co/functions/v1/send-invoice",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJxeG5hZ21tZWdkYnFyemhoZWlwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2OTM5NTgsImV4cCI6MjA2ODI2OTk1OH0.LBb7KaCSs7LpsD9NZCOcartkcDIIALBIrpnYcv5Y0yY"},body:JSON.stringify({invoiceId:n.id,clientEmail:n.client.email,clientName:n.client.name,invoiceNumber:W,projectName:((r=n.project)==null?void 0:r.name)||"",companyName:(T==null?void 0:T.full_name)||"Billdora",senderName:(T==null?void 0:T.full_name)||"Billdora",totalAmount:v(n.total),dueDate:c?new Date(c).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):"",emailContent:Na,portalUrl:`${window.location.origin}/invoice-view/${n.id}`})})).json();if(L.error)throw new Error(L.error);ga(!1),J("sent"),aa(new Date().toISOString().split("T")[0]),C(),alert("Invoice sent successfully!")}catch(B){console.error("Failed to send invoice:",B),alert((B==null?void 0:B.message)||"Failed to send invoice")}ha(!1)},disabled:ba||!((ot=n.client)!=null&&ot.email),className:"flex-1 px-4 py-2.5 bg-[#476E66] text-white rounded-xl hover:bg-[#3a5b54] transition-colors disabled:opacity-50 flex items-center justify-center gap-2","data-matrix-id":"src/pages/InvoicingPage.tsx:3041:14","data-matrix-name":"button","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"3041","data-component-file":"InvoicingPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22disabled%22%3A%22%5BLogicalExpression%5D%22%2C%22className%22%3A%22flex-1%20px-4%20py-2.5%20bg-%5B%23476E66%5D%20text-white%20rounded-xl%20hover%3Abg-%5B%233a5b54%5D%20transition-colors%20disabled%3Aopacity-50%20flex%20items-center%20justify-center%20gap-2%22%7D",children:ba?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin","data-matrix-id":"src/pages/InvoicingPage.tsx:3087:20","data-matrix-name":"div","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"3087","data-component-file":"InvoicingPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20border-2%20border-white%2F30%20border-t-white%20rounded-full%20animate-spin%22%7D"}),"Sending..."]}):a.jsxs(a.Fragment,{children:[a.jsx(wa,{className:"w-4 h-4","data-matrix-id":"src/pages/InvoicingPage.tsx:3092:20","data-matrix-name":"Send","data-component-path":"src/pages/InvoicingPage.tsx","data-component-line":"3092","data-component-file":"InvoicingPage.tsx","data-component-name":"Send","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"}),"Send Invoice"]})})]})]})})]})}export{xe as default};
