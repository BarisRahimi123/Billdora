import{b as z,f as M,a as $,r as c,y as p,j as e,k as f,q as j,X as y,x as L}from"./index-DpjqBx3H.js";import{L as X}from"./link-2-BlWM4RLh.js";import{I as O}from"./image-DfWkC_As.js";import{U as q}from"./upload-zI2j-Loe.js";import{T as V}from"./trash-2-BTDZQ0sr.js";import{E as J}from"./eye-B-Aa93c8.js";function ae(){var v;const{profile:t}=z(),{showToast:o}=M(),[C]=$(),[R,E]=c.useState([]),[k,S]=c.useState(!0),[F,P]=c.useState(!1),[g,b]=c.useState(!1),[_,m]=c.useState(C.get("scan")==="1"),[s,h]=c.useState(null),r=c.useRef(null),x=c.useRef(null);c.useEffect(()=>{t!=null&&t.company_id&&l()},[t==null?void 0:t.company_id]);const l=async()=>{if(t!=null&&t.company_id)try{const{data:a,error:n}=await p.from("receipts").select("*").eq("company_id",t.company_id).order("created_at",{ascending:!1});if(n)throw n;E(a||[])}catch(a){console.error("Failed to load receipts:",a),o("Failed to load receipts","error")}finally{S(!1)}},N=async a=>{var i;const n=(i=a.target.files)==null?void 0:i[0];if(!(!n||!(t!=null&&t.company_id))){P(!0);try{const d=`${t.company_id}/${Date.now()}_${n.name}`,{data:G,error:B}=await p.storage.from("receipts").upload(d,n);if(B)throw B;const{data:{publicUrl:U}}=p.storage.from("receipts").getPublicUrl(d),{data:{session:u}}=await p.auth.getSession(),w=await(await fetch("undefined/functions/v1/parse-receipt",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u==null?void 0:u.access_token}`},body:JSON.stringify({image_url:U,company_id:t.company_id,user_id:t.id})})).json();if(w.error)throw new Error(w.error);o("Receipt uploaded and processed!","success"),l(),m(!1)}catch(d){console.error("Failed to upload receipt:",d),o(d.message||"Failed to upload receipt","error")}finally{P(!1),r.current&&(r.current.value=""),x.current&&(x.current.value="")}}},I=async()=>{if(t!=null&&t.company_id){b(!0);try{const{data:{session:a}}=await p.auth.getSession(),i=await(await fetch("undefined/functions/v1/auto-match-receipts",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a==null?void 0:a.access_token}`},body:JSON.stringify({company_id:t.company_id})})).json();if(i.error)throw new Error(i.error);o(`Matched ${i.matched} receipts to transactions!`,"success"),l()}catch(a){console.error("Auto-match failed:",a),o(a.message||"Failed to match receipts","error")}finally{b(!1)}}},T=async a=>{if(confirm("Delete this receipt?"))try{const{error:n}=await p.from("receipts").delete().eq("id",a);if(n)throw n;o("Receipt deleted","success"),l(),h(null)}catch{o("Failed to delete receipt","error")}},A=a=>a===null?"—":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(a),D=a=>a?new Date(a).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"—";return e.jsxs("div",{className:"p-2 sm:p-3 space-y-2","data-matrix-id":"src/pages/ReceiptsPage.tsx:167:4","data-matrix-name":"div","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"167","data-component-file":"ReceiptsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-2%20sm%3Ap-3%20space-y-2%22%7D",children:[e.jsxs("div",{className:"flex items-start justify-between","data-matrix-id":"src/pages/ReceiptsPage.tsx:168:6","data-matrix-name":"div","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"168","data-component-file":"ReceiptsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-start%20justify-between%22%7D",children:[e.jsxs("div",{"data-matrix-id":"src/pages/ReceiptsPage.tsx:169:8","data-matrix-name":"div","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"169","data-component-file":"ReceiptsPage.tsx","data-component-name":"div",children:[e.jsx("h1",{className:"text-sm sm:text-base font-bold text-neutral-900","data-matrix-id":"src/pages/ReceiptsPage.tsx:170:10","data-matrix-name":"h1","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"170","data-component-file":"ReceiptsPage.tsx","data-component-name":"h1","data-component-content":"%7B%22className%22%3A%22text-sm%20sm%3Atext-base%20font-bold%20text-neutral-900%22%7D",children:"Receipts"}),e.jsx("p",{className:"text-[10px] text-neutral-500","data-matrix-id":"src/pages/ReceiptsPage.tsx:171:10","data-matrix-name":"p","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"171","data-component-file":"ReceiptsPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-%5B10px%5D%20text-neutral-500%22%7D",children:"Scan and manage your expense receipts"})]}),e.jsxs("div",{className:"flex items-center gap-1.5","data-matrix-id":"src/pages/ReceiptsPage.tsx:173:8","data-matrix-name":"div","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"173","data-component-file":"ReceiptsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-1.5%22%7D",children:[e.jsxs("button",{onClick:I,disabled:g,className:"flex items-center gap-1.5 px-2 py-1.5 text-[10px] border border-[#476E66] text-[#476E66] rounded-lg hover:bg-[#476E66]/5 disabled:opacity-50 font-medium","data-matrix-id":"src/pages/ReceiptsPage.tsx:174:10","data-matrix-name":"button","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"174","data-component-file":"ReceiptsPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22disabled%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22flex%20items-center%20gap-1.5%20px-2%20py-1.5%20text-%5B10px%5D%20border%20border-%5B%23476E66%5D%20text-%5B%23476E66%5D%20rounded-lg%20hover%3Abg-%5B%23476E66%5D%2F5%20disabled%3Aopacity-50%20font-medium%22%7D",children:[e.jsx(X,{className:`w-3 h-3 ${g?"animate-spin":""}`,"data-matrix-id":"src/pages/ReceiptsPage.tsx:179:12","data-matrix-name":"Link2","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"179","data-component-file":"ReceiptsPage.tsx","data-component-name":"Link2","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D"}),e.jsx("span",{className:"hidden sm:inline","data-matrix-id":"src/pages/ReceiptsPage.tsx:180:12","data-matrix-name":"span","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"180","data-component-file":"ReceiptsPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22hidden%20sm%3Ainline%22%7D",children:g?"Matching...":"Auto-Match"})]}),e.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-1.5 px-3 py-1.5 bg-[#476E66] text-white rounded-lg hover:bg-[#3A5B54] text-[10px] font-medium","data-matrix-id":"src/pages/ReceiptsPage.tsx:182:10","data-matrix-name":"button","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"182","data-component-file":"ReceiptsPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22flex%20items-center%20gap-1.5%20px-3%20py-1.5%20bg-%5B%23476E66%5D%20text-white%20rounded-lg%20hover%3Abg-%5B%233A5B54%5D%20text-%5B10px%5D%20font-medium%22%7D",children:[e.jsx(f,{className:"w-3.5 h-3.5","data-matrix-id":"src/pages/ReceiptsPage.tsx:186:12","data-matrix-name":"Camera","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"186","data-component-file":"ReceiptsPage.tsx","data-component-name":"Camera","data-component-content":"%7B%22className%22%3A%22w-3.5%20h-3.5%22%7D"}),e.jsx("span",{className:"hidden sm:inline","data-matrix-id":"src/pages/ReceiptsPage.tsx:187:12","data-matrix-name":"span","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"187","data-component-file":"ReceiptsPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22hidden%20sm%3Ainline%22%7D",children:"Scan Receipt"}),e.jsx("span",{className:"sm:hidden","data-matrix-id":"src/pages/ReceiptsPage.tsx:188:12","data-matrix-name":"span","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"188","data-component-file":"ReceiptsPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22sm%3Ahidden%22%7D",children:"Scan"})]})]})]}),k?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2","data-matrix-id":"src/pages/ReceiptsPage.tsx:195:8","data-matrix-name":"div","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"195","data-component-file":"ReceiptsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-2%20sm%3Agrid-cols-3%20md%3Agrid-cols-4%20gap-2%22%7D",children:[1,2,3,4].map(a=>e.jsx("div",{className:"aspect-[3/4] bg-neutral-100 rounded-lg animate-pulse","data-matrix-id":"src/pages/ReceiptsPage.tsx:197:12","data-matrix-name":"div","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"197","data-component-file":"ReceiptsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22aspect-%5B3%2F4%5D%20bg-neutral-100%20rounded-lg%20animate-pulse%22%7D"},a))}):R.length===0?e.jsxs("div",{className:"text-center py-8 bg-white rounded-lg",style:{boxShadow:"var(--shadow-card)"},"data-matrix-id":"src/pages/ReceiptsPage.tsx:201:8","data-matrix-name":"div","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"201","data-component-file":"ReceiptsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%20py-8%20bg-white%20rounded-lg%22%2C%22style%22%3A%7B%22boxShadow%22%3A%22var(--shadow-card)%22%7D%7D",children:[e.jsx(O,{className:"w-10 h-10 text-neutral-300 mx-auto mb-2","data-matrix-id":"src/pages/ReceiptsPage.tsx:202:10","data-matrix-name":"ImageIcon","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"202","data-component-file":"ReceiptsPage.tsx","data-component-name":"ImageIcon","data-component-content":"%7B%22className%22%3A%22w-10%20h-10%20text-neutral-300%20mx-auto%20mb-2%22%7D"}),e.jsx("h3",{className:"text-sm font-medium text-neutral-900 mb-1","data-matrix-id":"src/pages/ReceiptsPage.tsx:203:10","data-matrix-name":"h3","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"203","data-component-file":"ReceiptsPage.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-sm%20font-medium%20text-neutral-900%20mb-1%22%7D",children:"No receipts yet"}),e.jsx("p",{className:"text-neutral-500 text-[10px] mb-3","data-matrix-id":"src/pages/ReceiptsPage.tsx:204:10","data-matrix-name":"p","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"204","data-component-file":"ReceiptsPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-neutral-500%20text-%5B10px%5D%20mb-3%22%7D",children:"Scan or upload your first receipt"}),e.jsxs("button",{onClick:()=>m(!0),className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-[#476E66] text-white rounded-lg hover:bg-[#3A5B54] text-[10px] font-medium","data-matrix-id":"src/pages/ReceiptsPage.tsx:205:10","data-matrix-name":"button","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"205","data-component-file":"ReceiptsPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22inline-flex%20items-center%20gap-1.5%20px-3%20py-1.5%20bg-%5B%23476E66%5D%20text-white%20rounded-lg%20hover%3Abg-%5B%233A5B54%5D%20text-%5B10px%5D%20font-medium%22%7D",children:[e.jsx(f,{className:"w-3.5 h-3.5","data-matrix-id":"src/pages/ReceiptsPage.tsx:209:12","data-matrix-name":"Camera","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"209","data-component-file":"ReceiptsPage.tsx","data-component-name":"Camera","data-component-content":"%7B%22className%22%3A%22w-3.5%20h-3.5%22%7D"}),"Scan Receipt"]})]}):e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2","data-matrix-id":"src/pages/ReceiptsPage.tsx:214:8","data-matrix-name":"div","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"214","data-component-file":"ReceiptsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-2%20sm%3Agrid-cols-3%20md%3Agrid-cols-4%20gap-2%22%7D",children:R.map(a=>e.jsxs("div",{onClick:()=>h(a),className:"bg-white rounded-lg overflow-hidden cursor-pointer hover:shadow-md transition-shadow",style:{boxShadow:"var(--shadow-card)"},"data-matrix-id":"src/pages/ReceiptsPage.tsx:216:12","data-matrix-name":"div","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"216","data-component-file":"ReceiptsPage.tsx","data-component-name":"div","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22bg-white%20rounded-lg%20overflow-hidden%20cursor-pointer%20hover%3Ashadow-md%20transition-shadow%22%2C%22style%22%3A%7B%22boxShadow%22%3A%22var(--shadow-card)%22%7D%7D",children:[e.jsxs("div",{className:"aspect-[3/4] bg-neutral-100 relative","data-matrix-id":"src/pages/ReceiptsPage.tsx:222:14","data-matrix-name":"div","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"222","data-component-file":"ReceiptsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22aspect-%5B3%2F4%5D%20bg-neutral-100%20relative%22%7D",children:[e.jsx("img",{src:a.image_url,alt:"Receipt",className:"w-full h-full object-cover","data-matrix-id":"src/pages/ReceiptsPage.tsx:223:16","data-matrix-name":"img","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"223","data-component-file":"ReceiptsPage.tsx","data-component-name":"img","data-component-content":"%7B%22src%22%3A%22%5BMemberExpression%5D%22%2C%22alt%22%3A%22Receipt%22%2C%22className%22%3A%22w-full%20h-full%20object-cover%22%7D"}),a.matched_transaction_id&&e.jsx("div",{className:"absolute top-1.5 right-1.5 w-5 h-5 bg-[#476E66] rounded-full flex items-center justify-center","data-matrix-id":"src/pages/ReceiptsPage.tsx:229:18","data-matrix-name":"div","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"229","data-component-file":"ReceiptsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20top-1.5%20right-1.5%20w-5%20h-5%20bg-%5B%23476E66%5D%20rounded-full%20flex%20items-center%20justify-center%22%7D",children:e.jsx(j,{className:"w-3 h-3 text-white","data-matrix-id":"src/pages/ReceiptsPage.tsx:230:20","data-matrix-name":"Check","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"230","data-component-file":"ReceiptsPage.tsx","data-component-name":"Check","data-component-content":"%7B%22className%22%3A%22w-3%20h-3%20text-white%22%7D"})})]}),e.jsxs("div",{className:"p-2","data-matrix-id":"src/pages/ReceiptsPage.tsx:234:14","data-matrix-name":"div","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"234","data-component-file":"ReceiptsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-2%22%7D",children:[e.jsx("p",{className:"font-medium text-neutral-900 text-[10px] truncate","data-matrix-id":"src/pages/ReceiptsPage.tsx:235:16","data-matrix-name":"p","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"235","data-component-file":"ReceiptsPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22font-medium%20text-neutral-900%20text-%5B10px%5D%20truncate%22%7D",children:a.vendor||"Unknown Vendor"}),e.jsxs("div",{className:"flex items-center justify-between mt-0.5","data-matrix-id":"src/pages/ReceiptsPage.tsx:236:16","data-matrix-name":"div","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"236","data-component-file":"ReceiptsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20mt-0.5%22%7D",children:[e.jsx("span",{className:"text-[10px] font-semibold text-[#476E66]","data-matrix-id":"src/pages/ReceiptsPage.tsx:237:18","data-matrix-name":"span","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"237","data-component-file":"ReceiptsPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-%5B10px%5D%20font-semibold%20text-%5B%23476E66%5D%22%7D",children:A(a.amount)}),e.jsx("span",{className:"text-[9px] text-neutral-500","data-matrix-id":"src/pages/ReceiptsPage.tsx:238:18","data-matrix-name":"span","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"238","data-component-file":"ReceiptsPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-%5B9px%5D%20text-neutral-500%22%7D",children:D(a.receipt_date)})]})]})]},a.id))}),_&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4","data-matrix-id":"src/pages/ReceiptsPage.tsx:248:8","data-matrix-name":"div","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"248","data-component-file":"ReceiptsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22fixed%20inset-0%20bg-black%2F50%20flex%20items-center%20justify-center%20z-50%20p-4%22%7D",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm p-4",style:{boxShadow:"var(--shadow-elevated)"},"data-matrix-id":"src/pages/ReceiptsPage.tsx:249:10","data-matrix-name":"div","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"249","data-component-file":"ReceiptsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-white%20rounded-xl%20w-full%20max-w-sm%20p-4%22%2C%22style%22%3A%7B%22boxShadow%22%3A%22var(--shadow-elevated)%22%7D%7D",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4","data-matrix-id":"src/pages/ReceiptsPage.tsx:250:12","data-matrix-name":"div","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"250","data-component-file":"ReceiptsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20mb-4%22%7D",children:[e.jsx("h3",{className:"text-sm font-semibold","data-matrix-id":"src/pages/ReceiptsPage.tsx:251:14","data-matrix-name":"h3","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"251","data-component-file":"ReceiptsPage.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-sm%20font-semibold%22%7D",children:"Scan Receipt"}),e.jsx("button",{onClick:()=>m(!1),className:"p-1 hover:bg-neutral-100 rounded-lg","data-matrix-id":"src/pages/ReceiptsPage.tsx:252:14","data-matrix-name":"button","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"252","data-component-file":"ReceiptsPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22p-1%20hover%3Abg-neutral-100%20rounded-lg%22%7D",children:e.jsx(y,{className:"w-4 h-4","data-matrix-id":"src/pages/ReceiptsPage.tsx:253:16","data-matrix-name":"X","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"253","data-component-file":"ReceiptsPage.tsx","data-component-name":"X","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"})})]}),F?e.jsxs("div",{className:"text-center py-6","data-matrix-id":"src/pages/ReceiptsPage.tsx:258:14","data-matrix-name":"div","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"258","data-component-file":"ReceiptsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%20py-6%22%7D",children:[e.jsx(L,{className:"w-6 h-6 text-[#476E66] animate-spin mx-auto mb-2","data-matrix-id":"src/pages/ReceiptsPage.tsx:259:16","data-matrix-name":"RefreshCw","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"259","data-component-file":"ReceiptsPage.tsx","data-component-name":"RefreshCw","data-component-content":"%7B%22className%22%3A%22w-6%20h-6%20text-%5B%23476E66%5D%20animate-spin%20mx-auto%20mb-2%22%7D"}),e.jsx("p",{className:"text-neutral-600 text-xs","data-matrix-id":"src/pages/ReceiptsPage.tsx:260:16","data-matrix-name":"p","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"260","data-component-file":"ReceiptsPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-neutral-600%20text-xs%22%7D",children:"Processing receipt..."})]}):e.jsxs("div",{className:"space-y-2","data-matrix-id":"src/pages/ReceiptsPage.tsx:263:14","data-matrix-name":"div","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"263","data-component-file":"ReceiptsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-2%22%7D",children:[e.jsx("input",{ref:x,type:"file",accept:"image/*",capture:"environment",onChange:N,className:"hidden","data-matrix-id":"src/pages/ReceiptsPage.tsx:264:16","data-matrix-name":"input","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"264","data-component-file":"ReceiptsPage.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22file%22%2C%22accept%22%3A%22image%2F*%22%2C%22capture%22%3A%22environment%22%2C%22onChange%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22hidden%22%7D"}),e.jsx("input",{ref:r,type:"file",accept:"image/*",onChange:N,className:"hidden","data-matrix-id":"src/pages/ReceiptsPage.tsx:272:16","data-matrix-name":"input","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"272","data-component-file":"ReceiptsPage.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22file%22%2C%22accept%22%3A%22image%2F*%22%2C%22onChange%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22hidden%22%7D"}),e.jsxs("button",{onClick:()=>{var a;return(a=x.current)==null?void 0:a.click()},className:"w-full flex items-center justify-center gap-2 py-3 border-2 border-dashed border-neutral-300 rounded-lg hover:border-[#476E66] hover:bg-[#476E66]/5 transition-colors","data-matrix-id":"src/pages/ReceiptsPage.tsx:280:16","data-matrix-name":"button","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"280","data-component-file":"ReceiptsPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20flex%20items-center%20justify-center%20gap-2%20py-3%20border-2%20border-dashed%20border-neutral-300%20rounded-lg%20hover%3Aborder-%5B%23476E66%5D%20hover%3Abg-%5B%23476E66%5D%2F5%20transition-colors%22%7D",children:[e.jsx(f,{className:"w-5 h-5 text-[#476E66]","data-matrix-id":"src/pages/ReceiptsPage.tsx:284:18","data-matrix-name":"Camera","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"284","data-component-file":"ReceiptsPage.tsx","data-component-name":"Camera","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-%5B%23476E66%5D%22%7D"}),e.jsx("span",{className:"font-medium text-neutral-700 text-xs","data-matrix-id":"src/pages/ReceiptsPage.tsx:285:18","data-matrix-name":"span","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"285","data-component-file":"ReceiptsPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-medium%20text-neutral-700%20text-xs%22%7D",children:"Take Photo"})]}),e.jsxs("button",{onClick:()=>{var a;return(a=r.current)==null?void 0:a.click()},className:"w-full flex items-center justify-center gap-2 py-3 border-2 border-dashed border-neutral-300 rounded-lg hover:border-[#476E66] hover:bg-[#476E66]/5 transition-colors","data-matrix-id":"src/pages/ReceiptsPage.tsx:288:16","data-matrix-name":"button","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"288","data-component-file":"ReceiptsPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20flex%20items-center%20justify-center%20gap-2%20py-3%20border-2%20border-dashed%20border-neutral-300%20rounded-lg%20hover%3Aborder-%5B%23476E66%5D%20hover%3Abg-%5B%23476E66%5D%2F5%20transition-colors%22%7D",children:[e.jsx(q,{className:"w-5 h-5 text-[#476E66]","data-matrix-id":"src/pages/ReceiptsPage.tsx:292:18","data-matrix-name":"Upload","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"292","data-component-file":"ReceiptsPage.tsx","data-component-name":"Upload","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-%5B%23476E66%5D%22%7D"}),e.jsx("span",{className:"font-medium text-neutral-700 text-xs","data-matrix-id":"src/pages/ReceiptsPage.tsx:293:18","data-matrix-name":"span","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"293","data-component-file":"ReceiptsPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-medium%20text-neutral-700%20text-xs%22%7D",children:"Upload from Gallery"})]})]})]})}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4","data-matrix-id":"src/pages/ReceiptsPage.tsx:303:8","data-matrix-name":"div","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"303","data-component-file":"ReceiptsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22fixed%20inset-0%20bg-black%2F50%20flex%20items-center%20justify-center%20z-50%20p-4%22%7D",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md max-h-[90vh] overflow-hidden flex flex-col",style:{boxShadow:"var(--shadow-elevated)"},"data-matrix-id":"src/pages/ReceiptsPage.tsx:304:10","data-matrix-name":"div","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"304","data-component-file":"ReceiptsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-white%20rounded-xl%20w-full%20max-w-md%20max-h-%5B90vh%5D%20overflow-hidden%20flex%20flex-col%22%2C%22style%22%3A%7B%22boxShadow%22%3A%22var(--shadow-elevated)%22%7D%7D",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border-b","data-matrix-id":"src/pages/ReceiptsPage.tsx:305:12","data-matrix-name":"div","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"305","data-component-file":"ReceiptsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20p-3%20border-b%22%7D",children:[e.jsx("h3",{className:"text-sm font-semibold","data-matrix-id":"src/pages/ReceiptsPage.tsx:306:14","data-matrix-name":"h3","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"306","data-component-file":"ReceiptsPage.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-sm%20font-semibold%22%7D",children:"Receipt Details"}),e.jsx("button",{onClick:()=>h(null),className:"p-1 hover:bg-neutral-100 rounded-lg","data-matrix-id":"src/pages/ReceiptsPage.tsx:307:14","data-matrix-name":"button","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"307","data-component-file":"ReceiptsPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22p-1%20hover%3Abg-neutral-100%20rounded-lg%22%7D",children:e.jsx(y,{className:"w-4 h-4","data-matrix-id":"src/pages/ReceiptsPage.tsx:308:16","data-matrix-name":"X","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"308","data-component-file":"ReceiptsPage.tsx","data-component-name":"X","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"})})]}),e.jsxs("div",{className:"overflow-y-auto flex-1 p-3","data-matrix-id":"src/pages/ReceiptsPage.tsx:311:12","data-matrix-name":"div","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"311","data-component-file":"ReceiptsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22overflow-y-auto%20flex-1%20p-3%22%7D",children:[e.jsx("div",{className:"aspect-[3/4] bg-neutral-100 rounded-lg overflow-hidden mb-3","data-matrix-id":"src/pages/ReceiptsPage.tsx:312:14","data-matrix-name":"div","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"312","data-component-file":"ReceiptsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22aspect-%5B3%2F4%5D%20bg-neutral-100%20rounded-lg%20overflow-hidden%20mb-3%22%7D",children:e.jsx("img",{src:s.image_url,alt:"Receipt",className:"w-full h-full object-contain","data-matrix-id":"src/pages/ReceiptsPage.tsx:313:16","data-matrix-name":"img","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"313","data-component-file":"ReceiptsPage.tsx","data-component-name":"img","data-component-content":"%7B%22src%22%3A%22%5BMemberExpression%5D%22%2C%22alt%22%3A%22Receipt%22%2C%22className%22%3A%22w-full%20h-full%20object-contain%22%7D"})}),e.jsxs("div",{className:"space-y-2","data-matrix-id":"src/pages/ReceiptsPage.tsx:315:14","data-matrix-name":"div","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"315","data-component-file":"ReceiptsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-2%22%7D",children:[e.jsxs("div",{className:"flex justify-between text-xs","data-matrix-id":"src/pages/ReceiptsPage.tsx:316:16","data-matrix-name":"div","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"316","data-component-file":"ReceiptsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20text-xs%22%7D",children:[e.jsx("span",{className:"text-neutral-500","data-matrix-id":"src/pages/ReceiptsPage.tsx:317:18","data-matrix-name":"span","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"317","data-component-file":"ReceiptsPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-neutral-500%22%7D",children:"Vendor"}),e.jsx("span",{className:"font-medium","data-matrix-id":"src/pages/ReceiptsPage.tsx:318:18","data-matrix-name":"span","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"318","data-component-file":"ReceiptsPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-medium%22%7D",children:s.vendor||"—"})]}),e.jsxs("div",{className:"flex justify-between text-xs","data-matrix-id":"src/pages/ReceiptsPage.tsx:320:16","data-matrix-name":"div","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"320","data-component-file":"ReceiptsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20text-xs%22%7D",children:[e.jsx("span",{className:"text-neutral-500","data-matrix-id":"src/pages/ReceiptsPage.tsx:321:18","data-matrix-name":"span","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"321","data-component-file":"ReceiptsPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-neutral-500%22%7D",children:"Amount"}),e.jsx("span",{className:"font-semibold text-[#476E66]","data-matrix-id":"src/pages/ReceiptsPage.tsx:322:18","data-matrix-name":"span","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"322","data-component-file":"ReceiptsPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-%5B%23476E66%5D%22%7D",children:A(s.amount)})]}),e.jsxs("div",{className:"flex justify-between text-xs","data-matrix-id":"src/pages/ReceiptsPage.tsx:324:16","data-matrix-name":"div","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"324","data-component-file":"ReceiptsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20text-xs%22%7D",children:[e.jsx("span",{className:"text-neutral-500","data-matrix-id":"src/pages/ReceiptsPage.tsx:325:18","data-matrix-name":"span","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"325","data-component-file":"ReceiptsPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-neutral-500%22%7D",children:"Date"}),e.jsx("span",{"data-matrix-id":"src/pages/ReceiptsPage.tsx:326:18","data-matrix-name":"span","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"326","data-component-file":"ReceiptsPage.tsx","data-component-name":"span",children:D(s.receipt_date)})]}),e.jsxs("div",{className:"flex justify-between text-xs","data-matrix-id":"src/pages/ReceiptsPage.tsx:328:16","data-matrix-name":"div","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"328","data-component-file":"ReceiptsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20text-xs%22%7D",children:[e.jsx("span",{className:"text-neutral-500","data-matrix-id":"src/pages/ReceiptsPage.tsx:329:18","data-matrix-name":"span","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"329","data-component-file":"ReceiptsPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-neutral-500%22%7D",children:"Category"}),e.jsx("span",{className:"capitalize","data-matrix-id":"src/pages/ReceiptsPage.tsx:330:18","data-matrix-name":"span","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"330","data-component-file":"ReceiptsPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22capitalize%22%7D",children:((v=s.category)==null?void 0:v.replace("_"," "))||"—"})]}),e.jsxs("div",{className:"flex justify-between items-center text-xs","data-matrix-id":"src/pages/ReceiptsPage.tsx:332:16","data-matrix-name":"div","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"332","data-component-file":"ReceiptsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20items-center%20text-xs%22%7D",children:[e.jsx("span",{className:"text-neutral-500","data-matrix-id":"src/pages/ReceiptsPage.tsx:333:18","data-matrix-name":"span","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"333","data-component-file":"ReceiptsPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-neutral-500%22%7D",children:"Matched"}),s.matched_transaction_id?e.jsxs("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 bg-[#476E66]/10 text-[#476E66] border border-[#476E66]/20 rounded text-[9px] font-medium","data-matrix-id":"src/pages/ReceiptsPage.tsx:335:20","data-matrix-name":"span","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"335","data-component-file":"ReceiptsPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22inline-flex%20items-center%20gap-1%20px-1.5%20py-0.5%20bg-%5B%23476E66%5D%2F10%20text-%5B%23476E66%5D%20border%20border-%5B%23476E66%5D%2F20%20rounded%20text-%5B9px%5D%20font-medium%22%7D",children:[e.jsx(j,{className:"w-2.5 h-2.5","data-matrix-id":"src/pages/ReceiptsPage.tsx:336:22","data-matrix-name":"Check","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"336","data-component-file":"ReceiptsPage.tsx","data-component-name":"Check","data-component-content":"%7B%22className%22%3A%22w-2.5%20h-2.5%22%7D"})," Linked"]}):e.jsx("span",{className:"text-neutral-400 text-[10px]","data-matrix-id":"src/pages/ReceiptsPage.tsx:339:20","data-matrix-name":"span","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"339","data-component-file":"ReceiptsPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-neutral-400%20text-%5B10px%5D%22%7D",children:"Not matched"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border-t bg-neutral-50","data-matrix-id":"src/pages/ReceiptsPage.tsx:344:12","data-matrix-name":"div","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"344","data-component-file":"ReceiptsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20p-3%20border-t%20bg-neutral-50%22%7D",children:[e.jsxs("button",{onClick:()=>T(s.id),className:"flex items-center gap-1.5 px-2 py-1.5 text-red-600 hover:bg-red-50 rounded-lg text-[10px] font-medium","data-matrix-id":"src/pages/ReceiptsPage.tsx:345:14","data-matrix-name":"button","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"345","data-component-file":"ReceiptsPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22flex%20items-center%20gap-1.5%20px-2%20py-1.5%20text-red-600%20hover%3Abg-red-50%20rounded-lg%20text-%5B10px%5D%20font-medium%22%7D",children:[e.jsx(V,{className:"w-3 h-3","data-matrix-id":"src/pages/ReceiptsPage.tsx:349:16","data-matrix-name":"Trash2","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"349","data-component-file":"ReceiptsPage.tsx","data-component-name":"Trash2","data-component-content":"%7B%22className%22%3A%22w-3%20h-3%22%7D"}),"Delete"]}),e.jsxs("a",{href:s.image_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 px-2 py-1.5 text-[#476E66] hover:bg-[#476E66]/10 rounded-lg text-[10px] font-medium","data-matrix-id":"src/pages/ReceiptsPage.tsx:352:14","data-matrix-name":"a","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"352","data-component-file":"ReceiptsPage.tsx","data-component-name":"a","data-component-content":"%7B%22href%22%3A%22%5BMemberExpression%5D%22%2C%22target%22%3A%22_blank%22%2C%22rel%22%3A%22noopener%20noreferrer%22%2C%22className%22%3A%22flex%20items-center%20gap-1.5%20px-2%20py-1.5%20text-%5B%23476E66%5D%20hover%3Abg-%5B%23476E66%5D%2F10%20rounded-lg%20text-%5B10px%5D%20font-medium%22%7D",children:[e.jsx(J,{className:"w-3 h-3","data-matrix-id":"src/pages/ReceiptsPage.tsx:358:16","data-matrix-name":"Eye","data-component-path":"src/pages/ReceiptsPage.tsx","data-component-line":"358","data-component-file":"ReceiptsPage.tsx","data-component-name":"Eye","data-component-content":"%7B%22className%22%3A%22w-3%20h-3%22%7D"}),"View Full Size"]})]})]})})]})}export{ae as default};
