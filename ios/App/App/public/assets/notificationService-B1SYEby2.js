import{y as o}from"./index-DpjqBx3H.js";async function i(e){try{const{error:r}=await o.from("notifications").insert({company_id:e.companyId,user_id:e.userId,type:e.type,title:e.title,message:e.message,reference_id:e.referenceId,reference_type:e.referenceType,is_read:!1});return r?(console.error("Failed to create notification:",r),!1):!0}catch(r){return console.error("Notification service error:",r),!1}}const d={async proposalViewed(e,r,t,n){return i({companyId:e,type:"proposal_viewed",title:"Proposal Viewed",message:`${t} viewed your proposal "${r}"`,referenceId:n,referenceType:"quote"})},async proposalSigned(e,r,t,n){return i({companyId:e,type:"proposal_signed",title:"Proposal Signed! üéâ",message:`${t} has signed the proposal "${r}"`,referenceId:n,referenceType:"quote"})},async proposalDeclined(e,r,t,n){return i({companyId:e,type:"proposal_declined",title:"Proposal Declined",message:`${t} has declined the proposal "${r}"`,referenceId:n,referenceType:"quote"})},async invoiceViewed(e,r,t,n){return i({companyId:e,type:"invoice_viewed",title:"Invoice Viewed",message:`${t} viewed invoice ${r}`,referenceId:n,referenceType:"invoice"})},async invoiceSent(e,r,t,n){return i({companyId:e,type:"invoice_sent",title:"Invoice Sent",message:`Invoice ${r} was sent to ${t}`,referenceId:n,referenceType:"invoice"})},async invoicePaid(e,r,t,n,c){return i({companyId:e,type:"invoice_paid",title:"Invoice Paid! üí∞",message:`${t} paid ${n} for invoice ${r}`,referenceId:c,referenceType:"invoice"})},async invoiceOverdue(e,r,t,n,c){return i({companyId:e,type:"invoice_overdue",title:"Invoice Overdue",message:`Invoice ${r} for ${t} is ${n} day${n!==1?"s":""} overdue`,referenceId:c,referenceType:"invoice"})},async paymentReceived(e,r,t,n,c){return i({companyId:e,type:"payment_received",title:"Payment Received",message:`Received ${n} from ${t} for invoice ${r}`,referenceId:c,referenceType:"invoice"})},async projectCreated(e,r,t,n){return i({companyId:e,type:"project_created",title:"Project Created üöÄ",message:`New project "${r}" created for ${t}`,referenceId:n,referenceType:"project"})},async projectCompleted(e,r,t,n){return i({companyId:e,type:"project_completed",title:"Project Completed! ‚úÖ",message:`Project "${r}" for ${t} has been completed`,referenceId:n,referenceType:"project"})},async budgetWarning(e,r,t,n){return i({companyId:e,type:"budget_warning",title:"Budget Warning ‚ö†Ô∏è",message:`Project "${r}" has used ${t}% of its budget`,referenceId:n,referenceType:"project"})},async newClientAdded(e,r,t){return i({companyId:e,type:"new_client_added",title:"New Client Added",message:`${r} has been added to your clients`,referenceId:t,referenceType:"client"})}};export{d as N};
